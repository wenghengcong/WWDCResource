1
00:00:07,516 --> 00:00:15,500
[ 音乐 ]


2
00:00:21,516 --> 00:00:24,546
[ 掌声 ]


3
00:00:25,046 --> 00:00:27,986
>> 各位 下午好


4
00:00:29,536 --> 00:00:30,756
好的


5
00:00:31,116 --> 00:00:32,896
我希望你们到目前为止


6
00:00:32,936 --> 00:00:33,356
仍在享受着 WWDC


7
00:00:33,356 --> 00:00:34,636
我知道 过去的这个星期是令人激动的


8
00:00:34,636 --> 00:00:36,336
一个星期 各种公告


9
00:00:36,336 --> 00:00:38,496
新功能 软件更新 开发者工具 接踵而来


10
00:00:39,196 --> 00:00:41,706
我的名字是 Shloka Kini


11
00:00:41,706 --> 00:00:43,256
我在开发者出版物部门任职


12
00:00:43,256 --> 00:00:46,066
也就是说 借一句 Cardi B. 的歌词


13
00:00:46,066 --> 00:00:48,976
“我现在不仅编程” “还要写文件”


14
00:00:49,516 --> 00:00:51,886
[ 笑声 ]


15
00:00:52,386 --> 00:00:53,896
尤其是撰写


16
00:00:53,896 --> 00:00:55,606
能够帮助你们编出精彩 App 的


17
00:00:55,606 --> 00:00:56,286
说明文档


18
00:00:57,476 --> 00:00:58,956
今天 我有幸向大家介绍


19
00:00:58,956 --> 00:01:01,596
一些 Safari 和 WebKit 的新功能


20
00:01:01,756 --> 00:01:03,486
所以 如果你在设计网站


21
00:01:03,486 --> 00:01:06,926
并且想应用最新的网络科技


22
00:01:06,926 --> 00:01:08,836
最新版本的 Safari


23
00:01:08,836 --> 00:01:09,336
那这场演讲正适合你


24
00:01:09,816 --> 00:01:12,426
如果你是一名使用网页视图的 App 开发人员


25
00:01:12,496 --> 00:01:14,876
或者是扩展程序的开发人员


26
00:01:14,876 --> 00:01:15,856
这场演讲也会对你有所帮助


27
00:01:16,376 --> 00:01:17,486
还有 哪怕你并不在


28
00:01:17,486 --> 00:01:18,476
我刚才提到的任何一个领域内任职


29
00:01:18,476 --> 00:01:20,136
你依然应该坐下来听听


30
00:01:20,136 --> 00:01:21,726
因为 Safari 的最新版本


31
00:01:21,726 --> 00:01:23,036
拥有一些非常棒的功能


32
00:01:23,036 --> 00:01:24,466
能够提升你的浏览体验


33
00:01:25,226 --> 00:01:28,076
现在 已经出现了很多


34
00:01:28,076 --> 00:01:29,936
很多新的改进


35
00:01:29,936 --> 00:01:31,256
尤其是我们举办了 What's New 演讲之后


36
00:01:31,256 --> 00:01:32,626
不过今天 


37
00:01:32,626 --> 00:01:34,046
我将着重介绍其中的一部分改进


38
00:01:34,046 --> 00:01:35,936
它们真的能帮你写出安全的 


39
00:01:36,956 --> 00:01:38,156
具有良好性能的 App


40
00:01:38,156 --> 00:01:39,986
融入最新的科技 以得到最丰富的体验


41
00:01:40,266 --> 00:01:41,766
而且 它们中的很多都是免费的


42
00:01:42,476 --> 00:01:44,616
那么 让我们从安全开始讲起


43
00:01:44,926 --> 00:01:49,496
还有一些公告声明 WKWebView


44
00:01:49,496 --> 00:01:50,856
我知道你们在想什么


45
00:01:50,956 --> 00:01:53,096
WKWebView 自从 2014 年起


46
00:01:53,096 --> 00:01:57,956
就出现了 严格来讲


47
00:01:57,956 --> 00:01:58,086
它不是新事物


48
00:01:58,786 --> 00:02:00,316
然而 它还是值得再次被提起


49
00:02:00,316 --> 00:02:03,976
因为现在我们正式地反对 UIWebView 


50
00:02:04,516 --> 00:02:08,996
[ 掌声 ]


51
00:02:09,496 --> 00:02:10,806
所以 如果你正在编写一个新的 App


52
00:02:10,806 --> 00:02:12,486
或者一个新的项目


53
00:02:12,486 --> 00:02:13,996
你想要展示一些 web 内容


54
00:02:13,996 --> 00:02:16,346
但它们很难以原生视图展示


55
00:02:16,346 --> 00:02:18,426
请使用 WKWebView


56
00:02:18,916 --> 00:02:21,806
另外 即便你以前使用过 UIWebView


57
00:02:21,806 --> 00:02:22,936
转换也并不困难


58
00:02:23,516 --> 00:02:25,916
如果你是在 macOS 和 iOS 两个平台同时进行


59
00:02:25,916 --> 00:02:27,596
开发工作 它绝对可以在开发 App 方面帮你节省时间


60
00:02:27,596 --> 00:02:31,796
因为 WKWebView 在两个平台都适用


61
00:02:32,216 --> 00:02:34,396
而 UIWebView 是针对 iOS 的 


62
00:02:34,476 --> 00:02:35,336
WebView 则是针对 macOS 的


63
00:02:35,336 --> 00:02:37,396
所以 你可以共享很多的程序代码


64
00:02:37,396 --> 00:02:38,526
在这两个版本之间


65
00:02:39,926 --> 00:02:41,946
另外 WKWebView 也能


66
00:02:41,946 --> 00:02:43,436
在一个完全单独的过程中运行


67
00:02:43,436 --> 00:02:44,646
独立于你 App 的其他部分


68
00:02:44,766 --> 00:02:46,936
所以 和 UIWebView 不同


69
00:02:46,936 --> 00:02:48,746
即使你的 web 进程受到损害


70
00:02:49,086 --> 00:02:50,816
它也不会影响你的 App


71
00:02:50,816 --> 00:02:52,386
如果你的网页视图有


72
00:02:52,456 --> 00:02:54,576
复杂的内容


73
00:02:54,576 --> 00:02:55,766
也不会使你的 App 意外中止


74
00:02:56,296 --> 00:02:58,626
而且 即使 WKWebView 崩溃了


75
00:02:59,726 --> 00:03:01,326
它也只局限于网页视图的框架内


76
00:03:01,796 --> 00:03:03,596
而非整个 App


77
00:03:03,596 --> 00:03:05,816
WKWebView 能够提供安全方面的优势


78
00:03:05,816 --> 00:03:07,536
同时保证你的 App 


79
00:03:07,586 --> 00:03:08,936
性能卓越 值得信赖


80
00:03:09,466 --> 00:03:10,696
所以 不管转换到 WKWebView 是复杂还是简单


81
00:03:10,696 --> 00:03:12,546
你从中得到的种种好处


82
00:03:12,546 --> 00:03:14,766
都令人觉得 这种改变是值得的


83
00:03:15,316 --> 00:03:18,556
接下来的一个声明包含扩展


84
00:03:18,756 --> 00:03:20,946
不过拓展 Safari 


85
00:03:20,946 --> 00:03:24,476
我的意思是 它在过去这些年来


86
00:03:24,576 --> 00:03:25,716
已经改进了很多


87
00:03:26,446 --> 00:03:27,736
那么 我们一开始就先快速


88
00:03:27,736 --> 00:03:31,336
回顾一下 Safari 扩展的历史


89
00:03:32,116 --> 00:03:34,066
在 2010 年 在我们建立起


90
00:03:34,246 --> 00:03:35,496
App 可扩展性的平台概念之前


91
00:03:35,646 --> 00:03:39,486
当时只有最初版本 Safari 扩展


92
00:03:40,106 --> 00:03:42,096
那些是 Safari EXTZ 文档


93
00:03:42,096 --> 00:03:43,876
你可以在 Safari Extensions Builder


94
00:03:43,876 --> 00:03:44,816
中建立这些文档


95
00:03:45,266 --> 00:03:46,216
它们可以通过 Safari Extensions Gallery 库


96
00:03:46,216 --> 00:03:47,466
被分配出去


97
00:03:47,466 --> 00:03:49,116
或者 在一些不常见的例子中


98
00:03:49,116 --> 00:03:51,036
直接被开发人员分配出去


99
00:03:51,986 --> 00:03:53,476
这些最初版本的扩展


100
00:03:53,476 --> 00:03:55,216
都具有不可思议的强大威力


101
00:03:55,256 --> 00:03:56,666
因为它们能获取你所有的


102
00:03:56,666 --> 00:03:59,056
浏览数据


103
00:03:59,056 --> 00:04:00,896
你也会因此变得更“受欢迎”


104
00:04:00,896 --> 00:04:01,406
尤其易受诈骗和恶意软件的侵扰


105
00:04:02,236 --> 00:04:03,556
我们需要去建立一个安全防火墙


106
00:04:03,556 --> 00:04:04,876
那就是为什么我们没有


107
00:04:04,876 --> 00:04:06,546
在最初版本的 Safari 扩展那里


108
00:04:06,546 --> 00:04:07,136
停止工作


109
00:04:07,136 --> 00:04:09,046
那么 我们故事发展的下一个里程碑


110
00:04:09,046 --> 00:04:12,036
出现在 2014 年


111
00:04:12,036 --> 00:04:13,976
那时 我们为 macOS 和 iOS 两个平台都


112
00:04:13,976 --> 00:04:15,536
建立了 App 可扩展性能


113
00:04:15,756 --> 00:04:18,875
不过 App 扩展是


114
00:04:18,875 --> 00:04:22,106
扩展 App 的一种方式 而不是 Safari 的扩展方式


115
00:04:22,336 --> 00:04:24,126
但重要的是 这个举动极大地改变了


116
00:04:24,126 --> 00:04:25,436
我们对于扩展的理解


117
00:04:25,436 --> 00:04:26,996
在苹果的各个平台上


118
00:04:27,486 --> 00:04:29,096
在这里 你可以明确地扩展系统


119
00:04:29,096 --> 00:04:30,306
与此同时 用户可以


120
00:04:30,346 --> 00:04:32,356
与其他 App 进行互动


121
00:04:32,356 --> 00:04:33,616
而且和 App 一样


122
00:04:33,616 --> 00:04:34,496
它们可以建立在 Xcode 开发环境下


123
00:04:35,236 --> 00:04:37,936
由于这个更好的扩展模型的出现


124
00:04:37,936 --> 00:04:39,226
我们想要将这些概念中的一部分


125
00:04:39,516 --> 00:04:41,656
在返回到最初版本 Safari 扩展中进行应用


126
00:04:41,656 --> 00:04:45,986
而在当时 最受欢迎的一些是广告拦截器


127
00:04:46,596 --> 00:04:48,506
于是 我们在 2015 年引入了


128
00:04:48,506 --> 00:04:50,306
内容拦截器


129
00:04:51,046 --> 00:04:52,506
内容拦截器是一种在 Xcode 开发环境下


130
00:04:52,506 --> 00:04:54,446
的 App 扩展


131
00:04:54,556 --> 00:04:56,466
它在 macOS 和 iOS 系统下都能够使用


132
00:04:57,106 --> 00:04:58,386
它们所拥有的特殊结构


133
00:04:58,386 --> 00:04:59,086
令其可以快速运行


134
00:04:59,786 --> 00:05:01,646
因此 任何内容拦截器


135
00:05:01,646 --> 00:05:03,176
在拦截方面都比


136
00:05:03,176 --> 00:05:04,606
任何最初版本 Safari 扩展都要快速


137
00:05:05,376 --> 00:05:06,456
它们不会降低


138
00:05:06,556 --> 00:05:08,236
浏览速度的能力


139
00:05:08,286 --> 00:05:09,906
而且保护隐私 因为这些扩展


140
00:05:09,906 --> 00:05:11,666
永远看不到你的用户在


141
00:05:11,666 --> 00:05:12,386
浏览什么网页


142
00:05:13,296 --> 00:05:14,876
在这一点上


143
00:05:14,876 --> 00:05:16,516
App 扩展模型提供了如此多的


144
00:05:16,516 --> 00:05:17,976
性能优势 于是我们想


145
00:05:18,316 --> 00:05:19,536
或许我们能把这些概念


146
00:05:19,536 --> 00:05:20,996
带回到最初版本


147
00:05:20,996 --> 00:05:22,686
Safari 扩展 


148
00:05:22,686 --> 00:05:23,946
那样我们就能在两方面都得到最佳结果


149
00:05:24,896 --> 00:05:26,416
一个能够扩展 Safari 功能性


150
00:05:26,416 --> 00:05:28,956
的扩展功能 同样它也能


151
00:05:28,956 --> 00:05:30,866
扩展你的 App


152
00:05:30,866 --> 00:05:31,276
令它能和 Safari 对话


153
00:05:31,276 --> 00:05:34,666
基于此在 2016 年 为 macOS 系统开发的


154
00:05:34,666 --> 00:05:37,016
新版 Safari App 扩展问世了


155
00:05:37,186 --> 00:05:39,066
这种扩展 Safari App 的方式


156
00:05:39,066 --> 00:05:40,296
能够在 Xcode 的环境下进行编写


157
00:05:40,726 --> 00:05:42,236
同时 不同于以往的 App 扩展


158
00:05:42,456 --> 00:05:43,366
这次你可以通过 App store 获得 App 扩展


159
00:05:43,606 --> 00:05:46,396
也就是说 这些扩展可以是免费的


160
00:05:46,396 --> 00:05:46,646
也可以是收费的


161
00:05:46,816 --> 00:05:48,406
无论是使用哪种方式


162
00:05:48,406 --> 00:05:49,076
你都不需要自己买单


163
00:05:50,446 --> 00:05:52,226
因此 与 2010 年的最初版本扩展相比


164
00:05:52,226 --> 00:05:54,486
内容拦截器与


165
00:05:54,486 --> 00:05:55,666
Safari App 扩展


166
00:05:55,666 --> 00:05:57,146
具有非常大的优势


167
00:05:57,556 --> 00:05:58,806
所以 你最应该做的事情就是


168
00:05:58,806 --> 00:06:00,116
如果你还在使用最初版本的


169
00:06:00,116 --> 00:06:03,736
Safari 扩展 赶紧切换到 Safari App 扩展


170
00:06:03,806 --> 00:06:05,086
同样 如果你还在使用广告拦截器


171
00:06:05,086 --> 00:06:07,086
请切换到内容拦截器


172
00:06:07,866 --> 00:06:08,996
现在 我们已经将这些工作全部完成


173
00:06:08,996 --> 00:06:11,136
我们还能用最初版本的


174
00:06:11,136 --> 00:06:13,396
Safari 扩展做什么呢


175
00:06:13,396 --> 00:06:14,266
难道去诈骗吗


176
00:06:14,936 --> 00:06:17,566
从 Safari 12 开始


177
00:06:17,566 --> 00:06:19,556
我们已经正式停止了对


178
00:06:19,556 --> 00:06:21,376
Safari Extensions Gallery 之外的


179
00:06:21,376 --> 00:06:23,666
旧版扩展的支持


180
00:06:24,636 --> 00:06:26,126
旧版的扩展仍然可以


181
00:06:26,126 --> 00:06:28,896
在 Safari 12 中使用 


182
00:06:28,956 --> 00:06:29,796
只要它们还在 Gallery 库里


183
00:06:31,066 --> 00:06:32,316
唯一的例外是


184
00:06:32,316 --> 00:06:33,986
那些使用被弃用的 Can Load API 的扩展


185
00:06:34,036 --> 00:06:36,666
我们将其默认为关闭状态


186
00:06:37,436 --> 00:06:38,566
我们将继续接受


187
00:06:38,786 --> 00:06:40,466
对 Gallery 库的申请 


188
00:06:40,466 --> 00:06:41,706
直到 2018 年年底为止


189
00:06:42,426 --> 00:06:44,106
不过 我们将在接下来的一年时间里提供


190
00:06:44,136 --> 00:06:46,406
更多的更新同时


191
00:06:46,406 --> 00:06:48,386
将最终完成向 Safari App 扩展


192
00:06:48,716 --> 00:06:50,166
的彻底转型


193
00:06:50,526 --> 00:06:52,066
因此 现在你最该要做的事情就是


194
00:06:52,246 --> 00:06:53,166
赶紧学会如何在这两种模型下


195
00:06:53,166 --> 00:06:54,626
开发扩展 App


196
00:06:54,936 --> 00:06:56,106
那么 怎么学习呢


197
00:06:56,376 --> 00:06:59,586
请查看教学文档 在此感谢开发人员


198
00:06:59,586 --> 00:06:59,976
出版物部门


199
00:07:00,516 --> 00:07:07,076
[ 掌声 ]


200
00:07:07,576 --> 00:07:09,076
到现在为止 我们已经宣布完了两条


201
00:07:09,076 --> 00:07:11,316
针对使用 WebViews 的本体开发人员


202
00:07:11,316 --> 00:07:12,866
以及扩展开发人员


203
00:07:12,866 --> 00:07:14,376
的最重要的公告


204
00:07:14,376 --> 00:07:15,656
这些功能的其余部分


205
00:07:15,716 --> 00:07:17,906
主要是关于如何进行 web 开发


206
00:07:18,346 --> 00:07:20,756
下面 让我们从子资源的完整性开始说起


207
00:07:21,626 --> 00:07:23,286
现在 作为一名开发人员 你可能


208
00:07:23,356 --> 00:07:26,596
通过 HTTPS 连接 向用户输送你的内容


209
00:07:26,596 --> 00:07:28,546
并且 由此产生的内容


210
00:07:28,676 --> 00:07:31,056
可能还包含由第三方服务器发布的


211
00:07:31,056 --> 00:07:33,356
部分内容


212
00:07:33,356 --> 00:07:34,696
比如一个内容输送网络


213
00:07:35,576 --> 00:07:36,876
这两个连接可能都是


214
00:07:36,876 --> 00:07:39,316
安全可靠的 可能都使用 HTTPS 


215
00:07:39,806 --> 00:07:40,906
这也就意味着你保有


216
00:07:41,126 --> 00:07:43,156
机密性 身份验证信息


217
00:07:43,156 --> 00:07:45,216
以及传输数据的完整性


218
00:07:45,826 --> 00:07:48,326
但是 万一第三方服务器本身


219
00:07:48,326 --> 00:07:51,726
受损害了怎么办 这也不是没有可能


220
00:07:52,296 --> 00:07:54,526
在这种情况下  HTTPS 连接


221
00:07:54,526 --> 00:07:56,256
仅能够确保连接


222
00:07:56,256 --> 00:07:58,816
但它不能确保服务器没有受损


223
00:07:59,436 --> 00:08:01,356
它可以修改脚本


224
00:08:01,356 --> 00:08:03,086
同时变换你提供给用户的样式


225
00:08:03,086 --> 00:08:05,026
在第三方服务器受到损害的情况下


226
00:08:06,156 --> 00:08:08,076
子资源的完整性将保证


227
00:08:08,076 --> 00:08:10,936
你不会给你的用户 提供受到损坏的脚本


228
00:08:10,936 --> 00:08:12,076
那么 这是如何完成的呢


229
00:08:12,396 --> 00:08:13,566
通过哈希算法


230
00:08:14,256 --> 00:08:15,626
首先 你需要添加一个完整性属性


231
00:08:15,626 --> 00:08:17,196
到一个脚本或者链接元素


232
00:08:17,196 --> 00:08:18,306
在你的标记语言中


233
00:08:18,826 --> 00:08:20,316
这个属性的数值是一个 hash


234
00:08:20,476 --> 00:08:21,786
你使用安全的哈希算法


235
00:08:21,786 --> 00:08:22,986
去创建这个 hash


236
00:08:23,306 --> 00:08:24,996
当一个用户抓取了文件


237
00:08:25,286 --> 00:08:26,886
那么另一个 hash 也就计算了出来


238
00:08:27,116 --> 00:08:28,456
比较这两个 hash


239
00:08:28,456 --> 00:08:30,096
如果它们不相同 则你的脚本


240
00:08:30,096 --> 00:08:31,106
将不能被执行


241
00:08:31,846 --> 00:08:33,826
这一过程确保


242
00:08:33,826 --> 00:08:35,535
脚本在受损的情况下


243
00:08:35,535 --> 00:08:36,076
将不会被执行


244
00:08:36,456 --> 00:08:38,616
除非它们和你预期的相匹配


245
00:08:38,616 --> 00:08:41,476
不然你的脚本将不会被执行


246
00:08:42,376 --> 00:08:43,726
当然 为了保证你不会丢失掉


247
00:08:43,756 --> 00:08:45,306
功能性 你还可以


248
00:08:45,306 --> 00:08:47,316
提供一个回退处理用于重新加载


249
00:08:47,316 --> 00:08:49,026
服务器里面的资源


250
00:08:49,026 --> 00:08:50,676
在第三方服务器脚本


251
00:08:50,936 --> 00:08:51,896
不能执行的前提下


252
00:08:52,446 --> 00:08:55,516
现在 阻止受损的资源


253
00:08:55,516 --> 00:08:57,636
不让它们去执行


254
00:08:57,816 --> 00:08:58,706
就能确保用户的安全


255
00:08:59,086 --> 00:09:01,816
而且 智能跟踪预防法可以保证浏览


256
00:09:01,816 --> 00:09:02,786
体验的隐私性


257
00:09:03,296 --> 00:09:04,376
好的 我知道你们可能听说过


258
00:09:04,376 --> 00:09:05,826
智能跟踪预防法这个词


259
00:09:05,946 --> 00:09:06,626
在 Keynote 上


260
00:09:06,676 --> 00:09:08,386
这是 Safari 的一个功能


261
00:09:08,386 --> 00:09:10,326
它可以降低交叉网站的跟踪度


262
00:09:10,326 --> 00:09:12,126
通过限制带有跟踪能力的


263
00:09:12,126 --> 00:09:13,836
cookies 和网站关于域的数据的方式


264
00:09:14,416 --> 00:09:15,636
另外 在之前的版本中


265
00:09:15,906 --> 00:09:17,966
cookies 是通过两个规则来保留的


266
00:09:18,396 --> 00:09:19,996
第一个规则是 cookies 可以在用户与第一方


267
00:09:19,996 --> 00:09:22,276
产生互动的 24 小时内


268
00:09:22,586 --> 00:09:25,446
被第三方所使用


269
00:09:25,916 --> 00:09:28,166
第二个原则是 在 Safari 使用的 30 天内


270
00:09:28,166 --> 00:09:30,336
包括最初的 24 小时


271
00:09:30,336 --> 00:09:31,806
那些 cookies 将被


272
00:09:31,836 --> 00:09:33,856
单独存储


273
00:09:33,856 --> 00:09:34,556
然后才被删除


274
00:09:34,966 --> 00:09:37,936
不过 现在我们正在加强对它的控制


275
00:09:38,806 --> 00:09:40,856
我们正在移除对于一般 cookie 的


276
00:09:40,856 --> 00:09:42,516
24 小时接触窗口


277
00:09:42,516 --> 00:09:44,036
针对带有跨站点追踪能力的域


278
00:09:45,316 --> 00:09:47,806
不过 默认的情况是 所有的 cookies


279
00:09:47,806 --> 00:09:49,786
都被单独存储


280
00:09:49,946 --> 00:09:51,596
作为开发人员 我清楚经过可靠验证的嵌入


281
00:09:51,596 --> 00:09:53,786
是非常重要的 


282
00:09:54,006 --> 00:09:55,546
对于你们的工作流以及


283
00:09:55,546 --> 00:09:57,036
与 web 内容的互动来说


284
00:09:57,686 --> 00:09:58,666
那么 你怎么才能准许


285
00:09:59,036 --> 00:09:59,976
经过可靠验证的嵌入呢


286
00:10:01,656 --> 00:10:04,156
那就是 使用 Storage Access API


287
00:10:04,916 --> 00:10:08,056
使用了 Storage Access API


288
00:10:08,056 --> 00:10:10,116
每当出现一个带有跨站点追踪的域


289
00:10:10,206 --> 00:10:11,446
它希望在第三方背景下


290
00:10:11,496 --> 00:10:13,006
获得 cookie


291
00:10:13,006 --> 00:10:14,826
那么你需要


292
00:10:14,826 --> 00:10:16,866
提出存储访问的请求


293
00:10:17,436 --> 00:10:19,016
如果用户以前没有授权同意访问 


294
00:10:19,016 --> 00:10:20,766
就会出现提示框


295
00:10:20,766 --> 00:10:22,616
询问用户是否允许


296
00:10:22,616 --> 00:10:25,256
在这个站点


297
00:10:25,686 --> 00:10:26,596
去访问 cookie


298
00:10:27,486 --> 00:10:29,036
通过让用户给出


299
00:10:29,106 --> 00:10:31,026
明确的是否允许访问 cookie 的意见


300
00:10:31,026 --> 00:10:33,306
我们赋予了用户去


301
00:10:33,366 --> 00:10:35,096
管控自己的 cookies 以及


302
00:10:35,136 --> 00:10:36,406
哪些网站可以进行追踪的权力


303
00:10:36,886 --> 00:10:38,026
令他们的浏览体验


304
00:10:38,026 --> 00:10:41,046
更加具有私密性


305
00:10:41,046 --> 00:10:41,356
如果他们愿意的话


306
00:10:42,136 --> 00:10:45,386
接下来 我们来谈谈


307
00:10:45,386 --> 00:10:47,166
使用自动填充强密码


308
00:10:47,246 --> 00:10:48,106
进行身份验证


309
00:10:48,106 --> 00:10:50,556
我相信你们已经在 State of the Union


310
00:10:50,586 --> 00:10:51,636
以及几天前的演讲中看过这个了


311
00:10:51,906 --> 00:10:53,436
自动填充强密码是一个


312
00:10:53,436 --> 00:10:55,296
能够保证用户


313
00:10:55,296 --> 00:10:58,526
选择并存储强密码的方法


314
00:10:58,756 --> 00:10:59,896
当他们在设置


315
00:10:59,896 --> 00:11:00,356
新账户的时候


316
00:11:00,996 --> 00:11:02,066
并且 这个功能其实对每个人都好


317
00:11:02,066 --> 00:11:03,926
我是说 我喜欢把自己想象成


318
00:11:03,926 --> 00:11:05,416
一个愿意选择使用


319
00:11:05,416 --> 00:11:06,866
强密码的人


320
00:11:06,866 --> 00:11:08,716
但是一段时间过后


321
00:11:08,716 --> 00:11:10,746
我会逐渐发现我的密码 并没有想象中那么强


322
00:11:11,256 --> 00:11:12,376
而且我可能已经在


323
00:11:12,376 --> 00:11:13,066
好几处地方用过它了


324
00:11:14,276 --> 00:11:15,666
对于大多数开发者来说


325
00:11:15,666 --> 00:11:16,886
你不要费力就可以享用


326
00:11:16,886 --> 00:11:18,436
这个功能 因为启发式算法会


327
00:11:18,436 --> 00:11:20,156
判断你是在注册账户


328
00:11:20,156 --> 00:11:21,056
还是在登录页面


329
00:11:21,526 --> 00:11:23,186
不过 为了保证这个管用


330
00:11:23,566 --> 00:11:26,376
无论登录流程是怎样的


331
00:11:26,376 --> 00:11:28,086
需要把 AutoComplete 属性添加到


332
00:11:28,086 --> 00:11:29,446
适当的那些输入栏中


333
00:11:30,226 --> 00:11:32,516
现在 我们默认选择的强密码


334
00:11:32,516 --> 00:11:34,466
是长度为 20 个字符


335
00:11:34,466 --> 00:11:35,926
包括大写字母


336
00:11:36,276 --> 00:11:38,086
和小写的字母


337
00:11:38,566 --> 00:11:39,426
数字和连字符号


338
00:11:40,306 --> 00:11:41,436
虽然这项功能被设计成能够


339
00:11:41,436 --> 00:11:42,466
和大多数服务兼容


340
00:11:42,466 --> 00:11:43,846
我们也承认


341
00:11:44,196 --> 00:11:45,986
有些时候你的密码需要


342
00:11:45,986 --> 00:11:47,916
符合某些特定的要求


343
00:11:47,916 --> 00:11:49,566
才能与后台系统兼容


344
00:11:50,136 --> 00:11:51,516
正因为这个原因


345
00:11:51,586 --> 00:11:53,486
你可以添加一个 passwordRules 属性


346
00:11:53,486 --> 00:11:55,236
到你的文本元素中去


347
00:11:55,236 --> 00:11:56,686
来详细说明那些要求


348
00:11:57,176 --> 00:11:58,396
另外 在开发者站点


349
00:11:58,486 --> 00:11:59,816
有一个密码验证工具


350
00:11:59,816 --> 00:12:02,766
帮你去测试自动填充强密码的兼容性


351
00:12:02,766 --> 00:12:04,686
并开发出


352
00:12:04,856 --> 00:12:06,646
你自己的密码规则


353
00:12:08,396 --> 00:12:09,776
另一项在 State of the Union 中提到的


354
00:12:09,776 --> 00:12:11,736
功能是


355
00:12:11,786 --> 00:12:13,316
Security Code AutoFill


356
00:12:13,346 --> 00:12:14,656
这是另一项大多数人都将能够


357
00:12:14,656 --> 00:12:15,336
免费获取的功能


358
00:12:15,766 --> 00:12:17,136
这项功能我会加以好好利用


359
00:12:17,136 --> 00:12:18,936
因为我发现


360
00:12:18,936 --> 00:12:20,256
不停转换是件很麻烦的事


361
00:12:20,286 --> 00:12:22,536
在我的 App 和 网站之间


362
00:12:22,536 --> 00:12:24,076
还有信息 还要为代码


363
00:12:24,076 --> 00:12:25,636
寻找那些数字


364
00:12:25,636 --> 00:12:27,126
将它输入进去并尝试记住它


365
00:12:27,456 --> 00:12:29,096
那么 让 Safari 计算出


366
00:12:29,466 --> 00:12:30,916
我该在什么时候输入安全代码


367
00:12:30,916 --> 00:12:32,246
然后在快速输入栏中


368
00:12:32,246 --> 00:12:33,106
进行提示


369
00:12:33,376 --> 00:12:35,556
这样会让过程更加便捷


370
00:12:36,346 --> 00:12:38,206
而且 就像从前一样


371
00:12:38,256 --> 00:12:40,206
你能免费得到这项功能


372
00:12:40,356 --> 00:12:41,666
因为它使用的是启发式算法


373
00:12:41,666 --> 00:12:43,246
不过为了确保这些算法能够正确运行


374
00:12:43,246 --> 00:12:44,786
并且你能在快速输入栏里


375
00:12:44,846 --> 00:12:47,596
获得提示 将输入区域


376
00:12:47,596 --> 00:12:50,896
的 AutoComplete 属性标记为


377
00:12:51,026 --> 00:12:51,596
one-time code value


378
00:12:52,266 --> 00:12:55,426
想了解更多的话 希望你们能在线查看 


379
00:12:55,476 --> 00:12:56,936
Automatic Strong Passwords 以及


380
00:12:56,936 --> 00:12:58,956
Security Code AutoFill 的板块


381
00:12:59,526 --> 00:13:01,946
好 这就说完了安全问题


382
00:13:02,666 --> 00:13:04,556
刚刚我们谈了更换到 WKWebView


383
00:13:04,556 --> 00:13:05,966
然后聊了 Safari App 扩展的


384
00:13:05,966 --> 00:13:07,346
内容拦截器


385
00:13:07,716 --> 00:13:09,476
还有自资源完整性能够


386
00:13:09,476 --> 00:13:10,886
自动防故障 确保你不会


387
00:13:10,886 --> 00:13:12,406
向用户提供受损的脚本


388
00:13:12,406 --> 00:13:14,566
还有智能追踪预防法


389
00:13:14,566 --> 00:13:16,146
它通过 Storage Access API 改善用户的


390
00:13:16,146 --> 00:13:17,406
隐私


391
00:13:17,506 --> 00:13:19,126
然后 用自动填充强密码


392
00:13:19,126 --> 00:13:20,536
还有 security code AutoFill


393
00:13:20,536 --> 00:13:22,266
你可以向用户提供


394
00:13:22,266 --> 00:13:25,056
安全便捷的功能


395
00:13:25,186 --> 00:13:30,806
咻 感谢你们还留在这里


396
00:13:30,806 --> 00:13:32,596
好的 那就让我们继续吧


397
00:13:32,666 --> 00:13:34,146
来谈谈有关性能的各种功能


398
00:13:34,176 --> 00:13:36,086
先从字体集合说起


399
00:13:36,826 --> 00:13:39,376
对了 如果你错过了这场演讲的开场


400
00:13:39,376 --> 00:13:41,856
我的名字是 Shloka Kini


401
00:13:41,856 --> 00:13:44,976
这不是一个盎格鲁-撒克逊式的名字


402
00:13:46,276 --> 00:13:48,026
然后 这里是我的名和姓氏


403
00:13:48,026 --> 00:13:49,856
是以印度语中的梵文天城体


404
00:13:49,856 --> 00:13:51,486
来书写的


405
00:13:51,926 --> 00:13:53,616
用多种字体 不同的粗细


406
00:13:53,616 --> 00:13:55,976
和样式 但都是同一组文字内容


407
00:13:56,776 --> 00:13:58,476
今年起 我们开始支持


408
00:13:58,476 --> 00:14:00,566
WOFF 2 和 TrueType


409
00:14:00,566 --> 00:14:01,046
字体集合


410
00:14:01,656 --> 00:14:03,496
将相关字体捆绑在


411
00:14:03,496 --> 00:14:05,076
在单个集合文件内


412
00:14:05,316 --> 00:14:07,076
可以消除字符映射


413
00:14:07,076 --> 00:14:08,796
的重复表格


414
00:14:08,796 --> 00:14:10,746
举例来说 我们的一种内置字体


415
00:14:10,746 --> 00:14:13,626
PingFang 在使用集合后


416
00:14:13,626 --> 00:14:15,286
文件大小


417
00:14:15,286 --> 00:14:16,046
减少了 84％


418
00:14:16,846 --> 00:14:17,826
字体集合能够


419
00:14:17,826 --> 00:14:19,736
大大地减少


420
00:14:19,736 --> 00:14:21,136
你的字体文件的大小


421
00:14:21,136 --> 00:14:23,296
因为不同字体对于同样的字母集合


422
00:14:23,296 --> 00:14:23,956
共享了同一个表格


423
00:14:24,536 --> 00:14:27,226
下一项要介绍的功能是


424
00:14:27,226 --> 00:14:29,776
字体展示 对于大多数开发者来说


425
00:14:29,956 --> 00:14:30,826
无需做出改变


426
00:14:31,126 --> 00:14:32,826
本质上来说 如果你有使用


427
00:14:32,826 --> 00:14:34,746
自定义字体的 web 内容


428
00:14:35,146 --> 00:14:36,576
不管出于什么原因 你的用户


429
00:14:36,576 --> 00:14:38,496
看不到它们


430
00:14:38,496 --> 00:14:40,116
默认情况下 我们会为文本


431
00:14:40,276 --> 00:14:42,076
留出最多三秒的空白占位符


432
00:14:42,156 --> 00:14:44,386
在显示字体之前


433
00:14:44,386 --> 00:14:46,206
以保持屏幕上


434
00:14:46,206 --> 00:14:48,376
所有内容的位置


435
00:14:48,826 --> 00:14:51,166
但是 如果这个默认的选项


436
00:14:51,166 --> 00:14:52,686
不适合你


437
00:14:52,686 --> 00:14:54,006
并且你对于那三秒内会发生什么


438
00:14:54,006 --> 00:14:55,616
想拥有更多的控制


439
00:14:55,616 --> 00:14:57,446
你可以使用


440
00:14:57,446 --> 00:14:59,136
字体显示描述器


441
00:14:59,806 --> 00:15:01,066
设定不同的数值


442
00:15:01,066 --> 00:15:02,396
你可以指定另一种字体


443
00:15:02,396 --> 00:15:04,286
作为备选 或者检查


444
00:15:04,286 --> 00:15:06,916
浏览器是否在缓存中有那种字体


445
00:15:09,316 --> 00:15:11,116
现在 你可以使用一个很酷的技巧


446
00:15:11,116 --> 00:15:12,446
来改善动画图像的性能


447
00:15:12,446 --> 00:15:15,366
那就是 使用视频


448
00:15:15,366 --> 00:15:18,386
我超爱我 Mac 笔记本背景中的


449
00:15:18,386 --> 00:15:20,726
彩色粉尘爆炸


450
00:15:20,726 --> 00:15:23,716
它真的很好看 但它是静态的


451
00:15:25,366 --> 00:15:27,746
我想要这个图案能“嘭” 爆炸


452
00:15:28,526 --> 00:15:29,796
我是说 我希望让它动起来


453
00:15:30,116 --> 00:15:31,066
我想要一个 GIF 动画


454
00:15:31,876 --> 00:15:33,306
但是 动画 GIF 需要更长的时间


455
00:15:33,306 --> 00:15:36,626
才能加载 而且耗费更多的电池电量 


456
00:15:36,666 --> 00:15:37,956
与展示同样内容的视频文件相比


457
00:15:37,956 --> 00:15:41,976
更能更差一些


458
00:15:42,176 --> 00:15:44,936
现在在 Safari 中 MP4 视频文件


459
00:15:44,936 --> 00:15:46,316
在图像元素中也能得到支持


460
00:15:46,316 --> 00:15:48,176
充分利用了苹果内置的


461
00:15:48,176 --> 00:15:49,606
硬件视频


462
00:15:49,606 --> 00:15:50,176
解码支持


463
00:15:50,906 --> 00:15:52,666
我的内容加载速度更快


464
00:15:52,666 --> 00:15:53,856
耗电量更少 性能也更好


465
00:15:53,856 --> 00:15:56,056
但我同样可以在


466
00:15:56,056 --> 00:15:58,886
CSS 背景图片的属性下


467
00:15:58,946 --> 00:15:59,386
使用 MP4


468
00:16:00,556 --> 00:16:01,446
如果你采用了这种技术


469
00:16:01,446 --> 00:16:03,706
只用最简单的方式


470
00:16:04,516 --> 00:16:05,876
你就可以得到一个新版本


471
00:16:05,876 --> 00:16:07,556
只是它无法与


472
00:16:07,556 --> 00:16:08,086
旧版浏览器兼容


473
00:16:08,726 --> 00:16:10,086
旧版的浏览器不支持


474
00:16:10,086 --> 00:16:11,286
MP4 和图像元素


475
00:16:11,646 --> 00:16:13,916
幸运的是 使用现有技术


476
00:16:13,916 --> 00:16:16,216
你可以指定一个备用图像用来替代显示


477
00:16:16,376 --> 00:16:19,466
在 MP4 无法运行的情况下


478
00:16:19,986 --> 00:16:22,636
各位请注意了


479
00:16:22,716 --> 00:16:25,876
现在我们要转向下一个话题


480
00:16:26,276 --> 00:16:26,926
事件监听器


481
00:16:27,306 --> 00:16:29,606
这又是一个


482
00:16:29,606 --> 00:16:31,476
拥有很好的默认设置的功能


483
00:16:31,476 --> 00:16:33,466
在特殊情况下还可以 有自定义的设置


484
00:16:34,556 --> 00:16:36,286
任何用户在尝试使用触摸屏


485
00:16:36,286 --> 00:16:37,536
浏览网页时


486
00:16:37,696 --> 00:16:39,096
他们需要滚动屏幕


487
00:16:39,096 --> 00:16:40,976
对于每一次滚动触摸


488
00:16:41,206 --> 00:16:42,896
触摸的事件监听器都会被触发


489
00:16:43,596 --> 00:16:45,506
这就会中断滚动触摸


490
00:16:45,506 --> 00:16:47,726
并造成它有一点跳动


491
00:16:48,576 --> 00:16:49,966
来看看这两个例子


492
00:16:50,726 --> 00:16:52,896
看 左边的一个与右边相比


493
00:16:52,946 --> 00:16:56,156
被中断干扰得要更严重


494
00:16:56,536 --> 00:16:57,606
我的意思是 它几乎没有移动


495
00:16:58,536 --> 00:17:00,966
那么 右边是哪里


496
00:17:01,306 --> 00:17:02,016
做对了呢


497
00:17:02,816 --> 00:17:03,946
因为它使用了


498
00:17:03,946 --> 00:17:04,366
被动事件监听器


499
00:17:04,965 --> 00:17:06,675
默认情况下 我们会在


500
00:17:06,675 --> 00:17:08,366
文档 窗口和主体元素上设置启动


501
00:17:08,366 --> 00:17:10,306
被动事件监听器


502
00:17:10,306 --> 00:17:11,675
这样一来 任何的触摸


503
00:17:11,675 --> 00:17:13,356
都会指示浏览器


504
00:17:13,826 --> 00:17:15,806
去继续滚动屏幕


505
00:17:15,866 --> 00:17:17,836
避免因为等待事件监听器完成任务


506
00:17:17,836 --> 00:17:19,146
而被中断


507
00:17:19,806 --> 00:17:21,445
如果你想要把事件监听器的


508
00:17:21,445 --> 00:17:22,726
其他元素也设置为被动


509
00:17:22,726 --> 00:17:24,546
你可以把那些


510
00:17:24,546 --> 00:17:25,935
事件监听器的


511
00:17:25,935 --> 00:17:27,935
被动属性 设置为 “true ”


512
00:17:28,816 --> 00:17:30,816
简单来说


513
00:17:30,886 --> 00:17:32,576
在不阻碍默认事件进行处理的情况下


514
00:17:32,576 --> 00:17:34,546
这个标志告诉浏览器


515
00:17:34,546 --> 00:17:36,306
不要去等待事件监听器完成


516
00:17:36,306 --> 00:17:37,936
并且让用户可以


517
00:17:38,026 --> 00:17:40,226
流畅地滚动屏幕


518
00:17:40,696 --> 00:17:44,356
接下来 我们转向具有


519
00:17:44,356 --> 00:17:46,546
异步图像解码的


520
00:17:46,546 --> 00:17:47,056
异步调用


521
00:17:47,786 --> 00:17:49,236
通常来说 图像都是被


522
00:17:49,236 --> 00:17:50,456
同步解码的


523
00:17:50,656 --> 00:17:51,976
所以 主线程遭到了阻塞


524
00:17:52,506 --> 00:17:54,656
所有的图像都被解码


525
00:17:54,656 --> 00:17:55,346
然后显示出来 


526
00:17:56,136 --> 00:17:57,796
阻塞了主线程


527
00:17:57,796 --> 00:17:59,486
用户的交互也受到阻止


528
00:17:59,906 --> 00:18:01,356
不过 如果使用异步解码


529
00:18:01,356 --> 00:18:02,546
这些操作就能并行发生


530
00:18:02,546 --> 00:18:04,476
并且是在一个单独的


531
00:18:04,536 --> 00:18:05,626
线程上 这意味着交互


532
00:18:05,666 --> 00:18:07,726
不会被阻止


533
00:18:08,236 --> 00:18:09,856
今年新增的异步图像解码功能


534
00:18:09,946 --> 00:18:12,276
在默认的情况下


535
00:18:12,276 --> 00:18:14,226
会在首页加载时发生


536
00:18:15,136 --> 00:18:17,476
它可以覆盖大多数 web 内容的情况


537
00:18:17,796 --> 00:18:20,286
当然 我们知道 你们中的一些人


538
00:18:20,286 --> 00:18:21,576
可能会遇到特殊情况


539
00:18:21,656 --> 00:18:24,426
比如说 在你的网页上有一张


540
00:18:24,426 --> 00:18:26,216
多块组合平铺的地图


541
00:18:26,216 --> 00:18:27,356
它在初始页面加载后进行加载 


542
00:18:27,586 --> 00:18:28,986
而且 如果它有很多图像


543
00:18:28,986 --> 00:18:32,796
部分图块可能会延迟显示


544
00:18:33,356 --> 00:18:35,716
或者 可能你在 App 中放入了一些


545
00:18:35,716 --> 00:18:37,016
轮播的图像


546
00:18:37,016 --> 00:18:38,516
并希望它们有淡入淡出的轮播效果


547
00:18:38,516 --> 00:18:40,086
但当你想要加速播放


548
00:18:40,186 --> 00:18:41,726
这组幻灯片


549
00:18:41,726 --> 00:18:43,296
如果图像是同步解码的


550
00:18:43,296 --> 00:18:44,886
它们可能无法及时显示出来


551
00:18:45,436 --> 00:18:49,336
而且它们会突兀地切换


552
00:18:50,816 --> 00:18:53,216
但在右侧的例子中


553
00:18:53,216 --> 00:18:54,776
异步解码让你的淡入淡出效果


554
00:18:54,886 --> 00:18:55,246
更加平滑流畅


555
00:18:55,296 --> 00:18:58,656
那么 如果你想要采用这些特殊的


556
00:18:58,776 --> 00:18:59,916
动态图像的范例


557
00:18:59,916 --> 00:19:01,176
你有两种选择


558
00:19:01,456 --> 00:19:03,436
一 你可以在标记中添加


559
00:19:03,486 --> 00:19:05,176
异步解码的属性


560
00:19:05,176 --> 00:19:06,136
到你的图像元素中去


561
00:19:06,756 --> 00:19:09,536
或者 你可以使用 JavaScript


562
00:19:09,536 --> 00:19:11,996
API 的 HTMLImageElements.decode 方法


563
00:19:11,996 --> 00:19:13,856
它会返回一个提示


564
00:19:14,106 --> 00:19:15,726
让你知道图像在何时


565
00:19:15,726 --> 00:19:17,756
可以被添加到 dom


566
00:19:17,836 --> 00:19:20,796
而不会导致下一帧的解码延迟


567
00:19:21,306 --> 00:19:24,216
下面 继续说


568
00:19:24,216 --> 00:19:26,336
异步调用对于


569
00:19:26,336 --> 00:19:27,416
Beacon API 的支持


570
00:19:28,266 --> 00:19:29,566
我们知道 作为开发人员


571
00:19:29,566 --> 00:19:31,466
你想要在 unload 事件中发送数据


572
00:19:31,956 --> 00:19:33,936
可能是想要追踪外发链接


573
00:19:34,416 --> 00:19:35,896
通常情况下 unload 事件的异步请求


574
00:19:35,896 --> 00:19:37,766
会被忽略掉


575
00:19:37,906 --> 00:19:38,776
于是你不得不使用


576
00:19:38,776 --> 00:19:40,266
同步请求 结果就导致下一个页面


577
00:19:40,266 --> 00:19:41,816
加载失败


578
00:19:42,756 --> 00:19:44,206
不过 我们现在支持


579
00:19:44,206 --> 00:19:45,066
Beacon API


580
00:19:45,706 --> 00:19:47,086
所以只要 Safari 还在运行


581
00:19:47,086 --> 00:19:48,816
你就可以将数据发送到服务器上


582
00:19:48,816 --> 00:19:50,866
然后把它抛在脑后


583
00:19:50,866 --> 00:19:52,666
因为你知道数据一定会被


584
00:19:52,666 --> 00:19:53,466
发送出去的


585
00:19:53,966 --> 00:19:57,446
好了 你们已经听我讲的够多了


586
00:19:57,926 --> 00:19:59,096
我相信你们都想亲眼看看


587
00:19:59,096 --> 00:20:00,036
这些与安全和性能相关的功能


588
00:20:00,036 --> 00:20:01,316
实际操作起来什么样


589
00:20:01,316 --> 00:20:03,056
那么 有请我的同事 Jason 


590
00:20:03,056 --> 00:20:05,216
上台来为大家演示这些功能


591
00:20:05,436 --> 00:20:05,826
Jason


592
00:20:06,516 --> 00:20:10,876
[ 掌声 ]


593
00:20:11,376 --> 00:20:12,176
>> 大家好


594
00:20:12,316 --> 00:20:13,986
我叫 Jason Sandmeyer


595
00:20:13,986 --> 00:20:15,626
我是 Apple.com 的一名开发人员


596
00:20:16,436 --> 00:20:18,046
不工作的时候 我喜欢艺术和手工创作


597
00:20:18,046 --> 00:20:20,286
比如建造鸟舍


598
00:20:20,286 --> 00:20:22,156
然后我最近开始


599
00:20:22,156 --> 00:20:23,636
写这个博客 想要分享


600
00:20:23,636 --> 00:20:25,116
我的一些作品


601
00:20:25,116 --> 00:20:25,526
并给其他人以启发


602
00:20:25,816 --> 00:20:27,676
我花费了大量的时间去挑选


603
00:20:27,676 --> 00:20:29,746
合适的字体和舒服的颜色


604
00:20:30,296 --> 00:20:31,246
我为此感到骄傲


605
00:20:31,996 --> 00:20:33,236
不过 我不仅仅是为


606
00:20:33,266 --> 00:20:34,696
自己的设计感到骄傲


607
00:20:34,696 --> 00:20:36,576
我也为自己能够向用户提供


608
00:20:36,576 --> 00:20:38,326
良好 安全 高性能的浏览体验


609
00:20:38,326 --> 00:20:39,526
而感到自豪


610
00:20:40,056 --> 00:20:41,506
因此 我真的对于 WebKit 和 Safari 


611
00:20:41,506 --> 00:20:42,756
这些能够提升性能和安全的新功能


612
00:20:42,756 --> 00:20:44,186
感到非常兴奋


613
00:20:44,186 --> 00:20:46,066
我真的希望


614
00:20:46,066 --> 00:20:48,476
在我自己的站点上 充分利用它们


615
00:20:48,646 --> 00:20:49,816
我很乐意向你们演示


616
00:20:49,816 --> 00:20:50,316
它们使用起来是多么容易


617
00:20:52,056 --> 00:20:53,546
这里 我已经将我的网站


618
00:20:53,546 --> 00:20:54,416
加载到我的 MacBook Pro 上


619
00:20:56,716 --> 00:20:58,366
然后 喔


620
00:20:58,366 --> 00:20:58,586
好的


621
00:20:58,586 --> 00:21:01,006
>> 嘿 Jason 你刚刚做了什么


622
00:21:01,566 --> 00:21:03,716
>> 没错 这可不是我刚才自夸的那个


623
00:21:03,716 --> 00:21:05,226
漂亮的博客


624
00:21:05,226 --> 00:21:06,096
对吧


625
00:21:07,506 --> 00:21:08,986
让我们来看看 这是正确的 URL


626
00:21:10,156 --> 00:21:12,406
我想我知道这里发生了什么问题


627
00:21:12,996 --> 00:21:15,586
当我刚开始设立这个网站时


628
00:21:15,586 --> 00:21:19,436
我的朋友们曾提醒我


629
00:21:19,436 --> 00:21:20,866
生活类博客的


630
00:21:20,866 --> 00:21:23,516
行业竞争相当激烈


631
00:21:24,856 --> 00:21:27,176
很明显 有人在蓄意破坏我的网站


632
00:21:27,906 --> 00:21:29,436
有人偷偷替换掉了


633
00:21:29,436 --> 00:21:31,266
我内容分发网络的样式表


634
00:21:32,016 --> 00:21:33,736
不过很幸运 


635
00:21:33,796 --> 00:21:34,396
我还留有备份


636
00:21:34,986 --> 00:21:36,536
我们可以使用


637
00:21:36,536 --> 00:21:37,936
子资源完整性的功能


638
00:21:37,936 --> 00:21:39,596
为网站提升安全性能


639
00:21:39,596 --> 00:21:40,976
确保这种情况不再发生


640
00:21:46,286 --> 00:21:49,106
所以 我先从添加新的完整性属性


641
00:21:49,106 --> 00:21:52,246
到我的链接标记开始操作


642
00:21:52,246 --> 00:21:53,896
值得注意的是 这个改动对脚本


643
00:21:53,896 --> 00:21:55,356
也有影响 不过我们


644
00:21:55,356 --> 00:21:57,046
晚些时候再做改变


645
00:21:57,426 --> 00:21:58,756
我们稍后再进行添加


646
00:21:59,286 --> 00:22:03,516
那么 这个属性的数值


647
00:22:03,956 --> 00:22:06,266
是哈希算法的结果


648
00:22:06,266 --> 00:22:07,406
我们用这个算法能够得到文件的校验和


649
00:22:07,406 --> 00:22:09,316
我希望自己和用户


650
00:22:09,316 --> 00:22:12,586
可以看到它


651
00:22:12,826 --> 00:22:14,196
我已经准备了一个 hash


652
00:22:14,316 --> 00:22:15,566
叫 SHA256


653
00:22:16,896 --> 00:22:20,156
接下来 一个连字符


654
00:22:20,156 --> 00:22:22,786
然后是 base64 编码用于表示这个 hash


655
00:22:24,006 --> 00:22:26,296
现在 进行保存 然后回到


656
00:22:26,296 --> 00:22:28,256
我们的页面 重新加载


657
00:22:29,436 --> 00:22:30,866
现在我们能看到网页


658
00:22:30,866 --> 00:22:31,326
没有样式


659
00:22:31,876 --> 00:22:32,916
因为已下载文件的 hash


660
00:22:32,916 --> 00:22:34,666
和 HTML 里的 hash 


661
00:22:34,666 --> 00:22:36,026
不匹配


662
00:22:36,606 --> 00:22:38,986
因此 Safari 已经阻止它去加载


663
00:22:41,916 --> 00:22:43,376
现在 让我们连接到我的 CDN


664
00:22:43,376 --> 00:22:46,726
这是我桌面上的备份


665
00:22:47,246 --> 00:22:50,786
让我们把备份拖入


666
00:22:50,886 --> 00:22:53,876
CDN 当中 以替换受损的文件


667
00:22:54,806 --> 00:22:57,036
现在 我们重新加载


668
00:22:57,356 --> 00:22:57,976
这就看起来好多了


669
00:22:58,516 --> 00:23:01,936
[ 掌声 ]


670
00:23:02,436 --> 00:23:05,416
谢谢 所以在使用了


671
00:23:05,416 --> 00:23:06,566
子资源完整性的功能后


672
00:23:06,566 --> 00:23:08,146
我更加确信网站访问者


673
00:23:08,146 --> 00:23:09,926
能获取我预想中的


674
00:23:09,926 --> 00:23:12,686
样式和脚本


675
00:23:12,886 --> 00:23:13,926
下面 让我们稍稍换个方向


676
00:23:13,926 --> 00:23:15,006
来谈谈我们在


677
00:23:15,006 --> 00:23:16,166
改进性能方面


678
00:23:16,166 --> 00:23:16,426
能做些什么


679
00:23:16,426 --> 00:23:19,556
另外 如果能知道我网站上


680
00:23:19,556 --> 00:23:20,806
哪些链接被用户频繁点击


681
00:23:20,806 --> 00:23:22,446
哪些很少被点击 这是很有用的信息


682
00:23:22,716 --> 00:23:23,976
这能帮助我在设计时 做出更明智的决策


683
00:23:29,346 --> 00:23:30,956
所以我用这个 click handler


684
00:23:30,956 --> 00:23:32,106
它能够向我控制的服务器报告


685
00:23:32,106 --> 00:23:33,666
哪些链接被用户点击过


686
00:23:33,666 --> 00:23:35,976
服务器会收集点击量的数据 供我有空时查看


687
00:23:40,736 --> 00:23:43,106
还有 请注意在我点击


688
00:23:43,106 --> 00:23:44,686
这个木工页面的链接时


689
00:23:44,846 --> 00:23:45,976
会发生轻微的延迟


690
00:23:45,976 --> 00:23:46,756
点击后会进入我网站里


691
00:23:46,756 --> 00:23:49,066
其他与木工相关的页面


692
00:23:50,086 --> 00:23:51,126
我现在就点击这个链接


693
00:23:52,816 --> 00:23:55,136
花了大约半秒到一秒钟时间


694
00:23:55,136 --> 00:23:59,036
之所以会这样


695
00:23:59,036 --> 00:24:00,706
是因为我在 click handler 中


696
00:24:00,706 --> 00:24:02,416
做出了同步请求


697
00:24:02,666 --> 00:24:05,706
这会阻止 Safari 导航到下一页


698
00:24:06,446 --> 00:24:08,026
进行同步请求


699
00:24:08,026 --> 00:24:09,306
可确保浏览器在导航到下一页时


700
00:24:09,306 --> 00:24:12,226
不会取消这一请求


701
00:24:13,636 --> 00:24:14,636
但是 这是在等待


702
00:24:14,636 --> 00:24:16,066
我的服务器响应可能需要


703
00:24:16,066 --> 00:24:16,766
一段时间


704
00:24:16,906 --> 00:24:18,046
问题是 我其实不关心什么


705
00:24:18,046 --> 00:24:19,256
服务器响应


706
00:24:19,256 --> 00:24:20,286
我只想确定这些数据


707
00:24:20,286 --> 00:24:21,636
传送到了服务器上


708
00:24:22,536 --> 00:24:24,406
因此 Beacon API 其实是


709
00:24:24,406 --> 00:24:25,826
一个完美的替代品


710
00:24:26,376 --> 00:24:29,776
现在我要开始通过


711
00:24:30,416 --> 00:24:32,266
检查 Beacon API 


712
00:24:32,266 --> 00:24:33,746
在浏览器中是否可用


713
00:24:33,746 --> 00:24:35,396
方法是在 navigator 对象上


714
00:24:35,396 --> 00:24:36,386
查找 sendBeacon 方法


715
00:24:37,366 --> 00:24:38,656
如果它不可用


716
00:24:38,656 --> 00:24:39,996
我就继续我


717
00:24:39,996 --> 00:24:40,346
刚才在做的事情


718
00:24:41,526 --> 00:24:43,626
然后 我们可以使用它


719
00:24:46,496 --> 00:24:49,106
把数据和我想要访问的 endpoint


720
00:24:49,756 --> 00:24:53,666
一同传入


721
00:24:53,666 --> 00:24:54,356
让我们进行保存


722
00:24:55,196 --> 00:24:57,726
然后返回去 重新加载


723
00:24:57,726 --> 00:24:58,236
新的脚本


724
00:24:59,336 --> 00:25:00,676
现在 当我点击这个链接时


725
00:25:00,676 --> 00:25:02,256
可以看到反应几乎是立刻的


726
00:25:02,296 --> 00:25:03,696
我现在要点击这个链接了


727
00:25:04,486 --> 00:25:05,056
好了


728
00:25:06,046 --> 00:25:08,746
所以 与 XML/http 请求相比


729
00:25:08,746 --> 00:25:10,576
这个使用的代码更少


730
00:25:10,576 --> 00:25:11,796
但它同样的可靠


731
00:25:12,126 --> 00:25:13,696
而现在 我的用户


732
00:25:13,696 --> 00:25:14,976
在我的网站里 就能更快速地畅游了


733
00:25:15,516 --> 00:25:17,736
[ 掌声 ]


734
00:25:18,236 --> 00:25:22,956
谢谢大家 接下来 


735
00:25:22,956 --> 00:25:24,036
我想看看一个问题


736
00:25:24,036 --> 00:25:25,956
这个问题在 iPad 上更加明显


737
00:25:33,136 --> 00:25:34,666
我把建造鸟舍的


738
00:25:34,666 --> 00:25:36,016
每一步都做成了幻灯片


739
00:25:36,016 --> 00:25:37,926
并加入了淡入淡出的轮播效果


740
00:25:39,776 --> 00:25:41,596
点击向右的箭头


741
00:25:41,596 --> 00:25:42,916
就能前进到下一张幻灯片


742
00:25:44,356 --> 00:25:45,856
不过 你可能已经注意到了


743
00:25:45,856 --> 00:25:48,066
切换时 在图片的位置会出现


744
00:25:48,176 --> 00:25:49,826
短暂的空白


745
00:25:50,286 --> 00:25:51,846
让我来再翻几张幻灯片


746
00:25:56,066 --> 00:25:58,636
让我们来看看这个轮播的代码


747
00:25:58,636 --> 00:26:00,326
看看发生了什么 我觉得这个切换效果


748
00:26:00,326 --> 00:26:00,776
可以更流畅


749
00:26:06,066 --> 00:26:07,796
这里是轮播的类


750
00:26:08,516 --> 00:26:10,036
我想要仔细看看这个方法


751
00:26:10,036 --> 00:26:11,336
在这里叫 setCurrentSlide


752
00:26:11,896 --> 00:26:13,086
这个方法会在


753
00:26:13,086 --> 00:26:14,256
你点击箭头


754
00:26:14,256 --> 00:26:16,476
转换到下一张幻灯片时被调用


755
00:26:18,816 --> 00:26:20,376
由于每张幻灯片在加载页面时


756
00:26:20,376 --> 00:26:21,896
不会立即显示


757
00:26:21,896 --> 00:26:24,056
只有当用户点击箭头时


758
00:26:24,056 --> 00:26:26,976
我的轮播才会加载下一张幻灯片的图像


759
00:26:31,176 --> 00:26:33,036
我们遇到的问题是


760
00:26:33,086 --> 00:26:36,506
页面切换是瞬间完成的


761
00:26:37,716 --> 00:26:39,446
而不是等图像加载完再发生


762
00:26:39,956 --> 00:26:41,356
而且 在图像加载之后


763
00:26:41,356 --> 00:26:42,746
它仍需要被解码


764
00:26:42,746 --> 00:26:44,816
然后才能在屏幕上显示出来


765
00:26:45,876 --> 00:26:47,486
所以 我想做的是


766
00:26:47,486 --> 00:26:49,036
等待图像加载


767
00:26:49,036 --> 00:26:51,316
并且被加码


768
00:26:51,316 --> 00:26:52,466
我相信这样图像就能顺畅显示


769
00:26:53,156 --> 00:26:54,996
而且我可以使用新的解码方法


770
00:26:54,996 --> 00:26:57,486
在 HTML 图像元素上


771
00:26:58,936 --> 00:27:01,276
来改进显示效果


772
00:27:02,506 --> 00:27:04,056
这里 是我的图像


773
00:27:04,056 --> 00:27:04,976
是图像元素的标记


774
00:27:09,046 --> 00:27:10,406
decode() 方法会


775
00:27:10,616 --> 00:27:12,326
异步地解码这个图像


776
00:27:12,566 --> 00:27:14,206
然后返回一个 Promise


777
00:27:14,206 --> 00:27:16,316
如果图像成功被加载并解码


778
00:27:16,316 --> 00:27:19,646
就会调用响应函数 resolve


779
00:27:19,746 --> 00:27:21,716
所以 我就把我的 transition 函数传入


780
00:27:21,756 --> 00:27:23,696
作为这个 Promise 的回调函数


781
00:27:24,326 --> 00:27:26,946
现在 让我们切换回 iPad


782
00:27:33,256 --> 00:27:35,536
我们来刷新页面以获取


783
00:27:35,536 --> 00:27:36,036
新的脚本


784
00:27:37,076 --> 00:27:38,236
现在 当我前进到下一页的时候


785
00:27:38,236 --> 00:27:39,386
过程会更加顺畅


786
00:27:40,006 --> 00:27:41,566
没有闪烁


787
00:27:41,566 --> 00:27:42,296
这真的很棒


788
00:27:43,516 --> 00:27:45,626
[ 掌声 ]


789
00:27:46,126 --> 00:27:46,936
谢谢


790
00:27:51,126 --> 00:27:55,146
现在 让我们切换回 Mac


791
00:27:55,146 --> 00:27:56,616
最后 在我的页面底部


792
00:27:56,616 --> 00:27:58,626
放置了一个动画的 GIF 图片


793
00:27:58,626 --> 00:28:00,756
一只小鸟在装饰


794
00:28:00,756 --> 00:28:01,196
它的新鸟舍


795
00:28:01,966 --> 00:28:05,156
这张图片 这个视频


796
00:28:05,156 --> 00:28:09,266
非常的大 好吧 它是一个 GIF


797
00:28:09,406 --> 00:28:12,236
它大概有超过 7 兆字节


798
00:28:12,596 --> 00:28:14,366
说实话 图片质量也不怎么好


799
00:28:15,116 --> 00:28:15,876
不过


800
00:28:15,876 --> 00:28:18,676
我恰好有这张图片的原始视频 H264 编码的 MP4


801
00:28:19,226 --> 00:28:20,846
现在 我可以直接在页面上


802
00:28:20,846 --> 00:28:21,626
使用这个视频


803
00:28:22,066 --> 00:28:24,086
让我们回到 HTML


804
00:28:24,926 --> 00:28:25,986
找到那个图像


805
00:28:26,786 --> 00:28:28,556
它在这儿


806
00:28:28,766 --> 00:28:30,056
我可以直接改变扩展名


807
00:28:30,056 --> 00:28:32,236
改为指向 MP4 文件


808
00:28:33,646 --> 00:28:37,486
重新加载 看 现在我使用的就是


809
00:28:37,486 --> 00:28:38,286
真实的视频


810
00:28:38,286 --> 00:28:39,916
画面质量清晰得多


811
00:28:39,916 --> 00:28:41,366
而且只占大约 1 兆字节


812
00:28:41,906 --> 00:28:43,386
而且它还比刚才的动画 GIF


813
00:28:43,476 --> 00:28:44,606
要长一些


814
00:28:45,076 --> 00:28:49,096
而且 正如 Shloka 刚才提到的


815
00:28:49,096 --> 00:28:50,876
这点也可以使用在 source 属性上


816
00:28:50,876 --> 00:28:52,766
为不支持这个功能的浏览器


817
00:28:52,766 --> 00:28:53,966
提供一个备用的图像


818
00:29:00,076 --> 00:29:02,086
刚刚这些只是 Safari 和 WebKit 的


819
00:29:02,086 --> 00:29:04,836
众多有关安全和性能的新功能中的四个


820
00:29:05,276 --> 00:29:07,626
希望你们能在自己的网站上


821
00:29:07,626 --> 00:29:08,766
把它们充分利用起来


822
00:29:08,766 --> 00:29:10,866
我想你的用户会为此感谢你的


823
00:29:10,866 --> 00:29:13,256
现在 欢迎 Shloka 回到台上


824
00:29:13,256 --> 00:29:14,666
向大家介绍更多 令人兴奋的新功能


825
00:29:14,666 --> 00:29:14,976
谢谢


826
00:29:15,516 --> 00:29:21,500
[ 掌声 ]


827
00:29:25,186 --> 00:29:26,066
>> 谢谢 Jason


828
00:29:26,656 --> 00:29:30,036
对了 我真没想到


829
00:29:30,036 --> 00:29:31,246
博客圈中竞争那么残酷


830
00:29:33,346 --> 00:29:34,336
你保护好自己


831
00:29:37,086 --> 00:29:38,496
还有 非常感谢刚才


832
00:29:38,496 --> 00:29:39,106
精彩的演示


833
00:29:39,726 --> 00:29:41,686
再总结一下与性能相关的新功能


834
00:29:41,686 --> 00:29:44,086
使用字体集合 可以减少字体文件的大小


835
00:29:44,376 --> 00:29:46,276
font-display 属性可以让你


836
00:29:46,276 --> 00:29:47,876
更好把控使用自定义字体时


837
00:29:47,876 --> 00:29:49,356
会遇到的各种情况


838
00:29:50,066 --> 00:29:51,776
在图像元素中使用视频


839
00:29:51,826 --> 00:29:53,766
比使用 GIF 更能提升性能


840
00:29:54,446 --> 00:29:55,876
被动事件监听器能够改进


841
00:29:55,876 --> 00:29:57,606
滚屏的效果


842
00:29:57,606 --> 00:29:59,316
使用带有 Beacon API 还有图像解码的


843
00:29:59,316 --> 00:30:01,326
异步调用


844
00:30:01,326 --> 00:30:03,976
可以防止主线程卡壳


845
00:30:04,496 --> 00:30:07,876
演讲的最后 我们来谈谈


846
00:30:07,876 --> 00:30:08,486
更加丰富的用户体验


847
00:30:08,486 --> 00:30:10,486
我们有一些很酷的新功能


848
00:30:10,486 --> 00:30:12,506
能够真正提升用户的体验


849
00:30:13,146 --> 00:30:15,316
从拖放开始讲


850
00:30:15,846 --> 00:30:17,556
首先来介绍一些有关拖放的


851
00:30:17,556 --> 00:30:18,816
总体上的改进


852
00:30:19,126 --> 00:30:21,546
由于 API 的更新


853
00:30:21,546 --> 00:30:23,306
现在你可以把整个文件目录


854
00:30:23,306 --> 00:30:25,066
进行拖放


855
00:30:25,066 --> 00:30:25,916
以将其上传至服务器


856
00:30:26,446 --> 00:30:28,856
不再需要压缩或者打包处理


857
00:30:29,746 --> 00:30:31,156
而且我们支持读取和写入


858
00:30:31,156 --> 00:30:33,336
能够丰富 HTML 的 MIME 类型


859
00:30:33,336 --> 00:30:36,476
纯文本 以及 URL 


860
00:30:36,476 --> 00:30:37,476
到系统粘贴板


861
00:30:38,646 --> 00:30:40,646
而且 特别是对 iOS


862
00:30:40,646 --> 00:30:41,916
我们已经对数据传输 API 


863
00:30:41,916 --> 00:30:43,966
进行了一些新的更新


864
00:30:43,996 --> 00:30:45,996
现在你可以使用 getData 和 setData 方法


865
00:30:45,996 --> 00:30:48,076
来自定义拖放


866
00:30:48,246 --> 00:30:50,926
举例来说 如果我想要


867
00:30:50,926 --> 00:30:53,036
把生活用品拖入


868
00:30:53,036 --> 00:30:54,906
我的网上购物车


869
00:30:54,906 --> 00:30:56,596
我可以对拖放行为


870
00:30:56,636 --> 00:30:57,146
进行自定义


871
00:30:57,726 --> 00:30:59,586
比如 拖动一个图片元素


872
00:30:59,806 --> 00:31:01,226
会将这个元素的名称


873
00:31:01,226 --> 00:31:03,506
和它的价格


874
00:31:03,506 --> 00:31:03,846
放到我的购物车中


875
00:31:04,676 --> 00:31:05,916
现在 你可以指定


876
00:31:05,916 --> 00:31:07,236
拖放行为会导致什么结果


877
00:31:07,266 --> 00:31:08,696
这会让你实现


878
00:31:08,696 --> 00:31:11,186
更丰富的用户交互


879
00:31:11,766 --> 00:31:14,706
接下来 我们来转向本场演讲的


880
00:31:14,706 --> 00:31:16,146
API 部分


881
00:31:16,146 --> 00:31:18,936
从支付请求 API 和 Apple Pay 讲起


882
00:31:19,616 --> 00:31:20,916
那么 我们来谈谈 Apple Pay


883
00:31:21,316 --> 00:31:22,926
Apple Pay 不仅仅是一种支付方式


884
00:31:22,926 --> 00:31:24,516
它是对电子支付的


885
00:31:24,566 --> 00:31:25,666
完全重新思考


886
00:31:26,046 --> 00:31:28,036
通过 Apple Pay 商户不会


887
00:31:28,036 --> 00:31:29,466
直接接触到顾客的


888
00:31:29,466 --> 00:31:31,376
信用卡信息


889
00:31:31,376 --> 00:31:32,576
这使支付更加安全


890
00:31:33,466 --> 00:31:34,676
我们知道你们当中许多人


891
00:31:34,676 --> 00:31:36,336
一直要求提供一种方式


892
00:31:36,336 --> 00:31:38,326
能够使用标准 API 来支持 Apple Pay


893
00:31:39,096 --> 00:31:40,516
现在 我很高兴告诉大家


894
00:31:40,516 --> 00:31:42,246
我们听到了你们的需求


895
00:31:42,246 --> 00:31:44,456
通过协作努力 Apple Pay 现在


896
00:31:44,456 --> 00:31:46,936
已经开始与 W3C 支付请求 API 展开合作


897
00:31:50,516 --> 00:31:53,866
[ 掌声 ]


898
00:31:54,366 --> 00:31:56,116
不过 虽然你可以选择使用 


899
00:31:56,116 --> 00:31:58,906
这个 API 但请记住


900
00:31:58,906 --> 00:32:00,416
为确保你和你的顾客


901
00:32:00,416 --> 00:32:02,036
在 Apple Pay 的利益不受损


902
00:32:02,036 --> 00:32:03,446
你需要做一点改变


903
00:32:03,756 --> 00:32:05,806
例如 要向你的界面添加一个


904
00:32:05,806 --> 00:32:07,376
Apple Pay 按钮


905
00:32:07,376 --> 00:32:08,836
而不是在现有的结账流程中


906
00:32:08,836 --> 00:32:10,376
把 Apple Pay 当作选项之一


907
00:32:10,376 --> 00:32:11,016
添加进去


908
00:32:11,826 --> 00:32:13,186
而且 现在支付请求 API 中


909
00:32:13,326 --> 00:32:15,856
还包含一些功能


910
00:32:15,856 --> 00:32:18,266
比如


911
00:32:19,176 --> 00:32:20,706
粒错误处理


912
00:32:20,706 --> 00:32:22,356
处理品牌合作联名信用卡


913
00:32:22,356 --> 00:32:23,136
和拼音姓名


914
00:32:23,226 --> 00:32:25,006
这些功能只在 


915
00:32:25,116 --> 00:32:25,676
Apple Pay JS 里有


916
00:32:25,676 --> 00:32:28,176
所以 如果你需要那些特定的


917
00:32:28,346 --> 00:32:30,776
Apple Pay 功能


918
00:32:30,776 --> 00:32:32,496
开始使用 Apple Pay JS 吧


919
00:32:33,416 --> 00:32:35,586
我们支持的另一个 API 


920
00:32:35,666 --> 00:32:37,166
是 Service Worker API


921
00:32:39,716 --> 00:32:42,036
如果你的用户的网络连接


922
00:32:42,036 --> 00:32:43,536
不是很理想


923
00:32:43,846 --> 00:32:45,306
比如他们的连接时断时续


924
00:32:45,306 --> 00:32:48,636
或者他们就彻底断网了


925
00:32:48,636 --> 00:32:49,866
对于这种情况你想要


926
00:32:49,866 --> 00:32:50,956
从容优雅地进行处理


927
00:32:51,106 --> 00:32:52,326
那么 Service Worker 可以派上用场


928
00:32:52,946 --> 00:32:54,576
每个 Service Worker 都登记在


929
00:32:54,576 --> 00:32:56,506
唯一的源下面


930
00:32:56,506 --> 00:32:58,336
它可以缓存离线交互


931
00:32:58,436 --> 00:33:00,336
并拦截


932
00:33:00,336 --> 00:33:02,066
与这个源相关的脚本


933
00:33:02,066 --> 00:33:02,556
所做的请求


934
00:33:03,016 --> 00:33:04,866
现在 你网域中的每个网页


935
00:33:05,096 --> 00:33:06,586
都可以共享同一个


936
00:33:06,586 --> 00:33:07,356
Service Worker 实例


937
00:33:08,116 --> 00:33:09,556
所以 你可以同时打开


938
00:33:09,666 --> 00:33:11,826
多个选项卡


939
00:33:11,826 --> 00:33:12,976
并且所有的请求都将被


940
00:33:13,036 --> 00:33:15,386
相同的脚本拦截


941
00:33:16,436 --> 00:33:17,966
这样一来 你可以保留一个


942
00:33:17,966 --> 00:33:19,136
持久的资源库


943
00:33:20,166 --> 00:33:22,136
Service Workers 可以令你的网页


944
00:33:22,416 --> 00:33:25,566
无论它是一个 web App


945
00:33:25,566 --> 00:33:27,036
还是说你在使用 SF Safari viewController


946
00:33:27,036 --> 00:33:29,066
面对网络连接的各种不确定


947
00:33:29,226 --> 00:33:31,366
网页都能够快速复原


948
00:33:31,876 --> 00:33:35,286
最后要介绍的 API 是


949
00:33:35,286 --> 00:33:37,146
对于 iPad 的全屏 API


950
00:33:38,526 --> 00:33:39,706
现在你可以自定义


951
00:33:39,796 --> 00:33:41,616
iPad 的全屏控制设定


952
00:33:41,986 --> 00:33:44,296
对于 Safari 中的任一元素都可以


953
00:33:44,746 --> 00:33:45,996
点击那些元素


954
00:33:45,996 --> 00:33:48,976
将带来彻底的全屏体验


955
00:33:51,516 --> 00:33:56,146
[ 掌声 ]


956
00:33:56,646 --> 00:33:58,276
对于视频来说 我们会自动检测内容


957
00:33:58,336 --> 00:33:59,866
同时还会出现一个


958
00:33:59,866 --> 00:34:00,286
取消按钮


959
00:34:00,526 --> 00:34:02,586
在短暂的延迟后


960
00:34:02,586 --> 00:34:04,646
如果内容还在继续播放


961
00:34:04,646 --> 00:34:05,266
按钮会自动消失


962
00:34:07,536 --> 00:34:08,976
如果你提供的内容


963
00:34:08,976 --> 00:34:10,505
会被这个取消按钮


964
00:34:10,505 --> 00:34:12,126
所拦截或阻碍到


965
00:34:12,356 --> 00:34:14,186
可以使用 CSS Environment Variable 中的


966
00:34:14,186 --> 00:34:16,646
fullscreen-inset-top 


967
00:34:16,646 --> 00:34:17,045
来避免这种情况


968
00:34:18,056 --> 00:34:20,485
你也可以让你的内容


969
00:34:20,545 --> 00:34:21,985
和按钮同时隐藏


970
00:34:21,985 --> 00:34:23,545
只要使用


971
00:34:23,666 --> 00:34:25,286
环境变量中的


972
00:34:25,436 --> 00:34:26,416
fullscreen-auto-hide-delay 就行了


973
00:34:26,906 --> 00:34:31,386
最后 还有几项非常酷的标注要介绍


974
00:34:31,626 --> 00:34:33,525
从 AR 开始


975
00:34:34,255 --> 00:34:35,755
可能在这次会议上你已经听说过


976
00:34:35,755 --> 00:34:37,126
太多关于 AR 的东西了


977
00:34:37,356 --> 00:34:39,335
但是现在 你可以把 AR 模型


978
00:34:39,335 --> 00:34:40,846
通过图像缩略图的方式


979
00:34:40,846 --> 00:34:41,366
加入到你的 UI 当中


980
00:34:41,366 --> 00:34:42,866
这样一来 你的网站就能


981
00:34:42,866 --> 00:34:45,505
利用起这个全新的 AR Quick Look


982
00:34:45,536 --> 00:34:47,246
而且代码还相当短


983
00:34:47,556 --> 00:34:48,806
你从一个锚标签开始


984
00:34:49,065 --> 00:34:50,876
将 del 属性设置为 AR 


985
00:34:51,235 --> 00:34:53,106
并将 HREF 链接设置为


986
00:34:53,306 --> 00:34:55,065
你的 USDZ 文件


987
00:34:55,065 --> 00:34:55,886
然后为 AR 模型创建文件格式


988
00:34:56,426 --> 00:34:58,076
你先添加一个子视图


989
00:34:58,076 --> 00:34:59,426
可以是一个图像 也可以是一个


990
00:34:59,666 --> 00:35:01,376
包含模型图片的照片元素


991
00:35:01,756 --> 00:35:03,456
出来的图像效果是


992
00:35:03,456 --> 00:35:04,076
像这样的


993
00:35:04,816 --> 00:35:06,596
在图像的右上角


994
00:35:06,646 --> 00:35:09,046
一个小的图标出现


995
00:35:09,126 --> 00:35:11,336
意味着一个 AR 模型可通过


996
00:35:11,336 --> 00:35:12,296
点击图像来获得


997
00:35:12,806 --> 00:35:14,706
这是一个能为你的网站


998
00:35:14,706 --> 00:35:16,736
增添内容深度的


999
00:35:16,736 --> 00:35:17,196
绝妙方法


1000
00:35:18,796 --> 00:35:20,516
如果想了解更多关于 Quick Look 的信息


1001
00:35:20,516 --> 00:35:21,676
可以查阅在线板块


1002
00:35:21,676 --> 00:35:23,886
Integrating Apps 


1003
00:35:24,046 --> 00:35:26,566
and Content with AR Quick Look


1004
00:35:27,816 --> 00:35:29,756
接下来 最后一块内容是 watchOS


1005
00:35:30,696 --> 00:35:32,506
现在 你可以浏览网站的载体已经有


1006
00:35:32,506 --> 00:35:35,746
MacBook 和 iPad


1007
00:35:36,786 --> 00:35:38,686
甚至是拥有更小屏幕的 iPhone


1008
00:35:38,686 --> 00:35:40,636
屏幕小到可以装进口袋里


1009
00:35:41,316 --> 00:35:42,956
但是 我们现在还打算


1010
00:35:42,956 --> 00:35:45,866
再缩小一度


1011
00:35:46,086 --> 00:35:48,916
我们把你的网站带到了 watchOS 中


1012
00:35:49,516 --> 00:35:53,816
[ 掌声 ]


1013
00:35:54,316 --> 00:35:55,856
对于这个新功能 我个人是


1014
00:35:55,856 --> 00:35:57,366
非常兴奋的


1015
00:35:57,366 --> 00:36:00,636
我妈整天给我发送各种菜谱


1016
00:36:00,776 --> 00:36:02,716
我不会做饭 然后我又只能


1017
00:36:02,716 --> 00:36:04,736
在短信和电邮中看菜谱


1018
00:36:04,736 --> 00:36:06,596
以后当我收到菜谱


1019
00:36:06,596 --> 00:36:08,116
我可以直接在手腕上读取


1020
00:36:08,116 --> 00:36:09,056
一边做饭一边看菜谱很方便


1021
00:36:10,116 --> 00:36:11,256
现在 如果你使用响应式设计


1022
00:36:11,256 --> 00:36:12,606
那就太好了


1023
00:36:12,856 --> 00:36:14,136
我们把所有的工作都替你做了


1024
00:36:14,136 --> 00:36:15,126
这样你的网站在 watchOS 上面


1025
00:36:15,156 --> 00:36:16,426
会看起来非常棒


1026
00:36:16,866 --> 00:36:17,716
不过如果你想要


1027
00:36:17,816 --> 00:36:19,326
进一步地优化 Apple Watch 的网页


1028
00:36:19,326 --> 00:36:21,086
这里有一个视频


1029
00:36:21,086 --> 00:36:22,926
叫做 Designing Web Content for watchOS


1030
00:36:22,926 --> 00:36:24,546
在 WWDC App 上


1031
00:36:24,546 --> 00:36:26,056
抱歉 


1032
00:36:26,566 --> 00:36:28,306
是 Designing


1033
00:36:29,596 --> 00:36:32,476
现在 我打赌 Jason 的鸟舍博客


1034
00:36:32,526 --> 00:36:35,056
在使用了这些能够丰富用户体验的


1035
00:36:35,056 --> 00:36:36,316
新功能后


1036
00:36:36,316 --> 00:36:37,486
肯定能上升到一个新水平


1037
00:36:37,986 --> 00:36:39,416
所以 我打算把 Jason 请回台上


1038
00:36:39,416 --> 00:36:40,716
为大家演示这些功能


1039
00:36:40,716 --> 00:36:41,586
如何使用


1040
00:36:41,796 --> 00:36:41,976
Jason


1041
00:36:42,516 --> 00:36:46,106
[ 掌声 ]


1042
00:36:46,606 --> 00:36:47,136
>> 再次感谢


1043
00:36:48,046 --> 00:36:49,256
我一直在想


1044
00:36:49,256 --> 00:36:50,816
如何能让我的读者能够


1045
00:36:50,816 --> 00:36:51,996
更加愉快地开始


1046
00:36:51,996 --> 00:36:53,066
他们的鸟舍建造工程


1047
00:36:53,466 --> 00:36:56,836
让我们换回到 iPad


1048
00:37:01,536 --> 00:37:03,246
这里 我有一个清单


1049
00:37:03,246 --> 00:37:04,866
列出了我的读者需要购买的


1050
00:37:04,866 --> 00:37:05,866
材料都有哪些


1051
00:37:06,856 --> 00:37:07,456
而且我想 如果我能够给他们


1052
00:37:07,456 --> 00:37:10,906
提供一种添加购物车的途径


1053
00:37:10,906 --> 00:37:13,226
购买他们可能会需要的物品


1054
00:37:13,226 --> 00:37:14,156
那该多方便


1055
00:37:14,156 --> 00:37:15,406
而且他们甚至可能


1056
00:37:15,406 --> 00:37:16,726
直接从我的网站


1057
00:37:16,726 --> 00:37:18,136
进行采购


1058
00:37:18,926 --> 00:37:20,006
而且 我猜想我也许能


1059
00:37:20,006 --> 00:37:23,326
通过这个办法赚点私房钱


1060
00:37:23,456 --> 00:37:26,456
这里 我能够从左侧


1061
00:37:26,456 --> 00:37:28,256
拖放物品到


1062
00:37:28,256 --> 00:37:29,976
这个购物清单中


1063
00:37:43,496 --> 00:37:45,286
而且这个功能在我的


1064
00:37:45,286 --> 00:37:45,976
iPad 上也一样好用


1065
00:37:46,076 --> 00:37:48,686
那么让我们来看看


1066
00:37:48,686 --> 00:37:49,766
想要达到这个效果


1067
00:37:49,876 --> 00:37:49,976
需要哪些代码


1068
00:37:57,046 --> 00:37:57,916
真的不需要一大堆代码


1069
00:37:57,916 --> 00:37:58,856
就能实现这个效果


1070
00:37:59,766 --> 00:38:02,126
对于每一个物品


1071
00:38:02,126 --> 00:38:04,366
我添加了 dragStart 事件监听器


1072
00:38:04,366 --> 00:38:07,576
它用来存放元素的文本


1073
00:38:07,576 --> 00:38:09,556
通过使用 Data Transfer API


1074
00:38:10,816 --> 00:38:12,896
而在“放”的区域


1075
00:38:12,896 --> 00:38:15,186
也就是购物清单区域


1076
00:38:15,186 --> 00:38:17,066
我有一个 drop 事件监听器


1077
00:38:17,066 --> 00:38:18,886
它可以从 Data Transfer API 上


1078
00:38:20,156 --> 00:38:22,286
提取之前存储的文本


1079
00:38:22,286 --> 00:38:24,976
并将其附加到购物清单元素


1080
00:38:29,166 --> 00:38:30,526
注意 你还需要添加一个


1081
00:38:30,526 --> 00:38:32,146
dragOver 事件监听器


1082
00:38:32,636 --> 00:38:36,596
到你想要“放下”元素的区域


1083
00:38:36,596 --> 00:38:39,226
以防止默认的事件的发生


1084
00:38:39,226 --> 00:38:41,316
并明确指示对于那个元素


1085
00:38:41,316 --> 00:38:42,536
drop 是允许的


1086
00:38:43,086 --> 00:38:45,716
所以 只需要很少的代码


1087
00:38:45,716 --> 00:38:47,236
我就能够创建这个有趣的


1088
00:38:47,236 --> 00:38:48,986
购物 UI 它能在 Mac 上很好地运行


1089
00:38:49,306 --> 00:38:50,786
现在在 iPad 上也能使用了


1090
00:38:51,076 --> 00:38:54,726
现在 既然我已经把物品


1091
00:38:54,726 --> 00:38:56,546
放在了购物清单里


1092
00:38:56,546 --> 00:38:57,726
我需要找到一个方法 让我的用户


1093
00:38:57,726 --> 00:38:58,756
能够真正实现购买


1094
00:38:59,406 --> 00:39:02,726
让我们来看看如何能


1095
00:39:02,726 --> 00:39:03,886
利用支付请求 API


1096
00:39:03,886 --> 00:39:05,256
来为用户提供一个很棒的


1097
00:39:05,256 --> 00:39:06,796
Apple Pay 体验


1098
00:39:08,836 --> 00:39:10,156
我已经为我的网站添加了


1099
00:39:10,156 --> 00:39:12,726
必要的 HTML 和 CSS 


1100
00:39:12,726 --> 00:39:14,036
以显示一个 Apple Pay 按钮


1101
00:39:14,036 --> 00:39:16,396
但我把它默认设置成隐藏


1102
00:39:16,976 --> 00:39:17,976
只有在用户的设备确定有能力


1103
00:39:17,976 --> 00:39:20,626
使用 Apple Pay 的情况下


1104
00:39:20,626 --> 00:39:23,126
你才应该显示 Apple Pay 按钮


1105
00:39:24,176 --> 00:39:27,966
让我们来写下


1106
00:39:27,966 --> 00:39:28,033
检查设备的代码


1107
00:39:28,366 --> 00:39:30,256
使用 ApplePaySession.canMakePayments


1108
00:39:30,256 --> 00:39:30,616
方法


1109
00:39:30,776 --> 00:39:33,556
如果 Apple Pay 可使用


1110
00:39:33,556 --> 00:39:33,976
我们就显示按钮


1111
00:39:38,326 --> 00:39:41,036
让我们向按钮添加一个


1112
00:39:42,816 --> 00:39:43,396
事件监听器


1113
00:39:43,396 --> 00:39:44,666
现在 在这个函数里


1114
00:39:44,666 --> 00:39:45,606
我们将创造一个新的


1115
00:39:45,606 --> 00:39:47,736
paymentRequest 实例去


1116
00:39:47,736 --> 00:39:48,976
启动这个交易


1117
00:39:54,436 --> 00:39:55,866
如果 paymentRequest 不能使用


1118
00:39:55,866 --> 00:39:57,976
我们应该考虑使用 Apple Pay JS 来替代它


1119
00:40:02,256 --> 00:40:04,596
这里是 Payment Request API 的构造器


1120
00:40:05,456 --> 00:40:07,406
它可以接受三个参数


1121
00:40:07,596 --> 00:40:13,036
我们从添加 paymentMethod 数据对象开始


1122
00:40:16,636 --> 00:40:18,456
这包含了 Apple Pay 的


1123
00:40:18,456 --> 00:40:20,826
paymentMethod 识别符


1124
00:40:20,826 --> 00:40:22,256
以及 Apple Pay 特有的


1125
00:40:22,256 --> 00:40:26,496
一些选项


1126
00:40:26,696 --> 00:40:29,956
在这之后 是付款相关的各种细节


1127
00:40:30,406 --> 00:40:31,976
这里是我们指定


1128
00:40:31,976 --> 00:40:33,716
有关交易细节的地方


1129
00:40:33,716 --> 00:40:35,366
例如我的网站名称


1130
00:40:35,366 --> 00:40:37,086
交易总额和每个订单项


1131
00:40:37,636 --> 00:40:40,546
我决定让事情简单化


1132
00:40:40,546 --> 00:40:41,556
所以我把清单上的


1133
00:40:41,556 --> 00:40:43,696
每一项物品的定价都设为 5 美元


1134
00:40:48,076 --> 00:40:50,346
最后 options 参数


1135
00:40:50,776 --> 00:40:52,466
指明了我需要从我的用户那里


1136
00:40:52,466 --> 00:40:54,006
收集哪些信息


1137
00:40:54,006 --> 00:40:55,206
来完成交易


1138
00:40:55,746 --> 00:40:58,626
让我们切换回 iPad


1139
00:40:58,626 --> 00:41:01,916
并且加入一些物品到我的清单里


1140
00:41:11,186 --> 00:41:12,676
那么 现在我们已经把所有的信息


1141
00:41:12,676 --> 00:41:13,936
输入进来了


1142
00:41:13,936 --> 00:41:16,006
我们需要去调用另一个方法来


1143
00:41:16,006 --> 00:41:17,016
展示这个表格


1144
00:41:17,286 --> 00:41:20,716
这就是对于 paymentRequest 的


1145
00:41:20,716 --> 00:41:21,606
show 方法


1146
00:41:22,106 --> 00:41:23,086
并且这个方法会返回一个 promise


1147
00:41:23,086 --> 00:41:24,766
当用户授权这笔交易的执行


1148
00:41:24,986 --> 00:41:26,506
做出支付回应时


1149
00:41:26,506 --> 00:41:28,036
就会调用响应函数 resolve


1150
00:41:28,036 --> 00:41:29,546
用户可以用 Face ID 或 Touch ID


1151
00:41:29,546 --> 00:41:30,206
等方式授权


1152
00:41:30,906 --> 00:41:32,066
这里是你可以


1153
00:41:32,066 --> 00:41:33,446
处理交易的地方


1154
00:41:33,946 --> 00:41:37,456
然后 最后一步 你可以调用 complete 


1155
00:41:37,456 --> 00:41:39,846
获得一个交易成功或失败的值


1156
00:41:39,846 --> 00:41:42,796
这由交易的状态来决定


1157
00:41:42,796 --> 00:41:45,436
好的 现在我们在 iPad 上


1158
00:41:45,436 --> 00:41:45,966
实践一下


1159
00:41:50,276 --> 00:41:50,976
这样就行了


1160
00:41:51,516 --> 00:41:56,046
[ 掌声 ]


1161
00:41:56,546 --> 00:41:58,156
然后 你还需要执行


1162
00:41:58,156 --> 00:41:59,626
一些其他的步骤


1163
00:41:59,626 --> 00:42:01,026
例如 从 Apple Pay 服务器上


1164
00:42:01,026 --> 00:42:02,076
获取付款会话


1165
00:42:02,346 --> 00:42:04,396
想了解关于这点的更多信息


1166
00:42:04,426 --> 00:42:06,476
请查看 Apple 开发者网站的


1167
00:42:06,476 --> 00:42:08,056
有关这个演讲的网页


1168
00:42:08,056 --> 00:42:09,626
上面会有关于这些资源的链接


1169
00:42:11,076 --> 00:42:14,256
现在 最后我意识到


1170
00:42:14,256 --> 00:42:15,446
我还没有让我的读者们看到


1171
00:42:15,446 --> 00:42:18,716
他们在建造的东西


1172
00:42:18,946 --> 00:42:19,536
整体是什么样子的


1173
00:42:20,326 --> 00:42:21,956
所以我想在页面的顶端


1174
00:42:21,956 --> 00:42:23,826
添加一个成品的


1175
00:42:23,826 --> 00:42:24,296
展示图


1176
00:42:25,626 --> 00:42:27,266
不过 为什么要满足于一张静态图片呢？


1177
00:42:27,266 --> 00:42:28,236
如果你能在自己周遭环境里


1178
00:42:28,236 --> 00:42:29,626
真的看到这个鸟舍


1179
00:42:29,986 --> 00:42:31,206
感觉一下它的尺寸大小


1180
00:42:31,206 --> 00:42:32,206
那不是很棒吗


1181
00:42:33,106 --> 00:42:34,486
那么 通过 iOS 12 中的


1182
00:42:34,486 --> 00:42:36,066
新 AR Quick Look 功能


1183
00:42:36,066 --> 00:42:36,736
我们只需要几行代码


1184
00:42:36,736 --> 00:42:36,976
就能实现


1185
00:42:42,296 --> 00:42:43,886
我们来进入我的 HTML


1186
00:42:45,916 --> 00:42:46,606
来插入代码


1187
00:42:47,586 --> 00:42:49,256
我现在所要做的就是


1188
00:42:49,256 --> 00:42:49,736
添加一个图像


1189
00:42:50,166 --> 00:42:52,536
并且链接到一个 USDZ 文档


1190
00:42:52,866 --> 00:42:53,666
它就是我的鸟舍模型


1191
00:42:53,666 --> 00:42:56,936
把 rel 属性设为 AR


1192
00:42:57,206 --> 00:43:02,066
切换回 iPad


1193
00:43:03,076 --> 00:43:04,726
这就是我们最终成品的样子


1194
00:43:04,766 --> 00:43:06,656
它看起来很不错 不过用户


1195
00:43:06,656 --> 00:43:08,166
还可以点击


1196
00:43:08,166 --> 00:43:09,936
AR Quick Look 的小图标


1197
00:43:09,936 --> 00:43:10,926
就在角落这里


1198
00:43:11,296 --> 00:43:15,136
我们可以查看这个模型


1199
00:43:15,136 --> 00:43:18,726
上下左右地挪动它


1200
00:43:18,726 --> 00:43:20,586
还能把它放置在真实环境里


1201
00:43:20,586 --> 00:43:22,296
直观地感受一下我


1202
00:43:22,756 --> 00:43:22,886
要建造的是什么


1203
00:43:23,516 --> 00:43:29,836
[ 掌声 ]


1204
00:43:30,336 --> 00:43:33,576
所以 其实实现起来


1205
00:43:34,356 --> 00:43:34,806
真的很简单


1206
00:43:35,196 --> 00:43:36,416
请查阅相关的板块


1207
00:43:36,416 --> 00:43:37,226
如果你有机会的话


1208
00:43:37,386 --> 00:43:38,796
现在我想请 Shloka 回到台上


1209
00:43:38,796 --> 00:43:39,776
来做最后的总结


1210
00:43:39,776 --> 00:43:39,956
谢谢大家


1211
00:43:40,516 --> 00:43:46,916
[ 掌声 ]


1212
00:43:47,416 --> 00:43:49,076
>> 非常感谢 Jason


1213
00:43:49,076 --> 00:43:51,716
而且这个 AR 模型看起来


1214
00:43:51,716 --> 00:43:52,416
非常非常的酷


1215
00:43:52,656 --> 00:43:54,536
而且 我认为它真的让我


1216
00:43:55,626 --> 00:43:57,896
想要建造一座鸟舍


1217
00:43:58,886 --> 00:44:00,186
不过我可没有做出任何承诺


1218
00:44:02,026 --> 00:44:03,686
综上所述 你可以添加自定义的


1219
00:44:03,686 --> 00:44:04,466
拖放功能


1220
00:44:04,756 --> 00:44:07,096
还可以自定义 iPad 的


1221
00:44:07,476 --> 00:44:08,226
全屏控制设定


1222
00:44:08,896 --> 00:44:10,296
你可以采用 Payment Request API


1223
00:44:10,296 --> 00:44:12,106
以支持 Apple Pay 的使用


1224
00:44:12,106 --> 00:44:13,576
采用 Service Worker API 


1225
00:44:13,576 --> 00:44:15,226
以改善离线的用户体验


1226
00:44:15,746 --> 00:44:17,656
或者 你还可以为内容添加 AR 模型


1227
00:44:17,656 --> 00:44:18,826
以增加其深度


1228
00:44:19,296 --> 00:44:20,836
而且现在你的网站也可以在


1229
00:44:20,836 --> 00:44:22,406
苹果手表上浏览


1230
00:44:22,956 --> 00:44:25,646
我在演讲中提到了几个板块


1231
00:44:25,696 --> 00:44:27,146
供你们参考这几个单独的功能


1232
00:44:27,146 --> 00:44:28,976
不过如果你们在这场演讲结束后


1233
00:44:28,976 --> 00:44:30,786
立刻就有问题要问


1234
00:44:30,786 --> 00:44:32,886
请顺便来访问


1235
00:44:32,886 --> 00:44:34,466
Safari WebKit and Password AutoFill


1236
00:44:34,466 --> 00:44:34,746
实验室


1237
00:44:35,186 --> 00:44:36,476
并且可以查看


1238
00:44:36,476 --> 00:44:38,066
这个板块的链接


1239
00:44:38,236 --> 00:44:40,656
还有文档资源


1240
00:44:40,656 --> 00:44:41,746
以及其他相关的板块


1241
00:44:42,076 --> 00:44:45,576
现在 关于 Web 


1242
00:44:45,576 --> 00:44:47,336
真的有太多太多的功能


1243
00:44:47,756 --> 00:44:48,946
我希望这个简要的概述能够


1244
00:44:48,946 --> 00:44:51,246
让你们感受到


1245
00:44:51,246 --> 00:44:53,656
苹果公司是如何不断地改进


1246
00:44:53,656 --> 00:44:56,066
对 Safari 和 WebKit 的支持


1247
00:44:56,066 --> 00:44:58,646
以便于 web 开发者 本地开发者


1248
00:44:58,646 --> 00:45:00,046
还有扩展开发者


1249
00:45:00,046 --> 00:45:01,966
能够一直为他们的用户


1250
00:45:01,966 --> 00:45:04,496
提供尽可能


1251
00:45:04,496 --> 00:45:05,076
好的体验


1252
00:45:06,446 --> 00:45:07,356
感谢各位在场参与


1253
00:45:07,356 --> 00:45:10,356
我们的板块


1254
00:45:10,706 --> 00:45:12,526
希望你们喜欢


1255
00:45:12,526 --> 00:45:13,496
并且 祝大家接下来在 WWDC 的时间


1256
00:45:13,556 --> 00:45:13,976
过得愉快


1257
00:45:14,516 --> 00:45:18,500
[ 掌声 ]

