1
00:00:07,516 --> 00:00:16,500
[ 音乐 ]


2
00:00:23,516 --> 00:00:30,656
[ 掌声 ]


3
00:00:31,156 --> 00:00:31,696
>> 早上好


4
00:00:32,836 --> 00:00:34,026
我的名字是 Keith Rauenbuehler


5
00:00:34,186 --> 00:00:35,796
我来自 HomeKit Engineering 团队


6
00:00:36,666 --> 00:00:37,906
现在 我们要重点谈一谈


7
00:00:37,906 --> 00:00:40,936
HomeKit 的三个具体领域


8
00:00:42,276 --> 00:00:44,156
首先 我们将概述一下


9
00:00:44,156 --> 00:00:47,086
HomeKit 和 Home App


10
00:00:47,086 --> 00:00:48,686
然后我们会讲讲


11
00:00:48,686 --> 00:00:50,796
如何设置 HomeKit 配件


12
00:00:51,946 --> 00:00:53,686
最后 我们会谈谈 


13
00:00:53,686 --> 00:00:56,016
HomeKit API 以及如何使用它们


14
00:00:56,936 --> 00:00:58,146
让我们直奔主题


15
00:00:58,826 --> 00:01:02,186
最好的去真正了解


16
00:01:02,186 --> 00:01:04,075
HomeKit 功能的方式


17
00:01:04,676 --> 00:01:06,686
就是打开 Home App


18
00:01:07,356 --> 00:01:09,386
仅仅一页 App 界面


19
00:01:09,416 --> 00:01:10,946
便连接了你所有的 HomeKit 配件


20
00:01:12,236 --> 00:01:14,436
现在 有数不清的功能被设计进


21
00:01:14,436 --> 00:01:16,086
Home App 我们利用


22
00:01:16,086 --> 00:01:17,816
今天的大会来谈谈


23
00:01:17,816 --> 00:01:18,856
其中比较重要的功能


24
00:01:19,396 --> 00:01:21,666
Home App 现在


25
00:01:21,666 --> 00:01:25,936
支持 iPad iPhone 和 Apple Watch


26
00:01:26,566 --> 00:01:30,186
Home App 有三个基本的选项


27
00:01:30,616 --> 00:01:32,906
这是 Home 选项 用来


28
00:01:32,906 --> 00:01:34,376
寻找你喜欢的


29
00:01:34,376 --> 00:01:36,436
HomeKit 配件和场景


30
00:01:37,446 --> 00:01:39,516
这是 Rooms 选项 这是


31
00:01:39,516 --> 00:01:41,906
一个很棒的选项 用来设置


32
00:01:41,906 --> 00:01:43,516
特定的房间和浏览


33
00:01:43,516 --> 00:01:44,786
其所有的配件


34
00:01:44,786 --> 00:01:45,976
只要是这个房间里的


35
00:01:47,056 --> 00:01:49,226
最后是 Automations 选项


36
00:01:49,226 --> 00:01:50,556
你可以在这里


37
00:01:50,556 --> 00:01:52,456
设置和管理你的智能家居


38
00:01:52,456 --> 00:01:53,116
自动设备


39
00:01:53,696 --> 00:01:57,016
现在 控制配件


40
00:01:57,016 --> 00:01:58,136
对于 Home App 来说非常简单


41
00:01:59,246 --> 00:02:01,866
想要切换状态 只需点击屏幕上的块


42
00:02:02,926 --> 00:02:04,106
所以如果你想打开


43
00:02:04,106 --> 00:02:07,726
一盏灯 你只需点击这个块


44
00:02:11,476 --> 00:02:13,016
现在 如果你想要进行更加精细的


45
00:02:13,016 --> 00:02:16,096
控制 你可以使用三维触控 


46
00:02:16,096 --> 00:02:17,136
来打开我们的快速控制


47
00:02:17,686 --> 00:02:18,716
所以我们回到刚才


48
00:02:18,716 --> 00:02:20,686
同一盏灯的问题上 如果我们想调节


49
00:02:20,816 --> 00:02:23,876
它整体的亮度 看这是一个变光开关 我们可以 


50
00:02:23,876 --> 00:02:26,296
在屏幕上使用三维触控 然后我们就能


51
00:02:26,296 --> 00:02:27,196
打开快速控制栏


52
00:02:32,506 --> 00:02:33,806
现在 我们也加入了场景


53
00:02:33,806 --> 00:02:35,716
在这个 Home App 里面 场景是一个


54
00:02:35,716 --> 00:02:37,266
非常有效的途径来实现你的控制


55
00:02:37,516 --> 00:02:38,636
它可以让你控制多种


56
00:02:38,636 --> 00:02:40,876
配件 只需一次简单的点击即可完成


57
00:02:41,916 --> 00:02:43,406
一个场景就是一个简单的界面


58
00:02:43,746 --> 00:02:45,016
它将多种配件组合


59
00:02:45,016 --> 00:02:46,716
在一起 不论是开始


60
00:02:46,716 --> 00:02:49,406
你清晨的一天还是


61
00:02:49,406 --> 00:02:50,536
将你的卧室设置成


62
00:02:50,536 --> 00:02:51,956
完美的观赏电影场所


63
00:02:52,306 --> 00:02:54,826
在一天里 你的家时刻在变化


64
00:02:55,586 --> 00:02:56,666
人们来来往往


65
00:02:57,326 --> 00:02:59,276
灯也许开了又关


66
00:02:59,826 --> 00:03:00,996
百叶窗开开合合


67
00:03:01,306 --> 00:03:02,406
而场景功能则将帮助你


68
00:03:02,406 --> 00:03:03,966
基本上制定一个理想的


69
00:03:03,966 --> 00:03:05,346
状态 所有这些附件都可以实现


70
00:03:06,136 --> 00:03:07,126
让你可以拥有一个美好的夜晚


71
00:03:07,126 --> 00:03:08,956
场景关闭了灯盏


72
00:03:09,496 --> 00:03:11,596
合上了百叶窗 锁上了


73
00:03:11,596 --> 00:03:13,216
门 并且设定了恒温器


74
00:03:14,386 --> 00:03:15,576
然后当你准备上床睡觉时


75
00:03:16,086 --> 00:03:17,676
你只需点击屏幕上的


76
00:03:17,676 --> 00:03:19,596
"晚安" 而 HomeKit


77
00:03:19,596 --> 00:03:20,726
则会为你在夜间管理你的房子


78
00:03:29,326 --> 00:03:32,476
现在 在 iOS 上 我们也拥有了快速


79
00:03:32,476 --> 00:03:34,736
进入 Home 快捷指令的方法 即通过控制中心


80
00:03:35,796 --> 00:03:37,196
这是一个极棒的方式来浏览和


81
00:03:37,196 --> 00:03:38,756
控制你喜欢的 HomeKit


82
00:03:38,756 --> 00:03:40,476
配件 它甚至


83
00:03:40,476 --> 00:03:41,986
可以提供进入场景的方式


84
00:03:42,586 --> 00:03:44,386
现在 这的确非常 真的 


85
00:03:44,386 --> 00:03:46,466
方便 但是更棒的


86
00:03:46,466 --> 00:03:47,416
方式来控制 HomeKit


87
00:03:47,416 --> 00:03:48,976
配件是通过 Siri


88
00:03:49,596 --> 00:03:52,066
你可以对 Siri 说早上好


89
00:03:52,066 --> 00:03:54,686
这将激活你美好的清晨场景


90
00:03:55,336 --> 00:03:57,816
你也可以通过 Siri 来控制


91
00:03:57,816 --> 00:03:59,356
个人的 HomeKit 配件


92
00:04:00,046 --> 00:04:01,346
所以你可以用 Siri 打开


93
00:04:01,346 --> 00:04:03,826
你厨房的灯或者


94
00:04:03,826 --> 00:04:04,966
确认你的门是否已经锁了


95
00:04:05,756 --> 00:04:06,946
你甚至可以使用 Siri 打开


96
00:04:06,946 --> 00:04:08,566
你喜欢的 HomeKit 相机流


97
00:04:09,636 --> 00:04:13,196
现在 截至目前 HomeKit 仅支持


98
00:04:13,456 --> 00:04:17,776
iOS watchOS 和 tvOS


99
00:04:18,776 --> 00:04:20,086
但是今年 我们激动地


100
00:04:20,086 --> 00:04:22,926
宣布我们的 Home App 将支持 Mac 


101
00:04:24,516 --> 00:04:29,176
[ 掌声 ]


102
00:04:29,676 --> 00:04:30,766
现在 我们非常激动


103
00:04:30,796 --> 00:04:32,396
这是一个极棒的途径


104
00:04:32,396 --> 00:04:34,096
来控制你的家


105
00:04:34,096 --> 00:04:36,136
仅需电脑 甚至不用


106
00:04:36,136 --> 00:04:37,126
从口袋中掏出你的手机


107
00:04:38,656 --> 00:04:41,016
这也是一个极好的方式来控制


108
00:04:41,016 --> 00:04:42,306
你的家 因为你将收到 


109
00:04:42,306 --> 00:04:44,166
你的 HomeKit 通知 


110
00:04:44,166 --> 00:04:44,656
它会出现在你的 Mac 上 


111
00:04:45,916 --> 00:04:47,416
并且我们甚至还打造了 HomeKit 


112
00:04:47,626 --> 00:04:49,696
Siri 集成在 Mac 上面 


113
00:04:49,696 --> 00:04:51,416
所以你可以使用所有你 


114
00:04:51,416 --> 00:04:53,586
喜欢的 Siri 激活方式来 


115
00:04:53,586 --> 00:04:54,586
管理你的配件


116
00:04:54,586 --> 00:04:55,596
这可以直接在电脑上实现 


117
00:04:55,926 --> 00:04:57,366
现在苹果最新的 


118
00:04:57,366 --> 00:04:59,916
产品 HomePod 是我 


119
00:04:59,916 --> 00:05:00,926
最喜欢的方式来控制我的 


120
00:05:00,926 --> 00:05:01,826
HomeKit 配件


121
00:05:02,356 --> 00:05:03,576
它不仅仅是一个优秀的 


122
00:05:03,576 --> 00:05:06,836
音响 更是一种绝佳的方式 


123
00:05:06,836 --> 00:05:07,676
来管理你的 HomeKit 


124
00:05:07,676 --> 00:05:09,566
配件 因为任何人在


125
00:05:09,616 --> 00:05:11,236
你的家都可以使用它 仅仅通过


126
00:05:11,236 --> 00:05:11,756
他们的语音即可


127
00:05:13,276 --> 00:05:15,276
这种解放双手的 Siri 界面 


128
00:05:15,936 --> 00:05:17,126
允许你快速便捷地


129
00:05:17,126 --> 00:05:18,636
在你的家中 管理这些配件


130
00:05:19,176 --> 00:05:21,226
非常容易上手


131
00:05:21,226 --> 00:05:23,286
我特别喜欢用我的


132
00:05:23,286 --> 00:05:24,946
HomePod 来控制家里的


133
00:05:24,946 --> 00:05:25,486
那些灯光 


134
00:05:26,836 --> 00:05:27,996
这变得尤其方便 


135
00:05:27,996 --> 00:05:29,556
当我走进厨房 


136
00:05:29,556 --> 00:05:31,736
扛着大包小包 我只需要 


137
00:05:31,826 --> 00:05:33,806
用我的声音告诉 Siri 打开灯即可 


138
00:05:35,736 --> 00:05:37,086
目前我们也收到了很多


139
00:05:37,086 --> 00:05:39,496
用户反馈 他们说自己 


140
00:05:39,496 --> 00:05:41,036
非常喜欢使用他们的 HomePod 


141
00:05:41,036 --> 00:05:42,056
打开晚安场景 


142
00:05:43,126 --> 00:05:44,466
他们只需仅仅告诉 Siri 晚安这个词 


143
00:05:44,466 --> 00:05:45,506
当他们想要睡觉的时候 


144
00:05:46,186 --> 00:05:50,356
目前 HomePod 已经充当了


145
00:05:50,356 --> 00:05:53,816
比以往更重要的角色 


146
00:05:53,976 --> 00:05:56,946
在我们的家中 因为它可以实现远程控制 


147
00:05:56,946 --> 00:05:58,686
和自动化操作


148
00:05:59,326 --> 00:06:01,846
目前 远程控制是我在 HomeKit 


149
00:06:01,846 --> 00:06:03,766
上最喜欢的功能之一 因为


150
00:06:03,966 --> 00:06:05,936
它可以让你在并不在家的时候


151
00:06:05,936 --> 00:06:07,286
控制你的家


152
00:06:08,646 --> 00:06:11,546
当你不在家的时候 可以放宽心来检查 


153
00:06:11,546 --> 00:06:14,206
车库的门是否锁好或者 


154
00:06:14,206 --> 00:06:16,396
你的恒温器有没有关好


155
00:06:17,466 --> 00:06:18,586
并且 你可以在任何距离家较远的情况下


156
00:06:18,586 --> 00:06:19,086
实现这个功能


157
00:06:19,586 --> 00:06:21,716
目前 这个功能需要配备


158
00:06:21,716 --> 00:06:25,666
家庭控制中心 但 HomePod Apple TV


159
00:06:25,906 --> 00:06:32,236
和 iPad 都有内置家庭控制中心的功能


160
00:06:32,456 --> 00:06:33,956
所以通过远程遥控 你可以 


161
00:06:33,956 --> 00:06:35,436
在你出门之后


162
00:06:35,436 --> 00:06:35,756
密切关注家里的情况


163
00:06:36,566 --> 00:06:38,136
也许你想要分享 


164
00:06:38,136 --> 00:06:39,856
控制支持 


165
00:06:39,856 --> 00:06:41,486
给其他的用户 


166
00:06:42,516 --> 00:06:43,876
在 HomeKit 上 你可以管理 


167
00:06:43,996 --> 00:06:45,316
其他用户的远程控制 


168
00:06:45,316 --> 00:06:47,276
权限 并且指定 


169
00:06:47,276 --> 00:06:49,646
其他用户仅能在本地控制部分配件 


170
00:06:49,926 --> 00:06:53,186
让我们来谈谈 


171
00:06:53,186 --> 00:06:54,526
远程控制如何工作的


172
00:06:55,956 --> 00:06:56,936
当你在家时 


173
00:06:57,866 --> 00:06:59,626
你的 Apple 装置直接同 


174
00:06:59,626 --> 00:07:01,506
你的配件进行交流 


175
00:07:02,746 --> 00:07:04,176
但是当你离开家的时候 


176
00:07:05,476 --> 00:07:07,236
你就需要一个家庭控制中心了 再说一次 


177
00:07:07,236 --> 00:07:09,556
它可以是一个 HomePod 或者 Apple TV


178
00:07:09,896 --> 00:07:12,546
再或者是 iPad 然后你的手机


179
00:07:12,546 --> 00:07:13,606
将直接同你的家庭 


180
00:07:13,606 --> 00:07:15,606
控制中心沟通 然后控制中心再将


181
00:07:15,606 --> 00:07:16,616
同配件进行沟通


182
00:07:17,156 --> 00:07:20,666
你可以检查这些配件的


183
00:07:20,666 --> 00:07:21,656
最新状态


184
00:07:22,086 --> 00:07:24,116
你也可以浏览相机中的照片流 


185
00:07:24,116 --> 00:07:26,416
你甚至可以锁上你的门 


186
00:07:26,416 --> 00:07:27,456
如果你出门


187
00:07:27,456 --> 00:07:28,556
开始新的一天之前


188
00:07:29,216 --> 00:07:29,283
忘记了锁门


189
00:07:29,446 --> 00:07:31,336
现在 我们已经见识了多简单易行


190
00:07:31,336 --> 00:07:32,926
来利用场景功能 


191
00:07:32,926 --> 00:07:33,996
让设备一起工作


192
00:07:34,506 --> 00:07:35,916
场景功能的确非常出色 但是


193
00:07:35,916 --> 00:07:37,186
自动操作能让你切换 


194
00:07:37,186 --> 00:07:38,276
场景更加自动化


195
00:07:39,196 --> 00:07:41,166
所以你可以完成这件事却不用


196
00:07:41,166 --> 00:07:46,396
打开 Home App 或者使用你的语音


197
00:07:46,586 --> 00:07:47,846
自动操作让你可以控制 


198
00:07:47,846 --> 00:07:50,446
单独配件或者是整个 


199
00:07:50,446 --> 00:07:51,876
场景 它是基于一些关键性


200
00:07:51,876 --> 00:07:53,796
驱动来实现的 例如


201
00:07:53,796 --> 00:07:56,116
某人回到家 或者在某个


202
00:07:56,116 --> 00:07:57,336
特定的时间点运行它


203
00:07:58,246 --> 00:08:00,056
你甚至可以用其他 


204
00:08:00,056 --> 00:08:01,096
在房间的配件来 


205
00:08:01,096 --> 00:08:02,086
激活自动操作 


206
00:08:03,346 --> 00:08:05,216
自动操作可以便捷地


207
00:08:05,486 --> 00:08:06,866
在后门打开时 


208
00:08:06,966 --> 00:08:09,476
打开后阳台的灯 或者 


209
00:08:10,746 --> 00:08:13,926
当有人出门时关闭空调


210
00:08:15,546 --> 00:08:16,996
现在 我们也支持更多 


211
00:08:16,996 --> 00:08:21,436
复杂的自动操作 所以你可以


212
00:08:21,496 --> 00:08:23,506
打开车库门 打开你的灯 


213
00:08:23,506 --> 00:08:25,456
打开百叶窗 


214
00:08:25,606 --> 00:08:27,546
将恒温器设定到 


215
00:08:27,546 --> 00:08:29,916
适宜的温度 这些都能在你已经达到车道时做到 


216
00:08:30,516 --> 00:08:31,516
现在 这是我最喜欢的 


217
00:08:31,516 --> 00:08:33,895
自动操作之一 因为我经常


218
00:08:34,426 --> 00:08:37,606
要应付一些杂货 或者孩子们   


219
00:08:37,606 --> 00:08:39,796
或者当我到家的时候 正要结束一通电话


220
00:08:40,446 --> 00:08:41,576
这就让我可以进入


221
00:08:41,576 --> 00:08:43,456
家中而不用笨拙地摸索 


222
00:08:43,456 --> 00:08:44,356
我的钥匙


223
00:08:47,356 --> 00:08:49,286
现在 其中一件重要的事是 


224
00:08:49,286 --> 00:08:50,656
HomeKit 提供给顾客的是


225
00:08:50,736 --> 00:08:53,506
难以置信的便捷方式来


226
00:08:53,506 --> 00:08:54,946
将配件添加到你的家中或者


227
00:08:54,946 --> 00:08:55,576
你的家居网络中


228
00:08:56,966 --> 00:08:58,516
其他的服务经常会要求 


229
00:08:58,516 --> 00:09:00,606
你下载 App 根据 


230
00:09:00,916 --> 00:09:03,366
用户指示 并且历经 


231
00:09:03,366 --> 00:09:04,466
一连串复杂的过程来添加 


232
00:09:04,466 --> 00:09:05,316
一款配件到你的网络中去


233
00:09:06,036 --> 00:09:08,076
现在如果你曾经设置过 


234
00:09:08,076 --> 00:09:10,136
没有 HomeKit 的配件 你就会明白


235
00:09:10,136 --> 00:09:11,276
这样的体验能是多么的 


236
00:09:11,276 --> 00:09:12,896
令人沮丧和厌烦 


237
00:09:13,696 --> 00:09:15,486
有了 HomeKit 添加配件变得


238
00:09:15,486 --> 00:09:16,416
易如反掌


239
00:09:17,456 --> 00:09:19,146
你只需下载 Home


240
00:09:19,146 --> 00:09:21,306
App 并扫描配件码 


241
00:09:22,596 --> 00:09:24,086
剩下的交给 HomeKit 就好了


242
00:09:24,706 --> 00:09:25,626
就是这么简单


243
00:09:26,166 --> 00:09:29,186
并且如果配件具备 NFC 功能


244
00:09:29,376 --> 00:09:31,326
则会让这个设置过程更简单


245
00:09:32,426 --> 00:09:33,576
你可以下载 Home App


246
00:09:34,156 --> 00:09:36,816
在你手机上点击配件 然后就大功告成 


247
00:09:40,916 --> 00:09:42,586
关于 HomeKit 还有一件很棒的事  


248
00:09:42,586 --> 00:09:44,636
那就是它既安全又私密


249
00:09:45,906 --> 00:09:47,956
所有配件之间的交流都是 


250
00:09:47,956 --> 00:09:50,666
加密的 我们针对每次会话


251
00:09:50,666 --> 00:09:52,096
发明出一种全新的共享密钥 


252
00:09:52,676 --> 00:09:56,806
数据也是非公开的 所以


253
00:09:56,806 --> 00:09:58,246
Apple 没有可以进入


254
00:09:58,246 --> 00:09:59,566
你相机流的权限 


255
00:09:59,816 --> 00:10:02,056
Apple 也不能窃听你们的对话 


256
00:10:02,376 --> 00:10:03,726
Apple 甚至不能分辨出


257
00:10:03,726 --> 00:10:05,046
你刚刚是开了灯 还是关了


258
00:10:06,106 --> 00:10:07,216
我们知道你的家是私密空间 


259
00:10:07,216 --> 00:10:08,976
所以我们要保持这个状态


260
00:10:09,656 --> 00:10:11,316
所以当你控制你的家


261
00:10:12,036 --> 00:10:14,376
以及各种配件 执行


262
00:10:14,376 --> 00:10:16,536
场景功能 甚至全权使用 Siri 


263
00:10:16,536 --> 00:10:17,836
支持时 所有的这些都是基于一种安全


264
00:10:17,836 --> 00:10:18,296
和私人的方式


265
00:10:18,296 --> 00:10:22,816
我们希望这样的交流 


266
00:10:22,816 --> 00:10:24,726
可以变得非常安全 并且所有信息 


267
00:10:24,876 --> 00:10:26,076
都是直接


268
00:10:26,076 --> 00:10:29,066
在 Apple 设备和配件之间进行 


269
00:10:29,486 --> 00:10:32,016
所以你的配件永远不需要


270
00:10:32,016 --> 00:10:35,306
链接到云端


271
00:10:35,306 --> 00:10:37,956
这种方式除了安全 它还很快


272
00:10:38,456 --> 00:10:40,226
因为所有的信息都 


273
00:10:40,226 --> 00:10:42,846
是在本地中完成 没必要


274
00:10:42,846 --> 00:10:44,000
再去经过服务器 


275
00:10:48,776 --> 00:10:51,756
我们的 HomeKit Accessory


276
00:10:51,756 --> 00:10:53,636
Protocol 是一个交流


277
00:10:53,636 --> 00:10:55,216
频道 用来保护信息的安全性 


278
00:10:55,466 --> 00:10:56,576
信息在配件和你的 


279
00:10:56,576 --> 00:10:57,276
Apple 设备中传递


280
00:10:58,456 --> 00:11:00,616
这些信息都已被加密因此


281
00:11:00,616 --> 00:11:01,996
只有被信任的设备


282
00:11:01,996 --> 00:11:02,506
才能阅读它们


283
00:11:03,476 --> 00:11:04,676
这就意味着即使其他人


284
00:11:04,936 --> 00:11:06,006
通过某些方式截获了


285
00:11:06,006 --> 00:11:07,726
信息 他们也不能解码


286
00:11:07,726 --> 00:11:08,826
或者看懂内容


287
00:11:09,896 --> 00:11:11,046
HomeKit Accessory


288
00:11:11,046 --> 00:11:13,946
Protocol 可在 Wi-Fi 和


289
00:11:13,946 --> 00:11:14,926
低功耗蓝牙环境下工作


290
00:11:15,256 --> 00:11:18,426
按照 IP 分类 即 Wi-Fi 和以太网


291
00:11:18,746 --> 00:11:20,386
Wi-Fi 很棒 因为它 


292
00:11:20,386 --> 00:11:22,106
能够提供可靠 快速


293
00:11:22,236 --> 00:11:25,516
远程的支持 所以你可以将 Wi-Fi 配件放在


294
00:11:25,606 --> 00:11:26,496
家里的任何位置


295
00:11:27,346 --> 00:11:29,626
我们还支持低功耗蓝牙


296
00:11:30,516 --> 00:11:34,156
这也很棒 因为尤其对于那些


297
00:11:34,156 --> 00:11:35,076
电池供电的配件来说


298
00:11:36,066 --> 00:11:39,516
比如感应器一类的东西 你可以使用低功耗蓝牙


299
00:11:39,956 --> 00:11:41,206
并且将这些感应器


300
00:11:41,206 --> 00:11:42,996
放置在方便的位置 


301
00:11:42,996 --> 00:11:44,506
因为它们不需要电源线 


302
00:11:45,056 --> 00:11:48,936
现在我们希望每个人
 
00:11:48,936 --> 00:11:50,556
都能体验家庭自动操作 


303
00:11:50,556 --> 00:11:51,926
因此我们提供了很多配件 


304
00:11:51,926 --> 00:11:53,576
条目 并且针对每个条目


305
00:11:53,576 --> 00:11:56,196
我们拥有顶级的制造商


306
00:11:56,496 --> 00:11:59,076
并且这个配件名单


307
00:11:59,076 --> 00:12:00,786
在不断增加 我们


308
00:12:00,786 --> 00:12:02,336
针对每个配件类别 


309
00:12:02,336 --> 00:12:03,316
支持多家制造商


310
00:12:04,046 --> 00:12:06,116
所以你总能找到一款适合你的


311
00:12:07,396 --> 00:12:10,866
有了 HomeKit 你甚至可以把同种类型的配件组合


312
00:12:10,866 --> 00:12:12,206
在一起 即使它们来自于


313
00:12:12,206 --> 00:12:14,056
不同的制造商 让它们一起工作


314
00:12:14,836 --> 00:12:16,186
HomeKit 让你更加简单地


315
00:12:16,186 --> 00:12:18,196
选择一款适合你家的配件


316
00:12:18,786 --> 00:12:21,786
有了 AirPlay 2 我们已经


317
00:12:21,786 --> 00:12:23,016
将音响加入了 


318
00:12:23,016 --> 00:12:24,186
Home App 的支持范围中


319
00:12:25,236 --> 00:12:27,186
在 iOS 12 中 我们还


320
00:12:27,186 --> 00:12:29,316
发布了远程遥控系统


321
00:12:30,776 --> 00:12:32,016
你可以设置一款远程 


322
00:12:32,016 --> 00:12:33,846
遥控的配件 这样你可以


323
00:12:33,846 --> 00:12:36,306
控制你的 Apple TV 


324
00:12:36,306 --> 00:12:37,156
甚至包括 Siri


325
00:12:37,766 --> 00:12:41,166
既然我们已经简明扼要地


326
00:12:41,166 --> 00:12:43,166
介绍了一下使用


327
00:12:43,166 --> 00:12:45,646
HomeKit 的好处 让我们来深入看看 


328
00:12:45,646 --> 00:12:47,266
什么资源可以用来


329
00:12:47,266 --> 00:12:48,266
制造一款 HomeKit 配件


330
00:12:48,906 --> 00:12:51,716
所以最简单的来开始 


331
00:12:51,716 --> 00:12:53,046
使用 HomeKit 和


332
00:12:53,046 --> 00:12:55,746
制造一款配件的方法就是 变成 MFI licensee


333
00:12:57,116 --> 00:12:58,906
这是一个极佳的项目 里面有


334
00:12:58,906 --> 00:13:00,896
各种有价值的工具 我已经迫不及待想和你们分享了 


335
00:13:00,896 --> 00:13:03,386
当然如果你只想了解 


336
00:13:03,386 --> 00:13:04,356
关于 HomeKit Accessory


337
00:13:04,356 --> 00:13:06,066
Protocol 我们也为各位开发人员


338
00:13:06,066 --> 00:13:07,416
提供了资源


339
00:13:08,106 --> 00:13:09,776
它的目的是为了非盈利的


340
00:13:09,776 --> 00:13:11,706
开发和探索


341
00:13:11,866 --> 00:13:13,226
HomeKit Accessory Protocol


342
00:13:14,286 --> 00:13:16,056
所以这对了解


343
00:13:16,056 --> 00:13:17,286
HomeKit Accessory


344
00:13:17,286 --> 00:13:18,906
Protocol 是很好的 但是如果你是认真的


345
00:13:18,906 --> 00:13:19,756
考虑制造一款 HomeKit


346
00:13:19,756 --> 00:13:22,026
配件 我们真诚地鼓励


347
00:13:22,026 --> 00:13:24,106
你加入 MFI 项目


348
00:13:24,636 --> 00:13:26,466
因为这是绝佳的方式 来快速开始工作


349
00:13:26,506 --> 00:13:30,096
所以现在开始谈谈


350
00:13:30,096 --> 00:13:32,076
成为 MFI 项目的一部分 你将


351
00:13:32,076 --> 00:13:36,086
得到什么好处


352
00:13:36,086 --> 00:13:37,846
加入 MFI 其实非常


353
00:13:37,846 --> 00:13:39,156
简单 而且你将得到非常多的


354
00:13:39,156 --> 00:13:40,266
工具和资源


355
00:13:40,926 --> 00:13:42,396
其中一个最新的


356
00:13:42,396 --> 00:13:44,056
也是我们最为此激动的工具就是


357
00:13:44,056 --> 00:13:45,046
HomeKit 配件


358
00:13:45,046 --> 00:13:46,916
开发工具包


359
00:13:47,056 --> 00:13:48,046
这是一个便捷的方式来 


360
00:13:48,046 --> 00:13:50,486
打造一款 HomeKit 配件


361
00:13:51,076 --> 00:13:53,506
这个 Dis 是一系列代码


362
00:13:53,506 --> 00:13:55,606
运行于配件中 来帮助


363
00:13:55,606 --> 00:13:56,736
抽象大量


364
00:13:56,736 --> 00:13:58,076
实施细节 这些都是你


365
00:13:58,076 --> 00:13:59,346
之前不得不担心的东西


366
00:13:59,896 --> 00:14:02,276
现在我们还提供工具来帮助


367
00:14:02,276 --> 00:14:04,316
处理许可问题 并且我们还会


368
00:14:04,316 --> 00:14:05,986
提供文件帮助你


369
00:14:05,986 --> 00:14:09,176
开始工作


370
00:14:09,176 --> 00:14:10,226
你还将得到一份 


371
00:14:10,226 --> 00:14:11,506
说明书 里面囊括了所有


372
00:14:11,506 --> 00:14:13,996
商业支持 包括


373
00:14:14,106 --> 00:14:16,326
如何在配件中 设置身份验证权


374
00:14:16,966 --> 00:14:21,266
现在 配件工具开发包


375
00:14:21,266 --> 00:14:22,626
让打造配件的过程 变得十分简单


376
00:14:24,016 --> 00:14:26,116
之前你可能需要担心如何构建


377
00:14:26,116 --> 00:14:30,786
配件逻辑 采用协议 进行加密 


378
00:14:31,326 --> 00:14:33,366
应用 WAC 所有这些其他的步骤


379
00:14:34,006 --> 00:14:35,116
而有了配件工具开发包


380
00:14:35,116 --> 00:14:37,486
我们将把这些琐事都为你办好


381
00:14:38,126 --> 00:14:39,856
我们为你的特殊配件


382
00:14:40,336 --> 00:14:42,396
提供平台逻辑 并且


383
00:14:42,396 --> 00:14:43,126
HomeKit 配件


384
00:14:43,126 --> 00:14:45,216
工具开发包为你摆平所有的细节


385
00:14:46,186 --> 00:14:48,246
这就意味着 你只需要考虑配件


386
00:14:48,246 --> 00:14:51,366
逻辑 这是你的配件独一无二的部分


387
00:14:51,366 --> 00:14:52,696
也是你真正关心的


388
00:14:52,696 --> 00:14:53,566
代码的一部分


389
00:14:55,516 --> 00:15:01,436
[ 掌声 ]


390
00:15:01,936 --> 00:15:03,496
现在 HomeKit 配件工具开发包虽然刚刚起步 


391
00:15:03,776 --> 00:15:04,796
但是我们已经收集了众多


392
00:15:04,796 --> 00:15:06,416
良好的反馈 我们的合作伙伴


393
00:15:06,646 --> 00:15:07,906
都在夸奖它有多么便捷


394
00:15:08,796 --> 00:15:10,376
MFI licensee 会发现


395
00:15:10,706 --> 00:15:12,256
它有多么容易上手 


396
00:15:12,476 --> 00:15:13,526
并且我们也目睹了 


397
00:15:13,896 --> 00:15:15,226
新的伙伴数量正在随着时间 


398
00:15:15,226 --> 00:15:16,246
以前所未有的速度增加


399
00:15:17,456 --> 00:15:18,976
当然了 配件工具开发包是


400
00:15:18,976 --> 00:15:20,976
可靠和安全的 因为我们


401
00:15:20,976 --> 00:15:22,336
内部已经做了无数次测试 


402
00:15:22,636 --> 00:15:24,326
并且我们安全部门的同事已经进行了审核


403
00:15:25,316 --> 00:15:26,986
而最美妙的事情在于


404
00:15:26,986 --> 00:15:29,066
配件工具开发包将得到我们持续的


405
00:15:29,066 --> 00:15:29,946
升级 这个过程是全年进行的


406
00:15:29,946 --> 00:15:33,846
因此只要有 iOS 更新 例如有了对配件的新支持


407
00:15:34,166 --> 00:15:35,456
或者是参数的调整


408
00:15:35,806 --> 00:15:37,766
我们就会相应更新配件工具开发包


409
00:15:37,906 --> 00:15:38,926
使之可以保持同步更新


410
00:15:39,586 --> 00:15:43,016
所以使用配件工具开发包


411
00:15:43,016 --> 00:15:43,956
到底有多快呢


412
00:15:45,136 --> 00:15:46,816
这么说吧 有了它 你可以


413
00:15:46,816 --> 00:15:48,336
构建一个功能模型


414
00:15:48,336 --> 00:15:49,906
完成并运行它 只需要不到一周时间


415
00:15:51,446 --> 00:15:52,336
但是我们看看这如何


416
00:15:52,336 --> 00:15:53,776
影响整个时间线 


417
00:15:54,326 --> 00:15:58,716
所以之前我们的伙伴 


418
00:15:58,716 --> 00:16:00,306
花费了大约六个月来 


419
00:16:00,306 --> 00:16:01,556
做开发 然后他们 


420
00:16:01,556 --> 00:16:03,366
不得不去做集成


421
00:16:03,426 --> 00:16:05,566
认证 然后才能上传他们的产品 


422
00:16:06,366 --> 00:16:07,576
我们发现这经常 


423
00:16:07,576 --> 00:16:09,116
需要一年的时间来完成 


424
00:16:11,136 --> 00:16:13,446
而有了配件工具开发包 我们发现 


425
00:16:13,446 --> 00:16:15,126
整个时间周期被大幅度缩短


426
00:16:16,546 --> 00:16:17,416
基于我们伙伴的反馈


427
00:16:17,416 --> 00:16:19,886
目前已经可以实现 


428
00:16:19,886 --> 00:16:20,846
在三个月的时间内


429
00:16:20,846 --> 00:16:23,176
完成 HomeKit 配件 


430
00:16:24,516 --> 00:16:27,556
[ 掌声 ]


431
00:16:28,056 --> 00:16:30,066
配件工具开发包让制作配件


432
00:16:30,066 --> 00:16:31,796
的过程变得比以往更容易


433
00:16:32,416 --> 00:16:34,566
想要了解更多 请加入 MFI 项目


434
00:16:35,066 --> 00:16:36,126
你将得到关于


435
00:16:36,126 --> 00:16:37,506
配件工具开发包的所有信息 而


436
00:16:37,506 --> 00:16:38,686
MFI licensee 已经在利用它们 


437
00:16:38,686 --> 00:16:40,246
打造优秀的配件 


438
00:16:41,716 --> 00:16:43,456
现在我想讲一下刚才提到的认证问题 


439
00:16:43,456 --> 00:16:45,016
下面我们就此问题 


440
00:16:45,016 --> 00:16:46,526
谈一谈


441
00:16:46,526 --> 00:16:48,976
这是 MFI 项目重要的一部分


442
00:16:49,966 --> 00:16:51,576
现在我们的客户 


443
00:16:51,576 --> 00:16:52,756
看到 Apple 标志会放心


444
00:16:53,146 --> 00:16:54,926
他们相信购买的产品是高质量的 


445
00:16:55,706 --> 00:16:58,036
所以当他们购买了一款 


446
00:16:58,036 --> 00:16:59,396
可以和 Apple HomeKit 配合工作的配件


447
00:17:01,176 --> 00:17:02,896
他们相信配件已经


448
00:17:02,896 --> 00:17:04,816
经过了彻底的测试并且


449
00:17:04,816 --> 00:17:05,556
由 Apple 进行了审核


450
00:17:06,096 --> 00:17:08,175
现在这个过程也和 


451
00:17:08,175 --> 00:17:10,455
App Store 的审核流程类似 所以 


452
00:17:10,455 --> 00:17:12,925
在 HomeKit 方面 我们有一个审核配件的流程 


453
00:17:14,056 --> 00:17:15,536
通过这个流程 来确保


454
00:17:15,536 --> 00:17:16,705
它们已经达到了我们对于


455
00:17:16,705 --> 00:17:18,476
品质的高要求 然后它们才算是为 


456
00:17:18,476 --> 00:17:20,026
提供给客户做好准备


457
00:17:20,486 --> 00:17:23,386
现在一旦配件通过 


458
00:17:23,386 --> 00:17:26,626
认证 它就可以使用 


459
00:17:26,626 --> 00:17:28,046
认证栈来启动


460
00:17:28,586 --> 00:17:30,976
这可以提供保证


461
00:17:30,976 --> 00:17:31,666
确保我们的顾客得到的是 


462
00:17:31,666 --> 00:17:32,456
高质量产品


463
00:17:33,286 --> 00:17:34,596
现在 认证本身 


464
00:17:34,596 --> 00:17:36,216
可以通过我们的硬件 


465
00:17:36,216 --> 00:17:38,046
芯片或者通过我们全新的


466
00:17:38,076 --> 00:17:39,216
基于软件的认证来完成 


467
00:17:39,806 --> 00:17:43,786
作为一个 MFI licensee 你也可以


468
00:17:43,786 --> 00:17:46,666
接触到制造商伙伴 他们会


469
00:17:46,666 --> 00:17:47,686
对你的产品打入市场有所帮助 


470
00:17:48,506 --> 00:17:49,766
所以只要今天坐在下面的你


471
00:17:49,766 --> 00:17:51,316
对于 HomeKit 有一个


472
00:17:51,316 --> 00:17:53,036
很棒的想法 这就是


473
00:17:53,036 --> 00:17:55,376
你将它带回家的


474
00:17:56,026 --> 00:17:57,926
千载难逢的好机会


475
00:17:57,926 --> 00:18:00,826
我们随时支持基于硬件的认证 


476
00:18:01,366 --> 00:18:04,726
但是最近我们也开始


477
00:18:04,726 --> 00:18:06,566
支持基于软件的认证 


478
00:18:07,106 --> 00:18:10,956
现在 顾客可以得到 


479
00:18:10,956 --> 00:18:12,406
同水平的质量和 


480
00:18:12,406 --> 00:18:14,296
信任感 而这种合成 


481
00:18:14,296 --> 00:18:16,466
支持将通过我们的固件升级来完成 


482
00:18:16,936 --> 00:18:19,836
这很棒 因为它 


483
00:18:19,836 --> 00:18:21,096
意味着你可以将 HomeKit 平铺运行在


484
00:18:21,096 --> 00:18:23,326
那些已经向用户提供的配件上


485
00:18:23,916 --> 00:18:27,846
目前还有其他三种特别棒的


486
00:18:27,846 --> 00:18:29,506
工具 我还想借今天上午这个机会介绍一下


487
00:18:30,766 --> 00:18:32,626
第一个是为配件开发人员


488
00:18:32,626 --> 00:18:34,506
提供的资源 它是


489
00:18:34,506 --> 00:18:36,146
为 MFI licensee 准备的 


490
00:18:36,376 --> 00:18:37,436
而这就是 HomeKit


491
00:18:37,436 --> 00:18:38,356
Accessory Tester


492
00:18:38,926 --> 00:18:41,846
这是一款 App 它有着


493
00:18:41,846 --> 00:18:43,396
简易的界面 来帮助你 


494
00:18:43,396 --> 00:18:44,626
测试你的配件 


495
00:18:46,056 --> 00:18:48,076
这是一个有效验证方式  


496
00:18:48,076 --> 00:18:49,086
检测你的配件是否做好了 


497
00:18:49,086 --> 00:18:50,646
接受审核程序的准备


498
00:18:51,176 --> 00:18:54,316
第二个工具我想 


499
00:18:54,316 --> 00:18:55,986
介绍的是 HomeKit


500
00:18:55,986 --> 00:18:57,166
Certification Assistant


501
00:18:59,036 --> 00:19:02,196
这也是为 MFI licensee 提供的资源


502
00:19:02,656 --> 00:19:05,226
也是加入这个项目的好处之一


503
00:19:05,746 --> 00:19:07,576
这是建立在 


504
00:19:07,576 --> 00:19:08,716
HomeKit Accessory Tester 之上的 


505
00:19:09,196 --> 00:19:10,886
它可以帮助你来 


506
00:19:10,886 --> 00:19:13,776
检测你的配件 


507
00:19:13,776 --> 00:19:16,006
甚至支持部分


508
00:19:16,006 --> 00:19:17,356
自动检测功能 


509
00:19:17,816 --> 00:19:21,626
第三个工具我想 


510
00:19:21,626 --> 00:19:23,096
说的是 HomeKit


511
00:19:23,096 --> 00:19:24,156
Accessory Simulator


512
00:19:25,186 --> 00:19:27,026
这是专门为开发人员 


513
00:19:27,026 --> 00:19:29,186
设计的一个工具 并且


514
00:19:29,186 --> 00:19:31,486
可以模仿不同类别的配件


515
00:19:32,036 --> 00:19:34,646
允许你测试 


516
00:19:34,646 --> 00:19:36,466
你的 App 确保它对


517
00:19:36,466 --> 00:19:37,896
所有 HomeKit 配件


518
00:19:37,896 --> 00:19:38,626
类别都有效 


519
00:19:39,256 --> 00:19:40,436
最好的地方在于 


520
00:19:40,436 --> 00:19:42,866
这意味着你不用出门购买每个 


521
00:19:42,866 --> 00:19:44,386
配件来做你的测试


522
00:19:44,916 --> 00:19:50,256
你可以在 Xcode 和


523
00:19:50,256 --> 00:19:51,126
MFI 项目中找到它


524
00:19:51,626 --> 00:19:54,126
并且这其实也是一个 


525
00:19:54,126 --> 00:19:55,786
我们内部在使用的工具 因为


526
00:19:55,786 --> 00:19:56,986
它是一种快速设置复杂的家居环境的


527
00:19:56,986 --> 00:19:59,066
极其简便的方法


528
00:19:59,066 --> 00:20:00,116
而其中包含许多配件


529
00:20:01,386 --> 00:20:02,966
当然你也可以 


530
00:20:02,966 --> 00:20:04,996
在真实的配件上进行测试


531
00:20:05,446 --> 00:20:08,746
我们已经讨论了许多关于 


532
00:20:08,746 --> 00:20:10,936
如何打造一个 HomeKit 配件的内容 但是


533
00:20:11,206 --> 00:20:13,606
如何制作一个 HomeKit App 呢


534
00:20:14,586 --> 00:20:17,226
让我们换个话题 谈一谈


535
00:20:17,226 --> 00:20:19,236
如果想要制作一款 HomeKit App 需要做些什么


536
00:20:19,756 --> 00:20:24,566
现在有大量的 App 上架 App Store


537
00:20:25,716 --> 00:20:27,106
如何使你的 App 更加突出


538
00:20:28,676 --> 00:20:29,956
对于 HomeKit


539
00:20:29,956 --> 00:20:31,816
思考谁是你的目标用户


540
00:20:31,816 --> 00:20:32,796
至关重要


541
00:20:33,366 --> 00:20:35,856
也许这延伸了 


542
00:20:35,856 --> 00:20:37,296
用户的功能性 比如


543
00:20:37,296 --> 00:20:38,376
调教或者矫正一款 


544
00:20:38,376 --> 00:20:42,986
配件 或者也许你住在这样一个地区


545
00:20:42,986 --> 00:20:44,666
这个地区有某些功能


546
00:20:44,666 --> 00:20:46,476
而它们对于这个区域是具有特定性的


547
00:20:46,476 --> 00:20:50,926
因而可能未存在于 App Store 中


548
00:20:50,926 --> 00:20:52,666
如果你是一个 MFI licensee


549
00:20:53,916 --> 00:20:55,016
正在为你的配件打造 


550
00:20:55,016 --> 00:20:57,316
一款 App 你也许想要 


551
00:20:57,316 --> 00:21:00,986
支持自主定制特性的服务


552
00:21:01,536 --> 00:21:04,416
而在 HomeKit 上 有许多


553
00:21:04,416 --> 00:21:05,546
我今天即将谈到的 API 


554
00:21:05,546 --> 00:21:07,736
但是在开始讨论


555
00:21:07,736 --> 00:21:09,416
细节之前 我认为还是 


556
00:21:09,416 --> 00:21:10,666
先看看针对对象的


557
00:21:10,666 --> 00:21:13,786
高水平的分级制度


558
00:21:14,376 --> 00:21:16,896
所以我想谈到的


559
00:21:16,896 --> 00:21:18,876
第一级叫做核心


560
00:21:18,876 --> 00:21:20,286
对象 即 HMHome


561
00:21:20,766 --> 00:21:28,676
它相当于一个整体的家 而在 HMHome 中


562
00:21:28,736 --> 00:21:30,866
你可以有选择地拥有 HMZone


563
00:21:31,316 --> 00:21:32,786
现在可以有的东西 比如 


564
00:21:32,786 --> 00:21:34,136
上下楼层


565
00:21:35,146 --> 00:21:38,566
你还可以拥有 HMRoom 这些房间


566
00:21:38,816 --> 00:21:39,726
通常和房子相


567
00:21:39,726 --> 00:21:41,246
连接 例如厨房


568
00:21:41,466 --> 00:21:45,376
客厅 餐室 卧室


569
00:21:45,626 --> 00:21:47,656
而在这些房间里


570
00:21:47,656 --> 00:21:48,626
你可以拥有 HMAccessorie


571
00:21:49,376 --> 00:21:52,516
这些灯光 电扇 摄像机 门锁


572
00:21:52,696 --> 00:21:54,636
都是我们所支持的常规配件


573
00:21:56,076 --> 00:21:57,826
所以你的 home 和 HMHome


574
00:21:57,826 --> 00:21:59,196
包含 HMZone


575
00:21:59,826 --> 00:22:02,166
而 HMZone 包含 HMRoom


576
00:22:02,506 --> 00:22:05,206
HMRoom 又包含 HMAccessorie


577
00:22:09,056 --> 00:22:10,516
目前 home 具备一些这样的


578
00:22:10,516 --> 00:22:12,836
属性 但是 home


579
00:22:12,836 --> 00:22:14,076
真正的功能是作为中央


580
00:22:14,126 --> 00:22:15,836
组织对象来为 HomeKit 工作


581
00:22:16,356 --> 00:22:18,866
所以 home 就是用来添加 


582
00:22:18,866 --> 00:22:21,296
附件 设置房间


583
00:22:21,786 --> 00:22:23,936
制定场景 构造


584
00:22:23,936 --> 00:22:24,706
自动化的场所


585
00:22:26,076 --> 00:22:27,566
但是有的用户可能拥有 


586
00:22:27,566 --> 00:22:29,726
不只一个家 因此你 


587
00:22:29,726 --> 00:22:32,306
需要使用 HMHomeManager 来


588
00:22:32,306 --> 00:22:33,646
帮助管理这些 home


589
00:22:34,546 --> 00:22:36,106
如果你想添加一个新的 home 


590
00:22:36,606 --> 00:22:37,936
或者删除已经存在的 home


591
00:22:38,886 --> 00:22:39,876
都可以通过 


592
00:22:39,876 --> 00:22:41,086
HMHomeManager API 来完成


593
00:22:45,376 --> 00:22:46,636
HomeKit 最棒的事情就是


594
00:22:46,636 --> 00:22:48,616
你可以将 home 的控制权


595
00:22:48,616 --> 00:22:50,556
延伸给其他用户 


596
00:22:51,116 --> 00:22:53,866
同时我们还有访问控制的 


597
00:22:53,866 --> 00:22:55,336
功能 所以你可以给 


598
00:22:55,336 --> 00:22:57,066
一对情侣或者是舍友全权的


599
00:22:57,066 --> 00:22:58,136
管理权 


600
00:22:58,956 --> 00:23:01,786
作为管理人 他们 


601
00:23:01,786 --> 00:23:03,666
即这些用户们可以添加配件 


602
00:23:03,666 --> 00:23:04,626
编辑场景


603
00:23:04,896 --> 00:23:06,696
他们基本上拥有管理 home 的


604
00:23:06,696 --> 00:23:07,546
所有权限


605
00:23:09,316 --> 00:23:10,806
但有时也许你只想分享给


606
00:23:11,086 --> 00:23:12,806
一些用户基本权限 


607
00:23:12,806 --> 00:23:14,606
只允许他们来 


608
00:23:15,126 --> 00:23:16,906
控制配件而不是编辑它们


609
00:23:17,316 --> 00:23:19,806
那他们就非管理者 


610
00:23:21,186 --> 00:23:23,136
最重要的就是 如果你在设计


611
00:23:23,136 --> 00:23:25,236
这个 App 你就需要确保


612
00:23:25,236 --> 00:23:27,946
你的 HM 用户不是 


613
00:23:27,946 --> 00:23:29,846
那些被你剥夺了


614
00:23:29,846 --> 00:23:31,986
一些关键性功能使用权的管理者 


615
00:23:31,986 --> 00:23:33,216
App 应在他们尝试


616
00:23:33,216 --> 00:23:35,866
并使用时正常工作


617
00:23:36,636 --> 00:23:38,236
再次说明 所有用户管理 


618
00:23:38,316 --> 00:23:39,586
都可以通过 HMHome


619
00:23:39,586 --> 00:23:42,116
对象完成 并且你将很快看到


620
00:23:42,116 --> 00:23:45,786
这是一个普遍的设计模式 这在 HMHome


621
00:23:46,146 --> 00:23:47,996
上面已经显示了很多基本功能


622
00:23:48,436 --> 00:23:51,776
所以让我们来看看 


623
00:23:51,776 --> 00:23:53,316
一些示例代码 看看它们什么样子


624
00:23:53,866 --> 00:23:58,876
所以这里我们做一个实例来说明


625
00:23:58,876 --> 00:24:00,766
HMHomeManager


626
00:24:01,376 --> 00:24:04,696
现在我们想添加一个 home 


627
00:24:04,696 --> 00:24:06,636
在 home 管理上面 所以我们要用 


628
00:24:06,636 --> 00:24:08,736
addHome API 并且设置


629
00:24:08,736 --> 00:24:09,596
新 home 的名称


630
00:24:10,546 --> 00:24:12,296
我们要确保把自己设定为 


631
00:24:12,296 --> 00:24:13,826
委托身份 这样才能 


632
00:24:13,826 --> 00:24:15,696
得到正确的委托回调


633
00:24:16,246 --> 00:24:18,226
最终 如果我们想要 


634
00:24:18,226 --> 00:24:19,256
为 home 设置用户 


635
00:24:19,256 --> 00:24:22,256
我们将使用 


636
00:24:22,296 --> 00:24:22,646
HMHome 完成设置


637
00:24:27,156 --> 00:24:29,166
既然我提过 HMZone


638
00:24:29,166 --> 00:24:30,506
那么就花费点时间来


639
00:24:30,506 --> 00:24:31,776
介绍一下它


640
00:24:31,836 --> 00:24:32,786
这是一个集成 


641
00:24:32,786 --> 00:24:35,206
多种房间在一起的方式 就像


642
00:24:35,996 --> 00:24:40,426
上下楼层 你可以将所有卧室放在一组 


643
00:24:40,426 --> 00:24:41,736
并将它们归在一个区域


644
00:24:42,256 --> 00:24:44,866
所以它在上面有一些基本属性


645
00:24:44,866 --> 00:24:47,166
比如名称以及


646
00:24:47,166 --> 00:24:48,936
房间权限等 但是它仍然拥有


647
00:24:48,936 --> 00:24:50,316
唯一的标识符属性 


648
00:24:50,576 --> 00:24:52,326
虽然这通常被 


649
00:24:52,326 --> 00:24:54,776
忽略 但是这是追踪你所在的区域 


650
00:24:54,776 --> 00:24:55,836
或者你关心的区域的方法 


651
00:24:56,256 --> 00:24:58,026
所以当名称改变


652
00:24:58,026 --> 00:24:59,876
房间改变时 你仍然拥有 


653
00:24:59,876 --> 00:25:03,956
访问这个特殊区域的权限 


654
00:25:04,156 --> 00:25:06,446
在 HMRoom 对象上 我们


655
00:25:06,446 --> 00:25:09,946
支持显示名称以及配件列表


656
00:25:10,316 --> 00:25:12,256
也包括这个唯一的


657
00:25:12,256 --> 00:25:14,756
标识符属性 所以你可以与房间进行联系


658
00:25:17,716 --> 00:25:19,826
房间和区域 


659
00:25:19,826 --> 00:25:21,956
通过 HMHome API 进行管理


660
00:25:22,386 --> 00:25:24,186
所以你想要添加或者删除 


661
00:25:24,186 --> 00:25:26,716
一个房间 或者添加 


662
00:25:26,716 --> 00:25:28,796
删除一个区域时 你可以通过 


663
00:25:28,906 --> 00:25:30,936
HMHome API 完成


664
00:25:31,506 --> 00:25:34,606
所以如果我们回到一些简单的示例 


665
00:25:34,606 --> 00:25:37,136
代码 让我们


666
00:25:37,656 --> 00:25:40,446
[ 音质不清晰 ] 实际看一看 


667
00:25:40,636 --> 00:25:42,866
我们在 home 中添加一个房间 


668
00:25:42,866 --> 00:25:44,356
并给它设置好名称 


669
00:25:44,906 --> 00:25:47,846
然后我们再添加一个区域


670
00:25:47,846 --> 00:25:49,276
也给它设好区域名称


671
00:25:49,786 --> 00:25:52,696
然后我们把房间 


672
00:25:52,696 --> 00:25:54,000
和区域连接 


673
00:25:58,226 --> 00:25:59,406
下一级的等级


674
00:25:59,406 --> 00:26:01,666
则是非常重要的 


675
00:26:01,666 --> 00:26:04,526
它是一种关系 存在于配件 服务和 


676
00:26:04,526 --> 00:26:05,336
特性之间


677
00:26:06,106 --> 00:26:07,786
也许这听起来很困惑


678
00:26:08,106 --> 00:26:10,236
因为配件包含服务


679
00:26:10,376 --> 00:26:12,306
而服务包含特性


680
00:26:13,296 --> 00:26:14,146
所以我们最好看看


681
00:26:14,146 --> 00:26:15,976
真实世界的例子 来给你们展示 


682
00:26:15,976 --> 00:26:16,866
这个观点 是如何将它们 


683
00:26:16,866 --> 00:26:17,406
组合在一起的


684
00:26:17,966 --> 00:26:21,476
假设你有一个吊扇装置 


685
00:26:22,946 --> 00:26:26,126
这是一个简单的配件


686
00:26:26,436 --> 00:26:31,956
它有灯 也有扇叶


687
00:26:32,526 --> 00:26:37,156
这个便映射出灯光服务 


688
00:26:38,586 --> 00:26:40,326
和电扇服务  


689
00:26:41,886 --> 00:26:43,766
现在 这些服务具备


690
00:26:43,766 --> 00:26:45,456
共同特性 


691
00:26:45,456 --> 00:26:47,036
而这是所有服务都拥有的 


692
00:26:47,386 --> 00:26:48,656
但是它们同时还拥有


693
00:26:49,196 --> 00:26:50,396
对于它们的服务来说


694
00:26:50,396 --> 00:26:51,296
独一无二的特性


695
00:26:52,326 --> 00:26:56,016
比如灯光服务有电源 


696
00:26:56,416 --> 00:26:58,016
亮度和色饱和度的特性 


697
00:26:58,526 --> 00:27:02,296
而电扇服务则拥有电源  


698
00:27:02,586 --> 00:27:04,676
转速和转向的特性  


699
00:27:05,156 --> 00:27:07,606
其中的一些特性


700
00:27:07,606 --> 00:27:08,906
是可以选择的 


701
00:27:09,736 --> 00:27:11,206
因为正如你所知道的 并不是所有的灯都


702
00:27:13,726 --> 00:27:17,116
但是 HomeKit API 将


703
00:27:17,116 --> 00:27:19,306
展示这些特性 作为一种


704
00:27:19,306 --> 00:27:20,446
提升你的用户服务的方式


705
00:27:21,756 --> 00:27:22,746
现在我们回头看


706
00:27:22,746 --> 00:27:25,936
我们的这个电风扇 


707
00:27:25,936 --> 00:27:27,206
属于 HMAccessory


708
00:27:27,776 --> 00:27:32,576
我们有灯光服务和电扇服务 这属于 


709
00:27:32,576 --> 00:27:33,366
HMService


710
00:27:34,476 --> 00:27:35,896
我们还有相应的 


711
00:27:35,896 --> 00:27:37,316
特性 这就是 


712
00:27:37,316 --> 00:27:38,336
HMCharacteristic


713
00:27:38,916 --> 00:27:43,086
所以我们来看 如果你在


714
00:27:43,086 --> 00:27:45,866
API 上面寻找这些 你可以看到


715
00:27:45,866 --> 00:27:48,326
我们拥有 HMAccessory 而它


716
00:27:48,326 --> 00:27:50,726
可以帮助你了解你正在控制的配件


717
00:27:51,666 --> 00:27:53,966
这也可以显示一些属性 例如


718
00:27:53,966 --> 00:27:57,116
名称以及它支持的服务列表


719
00:27:57,116 --> 00:28:01,096
还有它正在运行的固件版本


720
00:28:01,636 --> 00:28:04,766
这仅仅是一个子样品 


721
00:28:04,766 --> 00:28:06,486
它是配件上许多属性的其中之一


722
00:28:06,626 --> 00:28:07,586
我仅仅是想为你们展示 


723
00:28:07,586 --> 00:28:09,056
这个基本的概念 有什么类型的 


724
00:28:09,056 --> 00:28:10,486
属性显示在上面 


725
00:28:12,376 --> 00:28:13,946
如果我们看一下


726
00:28:13,946 --> 00:28:16,526
HMService 我们可以看到它显示了 


727
00:28:16,746 --> 00:28:17,786
一个特性列表 


728
00:28:17,836 --> 00:28:20,966
这是一个


729
00:28:20,966 --> 00:28:23,546
设定的方法


730
00:28:24,246 --> 00:28:24,330
用来更新名称


731
00:28:24,836 --> 00:28:25,856
更新名称其实


732
00:28:25,856 --> 00:28:27,016
非常重要


733
00:28:29,116 --> 00:28:30,716
为什么重要呢


734
00:28:31,196 --> 00:28:32,346
它重要是因为 


735
00:28:32,346 --> 00:28:35,116
它是 Siri 和 Home App 与你的


736
00:28:35,116 --> 00:28:35,556
配件交互的方式


737
00:28:37,216 --> 00:28:39,476
所以你应该选择一个合适的默认名称 


738
00:28:40,066 --> 00:28:42,846
你不会想用


739
00:28:42,846 --> 00:28:44,696
序列号 或者 MAC


740
00:28:44,696 --> 00:28:47,246
地址或者是产品型号  


741
00:28:47,246 --> 00:28:49,696
作为你的服务名称 因为这会带来麻烦


742
00:28:49,696 --> 00:28:51,146
让用户通过 Siri 来控制你的 


743
00:28:51,146 --> 00:28:52,076
配件更加困难


744
00:28:52,676 --> 00:28:56,206
你也不会想


745
00:28:56,206 --> 00:28:57,736
用一些特殊的符号或者数字


746
00:28:58,086 --> 00:28:59,826
甚至是 emoji 表情 标点符号等类似的东西 


747
00:28:59,826 --> 00:29:02,186
因为这也会让


748
00:29:02,186 --> 00:29:03,426
你的用户在想要 


749
00:29:03,426 --> 00:29:05,176
同他们的配件


750
00:29:09,036 --> 00:29:09,546
进行沟通时感到困惑


751
00:29:09,736 --> 00:29:12,216
现在我们支持超过四十种 


752
00:29:12,216 --> 00:29:13,586
预先定义的服务类型


753
00:29:14,386 --> 00:29:16,106
例如电灯泡


754
00:29:16,246 --> 00:29:17,776
恒温器 车库门


755
00:29:17,776 --> 00:29:19,816
电源插座 和所有类型的


756
00:29:19,816 --> 00:29:20,906
感应器 这仅仅是在举例


757
00:29:21,836 --> 00:29:23,376
我们也同样支持 


758
00:29:23,376 --> 00:29:25,356
指定的自定义服务


759
00:29:25,846 --> 00:29:29,866
当添加附件到 


760
00:29:29,866 --> 00:29:31,916
home 时 你可以


761
00:29:31,916 --> 00:29:33,206
回到 HMHome


762
00:29:33,476 --> 00:29:34,296
辅助方法


763
00:29:35,186 --> 00:29:36,616
这些 API 用起来十分简单


764
00:29:36,616 --> 00:29:38,366
但是我们还是


765
00:29:38,366 --> 00:29:39,666
通过例子演示一下


766
00:29:40,276 --> 00:29:44,916
addAccessory API 是一个


767
00:29:44,916 --> 00:29:46,646
调用 Home UI


768
00:29:46,646 --> 00:29:48,766
的服务 它和


769
00:29:48,766 --> 00:29:50,836
addAccessory 流有些类似


770
00:29:50,836 --> 00:29:52,796
这个我之前提到过


771
00:29:52,796 --> 00:29:54,816
你可以通过快速扫描二维码 


772
00:29:54,816 --> 00:29:56,676
或者使用 NFC 功能来添加 


773
00:29:56,676 --> 00:29:58,156
配件到 home 的功能中


774
00:30:00,216 --> 00:30:03,556
现在我想特别介绍最后一个方法


775
00:30:03,556 --> 00:30:05,366
就是使用载荷调用


776
00:30:05,366 --> 00:30:06,606
addAndSetupAccessorie


777
00:30:06,606 --> 00:30:10,546
现在你可以使用载荷来


778
00:30:10,546 --> 00:30:12,346
传输一个 HomeKit 配件码


779
00:30:13,026 --> 00:30:14,736
用于 In-field 激活的情况


780
00:30:15,476 --> 00:30:17,656
所以这个 API 非常有用


781
00:30:17,656 --> 00:30:19,196
尤其对于软件认证来说


782
00:30:19,336 --> 00:30:22,236
这就是当你 


783
00:30:22,236 --> 00:30:24,566
的配件已经离开工厂


784
00:30:24,566 --> 00:30:26,526
但是没有 HomeKit 码在上边的情况


785
00:30:27,136 --> 00:30:29,196
你已经通过固件升级


786
00:30:30,106 --> 00:30:31,906
更新了你的配件 来提供


787
00:30:31,906 --> 00:30:33,936
HomeKit 支持 你不希望


788
00:30:33,936 --> 00:30:35,136
用户不得不通过


789
00:30:35,136 --> 00:30:37,636
记忆或者手动


790
00:30:37,636 --> 00:30:38,496
把 HomeKit 码记下来


791
00:30:38,856 --> 00:30:40,716
这个 API 允许你


792
00:30:40,716 --> 00:30:42,286
传输 HomeKit 码


793
00:30:42,326 --> 00:30:44,496
这样这个配件才能


794
00:30:44,496 --> 00:30:45,856
无缝添加到 home 之中


795
00:30:46,436 --> 00:30:50,226
现在这个 API 已经向


796
00:30:50,226 --> 00:30:51,316
MFI licensee 开放


797
00:30:52,226 --> 00:30:53,846
想得到更多的信息 请联系 


798
00:30:53,846 --> 00:30:54,906
你的 MFI 代表


799
00:30:58,756 --> 00:31:00,126
所以我们看一些示例代码 


800
00:31:00,126 --> 00:31:03,226
即我们如何添加附件到 home 上 你只需要


801
00:31:03,726 --> 00:31:05,336
调用 addAnd


802
00:31:05,336 --> 00:31:07,006
addAndSetupAccessories 在 home 


803
00:31:07,006 --> 00:31:08,936
对象上即可 而 HomeKit 负责 


804
00:31:08,936 --> 00:31:11,326
剩下的部分


805
00:31:11,876 --> 00:31:13,866
我之前提到过场景功能 


806
00:31:14,416 --> 00:31:15,536
但是它是一个非常巨大的 


807
00:31:15,536 --> 00:31:17,126
概念 因此我想再花点时间


808
00:31:17,126 --> 00:31:17,466
说得深一点 


809
00:31:18,746 --> 00:31:19,806
这就是你如何用来 


810
00:31:19,806 --> 00:31:21,136
整合不同类型的 


811
00:31:21,136 --> 00:31:22,886
配件以达到 


812
00:31:22,886 --> 00:31:24,336
可为用户提供综合体验的目的


813
00:31:24,866 --> 00:31:28,746
我们有一些建议场景


814
00:31:29,616 --> 00:31:30,906
但是我们仍然支持


815
00:31:30,906 --> 00:31:32,656
用户的完全自定义


816
00:31:37,156 --> 00:31:37,886
关于场景最好的一件事在于 


817
00:31:37,886 --> 00:31:41,156
Siri 能够理解场景的含义


818
00:31:41,296 --> 00:31:44,026
因此向 Siri 说出名称 


819
00:31:44,026 --> 00:31:46,076
说出一个场景的名称


820
00:31:46,076 --> 00:31:48,356
Siri 就会立刻执行所说的场景


821
00:31:48,616 --> 00:31:53,266
现在我们在 HomeKit 上


822
00:31:53,266 --> 00:31:53,776
不称它们为场景


823
00:31:54,486 --> 00:31:56,276
我们叫它们 HMActionSet


824
00:31:57,286 --> 00:31:58,316
当你想去建立一个 


825
00:31:58,316 --> 00:31:59,826
HMActionSet 例如


826
00:31:59,956 --> 00:32:02,366
到家 你需要 


827
00:32:02,366 --> 00:32:04,906
建造一个 HMAction 列表然后


828
00:32:07,196 --> 00:32:09,906
你才能将它们连接到操作集  


829
00:32:10,446 --> 00:32:13,926
所以操作集 还有


830
00:32:13,976 --> 00:32:16,206
HMActionSet 包含所有 


831
00:32:16,206 --> 00:32:17,446
单独的 HMAction


832
00:32:20,996 --> 00:32:23,026
我们支持一些预先设定的 


833
00:32:23,026 --> 00:32:26,956
场景 例如起床 睡觉 


834
00:32:26,956 --> 00:32:33,126
离开房间 


835
00:32:33,396 --> 00:32:34,136
和回家


836
00:32:34,736 --> 00:32:36,776
这不仅给了


837
00:32:36,776 --> 00:32:38,166
用户一些关于可以


838
00:32:38,166 --> 00:32:39,066
设定什么类型指令的概念 


839
00:32:39,066 --> 00:32:41,746
同时我们也


840
00:32:41,746 --> 00:32:43,376
认为这些场景最有用 


841
00:32:43,906 --> 00:32:47,016
当然 我们支持 


842
00:32:47,016 --> 00:32:49,116
用户自定义操作集


843
00:32:49,116 --> 00:32:50,216
最棒的事情就是 


844
00:32:50,216 --> 00:32:51,756
可以建造适合你的最佳观影场景灯光


845
00:32:55,956 --> 00:32:58,496
所以我想再说一次 想添加它们到 


846
00:32:58,496 --> 00:32:59,896
home 我们可以使用 HMHome


847
00:32:59,896 --> 00:33:01,676
API 因为它帮助你 


848
00:33:01,676 --> 00:33:04,376
添加操作集 执行 


849
00:33:04,376 --> 00:33:08,076
操作集 HMHome


850
00:33:08,266 --> 00:33:10,136
API 也可以显示


851
00:33:11,576 --> 00:33:13,536
访问嵌入式指令


852
00:33:18,346 --> 00:33:18,476
集的方式


853
00:33:18,776 --> 00:33:19,666
所以我们看这个 


854
00:33:19,666 --> 00:33:21,506
示例代码 我们将看到 


855
00:33:21,506 --> 00:33:23,816
如果想要建立一个操作集


856
00:33:24,566 --> 00:33:26,316
我们在 home 上调用


857
00:33:26,316 --> 00:33:27,916
addActionSet withName 我们输入 


858
00:33:27,916 --> 00:33:30,306
操作集的名称 然后让它


859
00:33:30,366 --> 00:33:32,106
循环访问我们的


860
00:33:32,106 --> 00:33:35,706
指令列表并把每个都添加进操作集中 


861
00:33:37,656 --> 00:33:39,626
然后接下来如果我们想要执行这个


862
00:33:39,626 --> 00:33:42,216
场景 你只需调用


863
00:33:42,426 --> 00:33:44,396
在 home 上的 executeActionSet 


864
00:33:48,636 --> 00:33:50,266
通过 UI 


865
00:33:50,266 --> 00:33:52,786
或者 Siri 使用场景非常便捷 


866
00:33:52,786 --> 00:33:53,626
但是有时你想让这件事


867
00:33:53,626 --> 00:33:54,606
更加自动化


868
00:33:55,296 --> 00:33:57,326
我们有几种 


869
00:33:57,326 --> 00:33:58,936
选择可以用来激活场景 


870
00:33:59,116 --> 00:34:00,926
并自动控制配件 


871
00:34:01,376 --> 00:34:04,496
这是基于地理围栏的功能


872
00:34:04,496 --> 00:34:06,266
你可以打开家里的灯 


873
00:34:06,266 --> 00:34:07,306
当你到家时 


874
00:34:08,176 --> 00:34:09,966
或者是基于时间触发 比如


875
00:34:09,966 --> 00:34:11,386
你可以在起床之前  


876
00:34:11,386 --> 00:34:13,616
打开暖气


877
00:34:13,815 --> 00:34:15,376
它们也可以基于配件 


878
00:34:15,376 --> 00:34:17,795
你可以利用一个运动传感器开灯


879
00:34:18,666 --> 00:34:20,666
它们也能基于存在触发 


880
00:34:21,476 --> 00:34:24,476
因此在你出门上班时


881
00:34:24,946 --> 00:34:25,000
灯会自动关闭


882
00:34:30,356 --> 00:34:31,806
甚至一些激活指令本身 


883
00:34:31,806 --> 00:34:33,286
也是由操作集组成 


884
00:34:33,795 --> 00:34:35,906
在 HMEvent 上的 API 或者 


885
00:34:35,906 --> 00:34:37,795
HMTrigger 多数都涉及


886
00:34:37,966 --> 00:34:43,016
命名 添加和许可  


887
00:34:43,616 --> 00:34:48,616
现在有了自动化操作 你可以


888
00:34:48,616 --> 00:34:51,206
设定它们执行一次指令或者 


889
00:34:51,206 --> 00:34:52,275
你也可以让它们重复运行


890
00:34:53,716 --> 00:34:55,716
你能让它们发生一次


891
00:34:55,716 --> 00:34:57,626
也可以让它们 


892
00:34:57,626 --> 00:35:00,256
每天都发生 再或者


893
00:35:00,256 --> 00:35:03,246
你只想让它们在工作日发生 或者是


894
00:35:03,246 --> 00:35:04,036
只在每个周五发生


895
00:35:05,076 --> 00:35:07,766
有了自动化 你有了控制权来控制运行


896
00:35:07,766 --> 00:35:09,146
频率并且可以设置你想


897
00:35:09,146 --> 00:35:10,066
让自动操作运行多少次 


898
00:35:12,636 --> 00:35:14,096
现在我们看看 


899
00:35:14,096 --> 00:35:16,096
如何制作 HMTrigger 以及


900
00:35:16,096 --> 00:35:16,816
如何把它添加进 home


901
00:35:18,006 --> 00:35:19,266
就比如说我们想要创造 


902
00:35:19,266 --> 00:35:20,316
一个自动操作 它将在 


903
00:35:20,366 --> 00:35:23,026
每晚的七点开始工作


904
00:35:23,296 --> 00:35:25,616
首先我们建立我们的日期 


905
00:35:25,616 --> 00:35:27,896
部分然后我们把时间设定到晚上七点 


906
00:35:29,186 --> 00:35:30,706
然后我们在建立一个日历 


907
00:35:30,706 --> 00:35:32,376
事件 并且使用那个部件 


908
00:35:34,556 --> 00:35:36,096
然后我们就生成了


909
00:35:36,246 --> 00:35:37,166
基于时间事件的激活指令


910
00:35:37,676 --> 00:35:40,776
现在 我们需要添加这个激活指令


911
00:35:40,776 --> 00:35:41,286
到 home 上


912
00:35:41,856 --> 00:35:44,476
然后我们还需要把指令


913
00:35:44,476 --> 00:35:45,226
集加入到激活指令中


914
00:35:45,796 --> 00:35:48,436
这就允许你运行


915
00:35:48,436 --> 00:35:50,356
自动操作了 它发生在每晚的七点


916
00:35:50,946 --> 00:35:52,176
就比如说我们设定 


917
00:35:52,176 --> 00:35:55,396
每天晚上七点开灯 


918
00:35:55,616 --> 00:35:56,856
现在就非常棒了 除了 


919
00:35:56,856 --> 00:35:59,576
有时一年的某个时间 


920
00:35:59,576 --> 00:36:01,206
晚上七点太阳还没落山


921
00:36:01,636 --> 00:36:02,786
也可能有时候 一年的某些时候 


922
00:36:02,786 --> 00:36:04,336
在晚上七点之前就变暗了


923
00:36:04,586 --> 00:36:06,456
有时又在七点之后才天黑


924
00:36:07,126 --> 00:36:08,306
所以在每天晚上


925
00:36:08,306 --> 00:36:09,696
七点开灯并不是


926
00:36:09,696 --> 00:36:12,126
你真正想要的


927
00:36:12,276 --> 00:36:14,306
所以我们为此还支持所谓的 


928
00:36:14,306 --> 00:36:15,636
重要时间事件


929
00:36:16,216 --> 00:36:18,546
这就是日出和日落 


930
00:36:19,076 --> 00:36:21,536
回顾一下之前的 


931
00:36:21,536 --> 00:36:23,556
例子 我们可以把指令变成


932
00:36:23,666 --> 00:36:26,076
每天晚上七点


933
00:36:26,076 --> 00:36:28,576
开灯 


934
00:36:28,736 --> 00:36:30,536
我们也支持相对时间 


935
00:36:30,536 --> 00:36:32,386
偏移设定 所以你可以


936
00:36:32,386 --> 00:36:34,386
设置开灯指令 让它在  


937
00:36:34,386 --> 00:36:35,206
日落之前的三十分钟前运行


938
00:36:35,716 --> 00:36:38,846
所以回到之前所说的代码 


939
00:36:38,846 --> 00:36:41,256
然后做一些调整


940
00:36:42,236 --> 00:36:44,676
这样我们可以让这个指令


941
00:36:44,676 --> 00:36:46,226
在每晚的日落三十分钟前进行 


942
00:36:46,736 --> 00:36:48,946
所以第一件我们要做的事


943
00:36:49,436 --> 00:36:51,406
就是改变我们的日期部件


944
00:36:51,406 --> 00:36:52,506
使它变成三十分钟 


945
00:36:53,016 --> 00:36:54,056
现在你看到这是 


946
00:36:54,056 --> 00:36:55,896
负三十分钟 这是因为我们想 


947
00:36:55,896 --> 00:36:57,296
让它在日落之前


948
00:36:57,296 --> 00:36:57,746
提前三十分钟运行


949
00:36:59,056 --> 00:37:00,766
然后我们要为日落建造一个重要


950
00:37:00,766 --> 00:37:03,926
时间事件 然后再把偏移设定好
 
00:37:04,396 --> 00:37:06,836
然后 我们就完成了


951
00:37:06,836 --> 00:37:09,036
激活指令 我们把它放进日落事件中去 


952
00:37:11,696 --> 00:37:13,156
我们执行之前的这个代码


953
00:37:13,156 --> 00:37:14,666
这个代码将


954
00:37:14,666 --> 00:37:16,796
激活指令加入了 home 


955
00:37:16,796 --> 00:37:17,966
也把操作集加入了激活指令 


956
00:37:22,456 --> 00:37:23,906
但是有时你并不想


957
00:37:23,906 --> 00:37:25,016
让这些自动操作运行 


958
00:37:26,226 --> 00:37:27,456
你也许不想让暖气 


959
00:37:27,456 --> 00:37:29,156
在清晨没人的情况下被打开 


960
00:37:29,706 --> 00:37:32,896
你也不想在白天 门被打开的时候 


961
00:37:32,896 --> 00:37:37,256
灯自动亮起 


962
00:37:37,496 --> 00:37:40,056
所以我们支持条件设定


963
00:37:41,346 --> 00:37:43,646
这可以基于时间


964
00:37:44,466 --> 00:37:46,616
也可以基于存在


965
00:37:47,236 --> 00:37:50,546
基于配件状态 


966
00:37:51,116 --> 00:37:55,366
也可以是基于重要事件 


967
00:37:55,736 --> 00:38:00,476
我在我的家里的 


968
00:38:00,476 --> 00:38:03,506
有一个自动操作


969
00:38:03,676 --> 00:38:04,636
有人离开时灯就会自动关闭 


970
00:38:05,296 --> 00:38:10,656
这非常棒 除了我和我妻子一起住 


971
00:38:10,656 --> 00:38:12,006
所以当她离开家的时候


972
00:38:12,256 --> 00:38:16,256
所有的灯光就被关闭了 而我就陷入了黑暗里 


973
00:38:16,256 --> 00:38:18,156
而有了基于存在的 


974
00:38:18,156 --> 00:38:20,136
条件设定 你可以更新这个指令


975
00:38:20,306 --> 00:38:21,836
这样灯光只会在  


976
00:38:22,336 --> 00:38:23,516
最后一个人离开的情况下关闭 


977
00:38:24,056 --> 00:38:27,776
现在 为了设置这些条件 我们 


978
00:38:27,776 --> 00:38:28,506
要用到判断功能 


979
00:38:28,506 --> 00:38:32,846
让我们再看看示例代码 


980
00:38:34,356 --> 00:38:37,306
我们可以看到 


981
00:38:37,306 --> 00:38:41,026
我们使用了和之前相同的落日时间


982
00:38:41,026 --> 00:38:41,876
偏移设定


983
00:38:41,876 --> 00:38:44,256
我们要制造一个 


984
00:38:44,256 --> 00:38:48,586
存在事件 即当用户 


985
00:38:48,586 --> 00:38:50,816
在家的时候 


986
00:38:50,816 --> 00:38:52,336
我们会利用这个存在


987
00:38:52,336 --> 00:38:54,226
事件来做一个预测设定


988
00:38:56,116 --> 00:38:57,656
我们将预测放进


989
00:38:57,656 --> 00:38:58,796
激活指令中去 


990
00:38:59,296 --> 00:39:02,256
然后我们再看之前相同的这个示例 


991
00:39:02,256 --> 00:39:04,286
代码 我们已经将


992
00:39:04,286 --> 00:39:06,646
激活指令放进了 home 并且


993
00:39:07,226 --> 00:39:13,046
将操作集放进了激活指令中 


994
00:39:13,206 --> 00:39:14,656
所以现在 我们已经完成了 


995
00:39:14,656 --> 00:39:16,086
从每天晚上七点自动运行的指令


996
00:39:16,086 --> 00:39:18,916
到一个


997
00:39:18,916 --> 00:39:22,116
每天晚上日落之前三十分钟才触发


998
00:39:22,116 --> 00:39:25,216
的指令过渡 而且是在家里有人的 


999
00:39:25,916 --> 00:39:26,000
情况下


1000
00:39:31,456 --> 00:39:33,426
现在 我们还支持 


1001
00:39:33,426 --> 00:39:34,406
HomeKit 摄像机


1002
00:39:34,856 --> 00:39:37,416
有一些 HomeKit API


1003
00:39:38,796 --> 00:39:44,446
可以让你展示 live 流 静止图像和 


1004
00:39:44,446 --> 00:39:45,866
进行摄像机的一些设置


1005
00:39:47,156 --> 00:39:51,006
这种支持也包括控制


1006
00:39:51,006 --> 00:39:52,286
音响和麦克风声音的大小


1007
00:39:52,286 --> 00:39:56,066
让我们也同样快速浏览一下


1008
00:39:56,126 --> 00:39:58,000
关于这点的示例代码


1009
00:40:02,646 --> 00:40:03,876
你可以看到我们有一个 


1010
00:40:03,876 --> 00:40:07,326
功能 就是开启配件的相机流


1011
00:40:07,326 --> 00:40:11,256
我们要确保设置 


1012
00:40:11,256 --> 00:40:13,076
了自己作为委托人 这样才能 


1013
00:40:13,076 --> 00:40:14,716
得到正确的委托回调


1014
00:40:16,896 --> 00:40:18,496
现在我们用这个开始流的


1015
00:40:18,496 --> 00:40:21,796
API 去打开流 然后我们


1016
00:40:21,796 --> 00:40:23,376
也需要确保创造了一个 


1017
00:40:23,376 --> 00:40:26,576
摄像机视图 并添加到


1018
00:40:26,916 --> 00:40:27,826
我们的等级视图里


1019
00:40:28,466 --> 00:40:29,866
这就可以让我们播放 


1020
00:40:29,866 --> 00:40:31,466
我们 App 中的相机流


1021
00:40:33,976 --> 00:40:36,926
然后我们就会得到委托回调 


1022
00:40:37,276 --> 00:40:40,036
这是 HMCameraStream ControlDelegate 


1023
00:40:41,716 --> 00:40:42,836
我们将得到 


1024
00:40:42,946 --> 00:40:45,046
cameraStreamControl


1025
00:40:45,046 --> 00:40:46,756
DidStartStream 委托回调


1026
00:40:48,296 --> 00:40:49,576
而我们只需要 


1027
00:40:49,576 --> 00:40:51,496
给相机流 


1028
00:40:51,496 --> 00:40:52,116
设置一个相机来源


1029
00:40:52,626 --> 00:40:55,286
这就是今天示例代码的 


1030
00:40:55,286 --> 00:40:57,686
全部内容 但是


1031
00:40:57,686 --> 00:40:59,096
还有许多在线的文件


1032
00:40:59,266 --> 00:41:01,016
可以供这些 API 使用


1033
00:41:01,366 --> 00:41:06,236
我们希望这给你一个 


1034
00:41:06,236 --> 00:41:08,426
全新的视角来看待和了解


1035
00:41:08,426 --> 00:41:09,356
HomeKit 如何工作的


1036
00:41:09,796 --> 00:41:11,486
我们鼓励你们参加 MFI 项目


1037
00:41:11,486 --> 00:41:14,686
利用所有这些出色的资源和 


1038
00:41:14,686 --> 00:41:15,606
强大的工具 


1039
00:41:16,646 --> 00:41:18,226
变成 MFI licensee 真的是 


1040
00:41:18,286 --> 00:41:19,276
超乎想象的容易


1041
00:41:20,206 --> 00:41:21,286
来我们的实验室 


1042
00:41:21,286 --> 00:41:23,186
了解更多内容 


1043
00:41:23,506 --> 00:41:24,636
如果你已经是 MFI


1044
00:41:24,686 --> 00:41:26,796
licensee 那么请联系你的 MFI


1045
00:41:26,866 --> 00:41:29,176
代表来获取


1046
00:41:29,176 --> 00:41:30,036
最新的工具 


1047
00:41:33,756 --> 00:41:35,726
有了全新的配件工具开发包 我们让 


1048
00:41:35,726 --> 00:41:37,486
配件走向市场的过程变得


1049
00:41:37,486 --> 00:41:38,746
比以往更加容易


1050
00:41:39,916 --> 00:41:41,396
不论你是针对 HomeKit 


1051
00:41:42,106 --> 00:41:44,386
打造自己的配件 使用固件


1052
00:41:44,386 --> 00:41:46,916
升级或者是第一次创造一款全新的


1053
00:41:46,916 --> 00:41:48,056
HomeKit 配件 


1054
00:41:48,556 --> 00:41:50,576
使用这些工具并


1055
00:41:50,576 --> 00:41:52,046
结合 HomeKit


1056
00:41:52,046 --> 00:41:53,476
你就可以得到原生系列的支持


1057
00:41:54,306 --> 00:41:56,256
来同其他的 HomeKit 配件相组合


1058
00:41:56,796 --> 00:41:59,886
我们已经迫不及待地想要见证


1059
00:41:59,886 --> 00:42:01,206
你们制造出来的


1060
00:42:01,206 --> 00:42:03,136
优秀配件了


1061
00:42:03,306 --> 00:42:04,706
同时我们也鼓励你们使用 


1062
00:42:04,706 --> 00:42:06,956
这些 API 来提供独一无二的


1063
00:42:06,956 --> 00:42:09,216
用户体验


1064
00:42:09,526 --> 00:42:11,556
更好的利用


1065
00:42:11,556 --> 00:42:17,366
HomeKit 所提供的支持


1066
00:42:17,366 --> 00:42:19,816
如果你想得到更多的信息或者了解


1067
00:42:19,816 --> 00:42:21,056
今天我们讨论的任何内容


1068
00:42:21,056 --> 00:42:24,336
请打开这个链接


1069
00:42:24,336 --> 00:42:25,396
或者来我们的实验室参观 


1070
00:42:25,906 --> 00:42:27,226
我们将在


1071
00:42:27,286 --> 00:42:31,206
科技实验室 12 区 它将马上开始


1072
00:42:31,936 --> 00:42:33,006
谢谢你们的到来


1073
00:42:33,316 --> 00:42:36,976
希望你们有个美好的 WWDC


1074
00:42:37,508 --> 00:42:39,508
[ 掌声 ]

