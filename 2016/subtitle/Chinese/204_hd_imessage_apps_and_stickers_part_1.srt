1
00:00:19,786 --> 00:00:22,723
<c.magenta>iMessage应用和贴图</c>
<c.magenta>第一部分介绍信息应用和贴图</c>


2
00:00:30,898 --> 00:00:32,698
<c.magenta>大家早上好</c>


3
00:00:33,267 --> 00:00:36,003
<c.magenta>欢迎来到第一部分</c>
<c.magenta>iMessage应用和贴图</c>


4
00:00:36,270 --> 00:00:40,007
<c.magenta>我是Bhaskar 我是一个工程师</c>
<c.magenta>来自苹果的信息团队</c>


5
00:00:41,675 --> 00:00:43,677
<c.magenta>今天我们要介绍iMessage应用</c>


6
00:00:43,844 --> 00:00:46,246
<c.magenta>它的意义是你将能编写应用</c>


7
00:00:46,313 --> 00:00:49,082
<c.magenta>它运行在</c>
<c.magenta>短信应用的上下文中</c>


8
00:00:51,118 --> 00:00:53,820
<c.magenta>iMessage应用可以提供</c>
<c.magenta>三种主要的内容</c>


9
00:00:55,822 --> 00:00:58,559
<c.magenta>第一 它们可以</c>
<c.magenta>提供可交互的短信息</c>


10
00:00:58,825 --> 00:01:02,196
<c.magenta>可交互的短信息是一种</c>
<c.magenta>你的应用生成的信息</c>


11
00:01:02,262 --> 00:01:05,832
<c.magenta>而当你的用户点击这条信息时</c>
<c.magenta>它会启动你的应用</c>


12
00:01:06,433 --> 00:01:09,036
<c.magenta>比如说 在这里展示的这个截图中</c>


13
00:01:09,436 --> 00:01:12,306
<c.magenta>我正使用DoorDash应用</c>
<c.magenta>向我的朋友们发送菜单</c>


14
00:01:12,372 --> 00:01:14,308
<c.magenta>有关我们今晚的派对</c>


15
00:01:14,808 --> 00:01:17,678
<c.magenta>他们将可以在手机上</c>
<c.magenta>看到这条短信息</c>


16
00:01:17,945 --> 00:01:20,247
<c.magenta>而如果它们已经</c>
<c.magenta>安装了这个应用</c>


17
00:01:20,314 --> 00:01:23,417
<c.magenta>他们就可以点击它</c>
<c.magenta>而点击操作会启动DoorDash</c>


18
00:01:23,650 --> 00:01:25,919
<c.magenta>此时他们</c>
<c.magenta>就可以修改菜单了</c>


19
00:01:25,986 --> 00:01:28,288
<c.magenta>向其中添加信息</c>
<c.magenta>并回复给我</c>


20
00:01:30,257 --> 00:01:32,125
<c.magenta>iMessage应用也可提供贴图</c>


21
00:01:32,492 --> 00:01:35,963
<c.magenta>贴图是你的应用</c>
<c.magenta>所生成的图片</c>


22
00:01:36,063 --> 00:01:38,532
<c.magenta>我们相信它可以创造一种很有趣的</c>


23
00:01:38,599 --> 00:01:41,735
<c.magenta>交互性体验</c>
<c.magenta>在iMessage用户之间</c>


24
00:01:44,505 --> 00:01:47,908
<c.magenta>最后 iMessage应用</c>
<c.magenta>可以提供任意其他种类的</c>


25
00:01:47,975 --> 00:01:51,445
<c.magenta>短信息所能包含的内容</c>
<c.magenta>比如照片</c>


26
00:01:51,678 --> 00:01:54,481
<c.magenta>视频 文本 链接等等</c>


27
00:01:57,518 --> 00:02:01,154
<c.magenta>且在iOS X中我们会提供一个</c>
<c.magenta>Message App Store</c>


28
00:02:01,622 --> 00:02:03,724
<c.magenta>这意味着</c>
<c.magenta>你写的应用</c>


29
00:02:03,790 --> 00:02:06,460
<c.magenta>与你创造的应用会被</c>
<c.magenta>显示并展示</c>


30
00:02:06,527 --> 00:02:07,728
<c.magenta>在Messages App Store中</c>


31
00:02:08,262 --> 00:02:11,331
<c.magenta>用户可以通过短信息</c>
<c.magenta>来访问这个App Store</c>


32
00:02:11,398 --> 00:02:13,967
<c.magenta>它们将可以</c>
<c.magenta>下载你的应用</c>


33
00:02:15,068 --> 00:02:17,504
<c.magenta>你的用户</c>
<c.magenta>所下载的应用</c>


34
00:02:17,571 --> 00:02:19,606
<c.magenta>将被展示在短信息的UI中</c>


35
00:02:19,673 --> 00:02:21,475
<c.magenta>我们称之为Messages App Drawer</c>


36
00:02:23,810 --> 00:02:26,914
<c.magenta>我们还有这个很强大的</c>
<c.magenta>功能 可以允许你的用户</c>


37
00:02:26,980 --> 00:02:29,116
<c.magenta>很轻松的</c>
<c.magenta>发现你的应用</c>


38
00:02:29,383 --> 00:02:31,718
<c.magenta>我们称之为内联应用归属</c>


39
00:02:32,452 --> 00:02:34,922
<c.magenta>让我们通过一个例子</c>
<c.magenta>来理解其含义</c>


40
00:02:35,522 --> 00:02:38,792
<c.magenta>在这里展示的截图中</c>
<c.magenta>我收到了一个贴图</c>


41
00:02:38,859 --> 00:02:43,130
<c.magenta>来自我的朋友 但我没有</c>
<c.magenta>安装相关的应用</c>


42
00:02:43,230 --> 00:02:44,598
<c.magenta>即他发送贴图所使用的应用</c>


43
00:02:45,332 --> 00:02:48,302
<c.magenta>这种情况下</c>
<c.magenta>你可以看到放大的单元格</c>


44
00:02:48,669 --> 00:02:51,405
<c.magenta>在贴图之下 我们可以看到</c>
<c.magenta>应用的名称</c>


45
00:02:51,471 --> 00:02:53,040
<c.magenta>也就是发送贴图的应用</c>


46
00:02:53,340 --> 00:02:56,009
<c.magenta>点击这段文本就会启动这个</c>
<c.magenta>Message App Store</c>


47
00:02:56,076 --> 00:03:00,080
<c.magenta>并将发送贴图的应用</c>
<c.magenta>展示给我</c>


48
00:03:00,480 --> 00:03:02,716
<c.magenta>然后我就可以下载</c>
<c.magenta>这个应用并使用它</c>


49
00:03:02,783 --> 00:03:04,051
<c.magenta>就像我使用</c>
<c.magenta>任何其他iMessage应用一样</c>


50
00:03:05,085 --> 00:03:10,390
<c.magenta>在这里展示的这个例子中</c>
<c.magenta>我使用了贴图作为示例</c>


51
00:03:10,457 --> 00:03:12,392
<c.magenta>来演示内联应用归属</c>


52
00:03:12,826 --> 00:03:17,064
<c.magenta>但它也适用于任何其他</c>
<c.magenta>iMessage应用所能生成的内容</c>


53
00:03:20,667 --> 00:03:23,804
<c.magenta>并且创建一个iMessage应用</c>
<c.magenta>很类似于</c>


54
00:03:23,871 --> 00:03:26,974
<c.magenta>创建任何的iOS应用</c>
<c.magenta>也就是你已经创建过的应用</c>


55
00:03:27,374 --> 00:03:29,710
<c.magenta>你将可以使用</c>
<c.magenta>同一套技术</c>


56
00:03:29,776 --> 00:03:31,912
<c.magenta>和框架</c>
<c.magenta>也就是你正在使用的</c>


57
00:03:32,546 --> 00:03:35,983
<c.magenta>举例来说 你可以使用的</c>
<c.magenta>一些工具包括</c>


58
00:03:38,819 --> 00:03:41,255
<c.magenta>集成in-app purchase到你应用中</c>


59
00:03:42,222 --> 00:03:44,024
<c.magenta>你可以访问Apple Pay</c>


60
00:03:45,392 --> 00:03:48,428
<c.magenta>而且你的iMessage应用</c>
<c.magenta>将可以使用相机</c>


61
00:03:48,695 --> 00:03:53,500
<c.magenta>我们相信这些功能可以让你</c>
<c.magenta>为你的用户创造很棒的应用</c>


62
00:03:55,736 --> 00:03:57,838
<c.magenta>现在让我们聊聊支持的平台</c>


63
00:03:58,038 --> 00:04:00,807
<c.magenta>iMessage应用</c>
<c.magenta>只能运行在iOS X中</c>


64
00:04:02,376 --> 00:04:05,679
<c.magenta>但是 你的应用所</c>
<c.magenta>所生成的内容将被</c>


65
00:04:05,746 --> 00:04:09,917
<c.magenta>发送到watchOS</c>
<c.magenta>和macOS设备并被查看</c>


66
00:04:12,586 --> 00:04:15,822
<c.magenta>在watchOS 3.0中</c>
<c.magenta>在Messages应用中</c>


67
00:04:15,889 --> 00:04:18,158
<c.magenta>我们将提供一个新页面</c>
<c.magenta>叫做Recents Page</c>


68
00:04:18,524 --> 00:04:22,296
<c.magenta>Recents Page</c>
<c.magenta>与其他页面不同 会展示贴图</c>


69
00:04:22,396 --> 00:04:24,865
<c.magenta>你的用户最近通过手机</c>
<c.magenta>所发送的</c>


70
00:04:25,532 --> 00:04:28,101
<c.magenta>而你的用户不止会看到</c>
<c.magenta>这些最近的贴图</c>


71
00:04:28,168 --> 00:04:31,271
<c.magenta>他们还可以在手表上</c>
<c.magenta>发送这些贴图</c>


72
00:04:31,338 --> 00:04:33,340
<c.magenta>就好像是在手机上发送一样</c>


73
00:04:36,176 --> 00:04:38,045
<c.magenta>这就是有关Messages App Store</c>


74
00:04:38,111 --> 00:04:39,713
<c.magenta>和短信息平台的内容了</c>


75
00:04:39,780 --> 00:04:42,583
<c.magenta>现在让我们谈谈创建</c>
<c.magenta>iMessage应用的相关细节</c>


76
00:04:43,350 --> 00:04:46,453
<c.magenta>这也是我们在剩下部分中</c>
<c.magenta>将要讲述的内容</c>


77
00:04:47,754 --> 00:04:49,857
<c.magenta>首先我们要说到</c>
<c.magenta>短信息框架</c>


78
00:04:50,123 --> 00:04:53,827
<c.magenta>短信息框架是</c>
<c.magenta>你必须要熟悉的框架</c>


79
00:04:53,894 --> 00:04:55,362
<c.magenta>来创建iMessage应用</c>


80
00:04:56,797 --> 00:04:59,766
<c.magenta>然后我们会谈到创建</c>
<c.magenta>Sticker Pack应用</c>


81
00:05:01,435 --> 00:05:04,371
<c.magenta>而后我们要探索</c>
<c.magenta>有关贴图文件格式的细节</c>


82
00:05:04,505 --> 00:05:06,607
<c.magenta>以及其他有关贴图的限制</c>


83
00:05:08,108 --> 00:05:10,744
<c.magenta>最后我们会讲到创建</c>
<c.magenta>一个定制贴图体验</c>


84
00:05:10,811 --> 00:05:12,312
<c.magenta>通过使用短信息框架</c>


85
00:05:13,580 --> 00:05:16,049
<c.magenta>我们不会在今天的演讲中</c>
<c.magenta>讲如何</c>


86
00:05:16,116 --> 00:05:18,919
<c.magenta>创建一个应用</c>
<c.magenta>来提供交互性信息</c>


87
00:05:19,286 --> 00:05:22,623
<c.magenta>我们会在第二部分讲述</c>
<c.magenta>如何创建这样的应用</c>


88
00:05:22,689 --> 00:05:24,925
<c.magenta>在我们的谈话中 我请求大家</c>


89
00:05:24,992 --> 00:05:26,293
<c.magenta>一定要回来看第二部分</c>


90
00:05:26,527 --> 00:05:29,229
<c.magenta>将会继续在这里进行</c>
<c.magenta>在周四下午1:40</c>


91
00:05:31,498 --> 00:05:32,533
<c.magenta>短信息框架</c>


92
00:05:32,833 --> 00:05:36,403
<c.magenta>短信息框架是一个全新的</c>
<c.magenta>我们要在iOS X中引入的框架</c>


93
00:05:36,937 --> 00:05:38,906
<c.magenta>短信息框架扮演一个接口的角色</c>


94
00:05:38,972 --> 00:05:41,808
<c.magenta>在你的iMessages应用</c>
<c.magenta>和短信息应用之间</c>


95
00:05:42,643 --> 00:05:45,679
<c.magenta>当你的用户点击你的应用图标</c>
<c.magenta>来启动你的应用时</c>


96
00:05:45,746 --> 00:05:48,482
<c.magenta>需要通过这个框架</c>
<c.magenta>让我们发现你的应用</c>


97
00:05:48,849 --> 00:05:51,818
<c.magenta>启动你的应用 并将数据</c>
<c.magenta>提供给你的应用</c>


98
00:05:51,885 --> 00:05:53,954
<c.magenta>以及其他你的应用所需要的上下文</c>


99
00:05:54,021 --> 00:05:55,055
<c.magenta>来展示其UI</c>


100
00:05:55,789 --> 00:05:59,426
<c.magenta>一旦你的应用</c>
<c.magenta>展示出UI且你的用户</c>


101
00:05:59,493 --> 00:06:00,661
<c.magenta>准备好与之交互时</c>


102
00:06:01,328 --> 00:06:04,264
<c.magenta>并且在与应用</c>
<c.magenta>交互结束之时</c>


103
00:06:04,331 --> 00:06:08,569
<c.magenta>最好能生成一些</c>
<c.magenta>你的用户想要的内容</c>


104
00:06:08,635 --> 00:06:14,007
<c.magenta>来通过短信息分享</c>
<c.magenta>你的应用将这个内容返回给</c>


105
00:06:14,074 --> 00:06:15,843
<c.magenta>给短信息 通过这个框架</c>


106
00:06:16,109 --> 00:06:19,513
<c.magenta>此时你的用户已准备好</c>
<c.magenta>将返回的内容通过短信息分享</c>


107
00:06:19,580 --> 00:06:21,348
<c.magenta>给他们正在聊天的人</c>


108
00:06:22,916 --> 00:06:25,986
<c.magenta>我需要在这里提到</c>
<c.magenta>短信息框架</c>


109
00:06:26,153 --> 00:06:28,222
<c.magenta>和iMessage应用是构建在顶层</c>


110
00:06:28,288 --> 00:06:30,490
<c.magenta>在现存的应用扩展技术中</c>


111
00:06:31,291 --> 00:06:35,028
<c.magenta>在这个意义上</c>
<c.magenta>iMessage应用是一个应用扩展</c>


112
00:06:35,128 --> 00:06:37,764
<c.magenta>而且在这种情况下</c>
<c.magenta>短信息应用扮演着</c>


113
00:06:37,831 --> 00:06:40,767
<c.magenta>你的iMessage应用的</c>
<c.magenta>宿主应用的角色</c>


114
00:06:42,736 --> 00:06:44,605
<c.magenta>如果你不熟悉</c>


115
00:06:44,671 --> 00:06:47,875
<c.magenta>或者之前没有写过扩展的话</c>
<c.magenta>我建议</c>


116
00:06:47,941 --> 00:06:50,878
<c.magenta>你返回去</c>
<c.magenta>看一看这个 WWDC 演讲</c>


117
00:06:50,944 --> 00:06:55,883
<c.magenta>在2014年介绍了</c>
<c.magenta>iOS和OS X的扩展</c>


118
00:06:58,452 --> 00:07:01,755
<c.magenta>所以就如我刚刚提到的</c>
<c.magenta>iMessage应用是扩展</c>


119
00:07:01,822 --> 00:07:03,690
<c.magenta>但是有一个很重要的区别</c>


120
00:07:03,757 --> 00:07:06,059
<c.magenta>相较于其他iOS扩展而言</c>


121
00:07:06,760 --> 00:07:09,496
<c.magenta>不像其他的扩展点</c>
<c.magenta>你不需要</c>


122
00:07:09,563 --> 00:07:11,298
<c.magenta>提供一个容器应用</c>


123
00:07:11,365 --> 00:07:12,633
<c.magenta>为你的iMessage应用</c>


124
00:07:12,699 --> 00:07:15,469
<c.magenta>你可以只在你想要时</c>
<c.magenta>装载你的iMessage应用</c>


125
00:07:16,336 --> 00:07:19,706
<c.magenta>但如果你已经有</c>
<c.magenta>一个容器应用</c>


126
00:07:19,773 --> 00:07:21,909
<c.magenta>或者你已经传送到了</c>
<c.magenta>App Store</c>


127
00:07:21,975 --> 00:07:26,046
<c.magenta>你总是可以将iMessage应用</c>
<c.magenta>集成在容器应用中</c>


128
00:07:26,113 --> 00:07:28,248
<c.magenta>因为 正如我之前所说</c>
<c.magenta>这些都是扩展</c>


129
00:07:31,051 --> 00:07:33,453
<c.magenta>所以如果你提供一个</c>
<c.magenta>容器应用</c>


130
00:07:33,520 --> 00:07:36,523
<c.magenta>那你的应用将展示在</c>
<c.magenta>主界面中</c>


131
00:07:36,590 --> 00:07:39,326
<c.magenta>在你的用户的手机上</c>
<c.magenta>以及在Messages App Drawer</c>


132
00:07:39,393 --> 00:07:40,294
<c.magenta>在短信息中</c>


133
00:07:40,594 --> 00:07:42,663
<c.magenta>它同时还会展示在</c>
<c.magenta>主App Store</c>


134
00:07:42,863 --> 00:07:44,398
<c.magenta>以及在Messages App Store中</c>


135
00:07:45,165 --> 00:07:48,435
<c.magenta>但如果你不提供</c>
<c.magenta>一个容器应用 那么</c>


136
00:07:48,502 --> 00:07:50,871
<c.magenta>正如你所见</c>
<c.magenta>你的应用不会展示在</c>


137
00:07:50,938 --> 00:07:53,874
<c.magenta>主界面以及</c>
<c.magenta>主App Store中</c>


138
00:07:53,974 --> 00:07:56,677
<c.magenta>它只会展示在</c>
<c.magenta>Messages App Drawer中</c>


139
00:07:56,743 --> 00:07:58,312
<c.magenta>以及在Messages App Store中</c>


140
00:07:59,680 --> 00:08:03,984
<c.magenta>我想提一下如果你</c>
<c.magenta>不提供一个容器应用的话</c>


141
00:08:04,051 --> 00:08:07,554
<c.magenta>你依然需要提供一个图标</c>
<c.magenta>对应着你的容器应用</c>


142
00:08:08,188 --> 00:08:11,124
<c.magenta>这个图标会在</c>
<c.magenta>系统的其他部分中使用</c>


143
00:08:11,191 --> 00:08:12,492
<c.magenta>比如设置应用中</c>


144
00:08:12,559 --> 00:08:14,695
<c.magenta>要展示你的应用</c>
<c.magenta>的相关信息</c>


145
00:08:14,761 --> 00:08:16,864
<c.magenta>比如</c>
<c.magenta>它所占用的存储空间</c>


146
00:08:19,499 --> 00:08:21,101
<c.magenta>所以现在让我们谈谈贴图</c>


147
00:08:21,535 --> 00:08:24,338
<c.magenta>贴图是一种很有趣的</c>
<c.magenta>全新的交流方式</c>


148
00:08:24,404 --> 00:08:25,906
<c.magenta>与其他iMessage用户</c>


149
00:08:27,040 --> 00:08:29,776
<c.magenta>你的用户可以发送内联贴图</c>


150
00:08:29,843 --> 00:08:32,379
<c.magenta>像你的用户</c>
<c.magenta>已发送过的其他iMessage一样</c>


151
00:08:33,746 --> 00:08:36,717
<c.magenta>或者你的用户 不是你的贴图</c>


152
00:08:36,783 --> 00:08:40,220
<c.magenta>或者你的用户可以拖拽贴图</c>
<c.magenta>到应用之外</c>


153
00:08:40,287 --> 00:08:42,322
<c.magenta>并将它们附加到</c>
<c.magenta>其他短信息气泡中</c>


154
00:08:42,489 --> 00:08:45,959
<c.magenta>我们相信这会</c>
<c.magenta>带来一种很具表现性的</c>


155
00:08:46,026 --> 00:08:48,161
<c.magenta>且吸引人的短信息体验</c>


156
00:08:50,864 --> 00:08:52,399
<c.magenta>但贴图对你而言意味着什么？</c>


157
00:08:52,999 --> 00:08:56,069
<c.magenta>贴图根本上说是</c>
<c.magenta>你的应用所提供的图片</c>


158
00:08:57,171 --> 00:09:00,374
<c.magenta>这些图片可以是动态的</c>
<c.magenta>也可以是静态的</c>


159
00:09:01,642 --> 00:09:04,044
<c.magenta>我们相信贴图</c>
<c.magenta>是一种很好的分享</c>


160
00:09:04,111 --> 00:09:06,346
<c.magenta>或提升你</c>
<c.magenta>所拥有的内容的方式</c>


161
00:09:06,613 --> 00:09:09,049
<c.magenta>而且我们普遍认为</c>
<c.magenta>贴图应用将</c>


162
00:09:09,116 --> 00:09:11,852
<c.magenta>会变得非常 非常流行</c>
<c.magenta>在iMessages用户中</c>


163
00:09:14,354 --> 00:09:16,223
<c.magenta>现在让我们聊聊</c>
<c.magenta>创建贴图应用</c>


164
00:09:16,990 --> 00:09:18,825
<c.magenta>有两种方式可以</c>
<c.magenta>创建一个贴图应用</c>


165
00:09:18,992 --> 00:09:22,963
<c.magenta>首先你可使用Xcode创建一个</c>
<c.magenta>Sticker Pack应用</c>


166
00:09:23,297 --> 00:09:25,866
<c.magenta>如果你使用这种方式</c>
<c.magenta>你就无需</c>


167
00:09:25,933 --> 00:09:28,302
<c.magenta>为你的应用提供任何代码</c>


168
00:09:28,468 --> 00:09:30,304
<c.magenta>你只需要提供资源</c>


169
00:09:30,370 --> 00:09:32,406
<c.magenta>为了你的贴图与应用图标</c>


170
00:09:33,874 --> 00:09:37,110
<c.magenta>但如果你想定制你的应用</c>
<c.magenta>你就可以通过提供代码来实现</c>


171
00:09:37,177 --> 00:09:39,913
<c.magenta>这种情况下 你的代码</c>
<c.magenta>可以提供贴图通过</c>


172
00:09:39,980 --> 00:09:40,948
<c.magenta>短信息框架</c>


173
00:09:43,717 --> 00:09:45,819
<c.magenta>现在让我</c>
<c.magenta>展示一个演示</c>


174
00:09:45,886 --> 00:09:48,388
<c.magenta>来使用Xcode创建一个</c>
<c.magenta>Sticker Pack应用</c>


175
00:09:49,823 --> 00:09:54,094
<c.magenta>所以我现在要用我的电脑</c>
<c.magenta>我现在要启动Xcode</c>


176
00:09:55,996 --> 00:09:57,764
<c.magenta>现在我将要</c>


177
00:09:57,831 --> 00:09:59,733
<c.magenta>创建一个新的Xcode项目</c>


178
00:10:01,535 --> 00:10:03,904
<c.magenta>在应用的名称中</c>
<c.magenta>我将要</c>


179
00:10:03,971 --> 00:10:06,039
<c.magenta>选择Sticker Pack应用</c>


180
00:10:06,807 --> 00:10:08,342
<c.magenta>而后我将点击Next</c>


181
00:10:09,176 --> 00:10:12,212
<c.magenta>然后我将要命名我的项目</c>
<c.magenta>SFStickers作为资源文件</c>


182
00:10:12,346 --> 00:10:14,281
<c.magenta>我将要使用这些资源文件</c>


183
00:10:14,348 --> 00:10:17,985
<c.magenta>作为资源来描述不同的</c>
<c.magenta>旧金山地标</c>


184
00:10:18,785 --> 00:10:19,820
<c.magenta>我点击Next</c>


185
00:10:20,821 --> 00:10:23,223
<c.magenta>现在让我</c>
<c.magenta>创建在我的桌面上</c>


186
00:10:24,024 --> 00:10:28,061
<c.magenta>我完成了 让我很快速的</c>
<c.magenta>放大我的Xcode</c>


187
00:10:28,462 --> 00:10:32,499
<c.magenta>太棒了 所以 如你所见</c>
<c.magenta>在你现在获得的模板</c>


188
00:10:32,566 --> 00:10:35,802
<c.magenta>在一个Sticker Pack</c>
<c.magenta>应用中没有源代码文件</c>


189
00:10:36,303 --> 00:10:39,072
<c.magenta>这是这个模板的</c>
<c.magenta>慎重的设计</c>


190
00:10:39,139 --> 00:10:40,874
<c.magenta>让我重申一点</c>


191
00:10:40,941 --> 00:10:42,843
<c.magenta>若创建Sticker Pack应用</c>


192
00:10:42,910 --> 00:10:44,478
<c.magenta>你不用提供任何代码</c>


193
00:10:44,545 --> 00:10:47,281
<c.magenta>你只需提供贴图</c>
<c.magenta>和应用图标资源</c>


194
00:10:47,881 --> 00:10:49,149
<c.magenta>所以让我们看看如何实现</c>


195
00:10:50,050 --> 00:10:51,418
<c.magenta>我进入Stickers</c>


196
00:10:51,585 --> 00:10:53,587
<c.magenta>这是一个目录</c>
<c.magenta>里面有两个文件</c>


197
00:10:53,687 --> 00:10:56,857
<c.magenta>Sticker Pack</c>
<c.magenta>另是iMessage应用图标</c>


198
00:10:57,724 --> 00:10:59,259
<c.magenta>点击Sticker Pack</c>


199
00:10:59,927 --> 00:11:03,063
<c.magenta>现在 如你所见 它说</c>
<c.magenta>我没有任何贴图 我需要</c>


200
00:11:03,130 --> 00:11:05,699
<c.magenta>拖放图片</c>
<c.magenta>来添加新的贴图</c>


201
00:11:05,866 --> 00:11:06,700
<c.magenta>所以我照做</c>


202
00:11:08,001 --> 00:11:11,705
<c.magenta>我进入Finder并进入桌面</c>


203
00:11:12,272 --> 00:11:14,608
<c.magenta>我这里有一些资源</c>
<c.magenta>我正好使用它们</c>


204
00:11:15,442 --> 00:11:18,212
<c.magenta>所以我要点击</c>
<c.magenta>第一个 我将要</c>


205
00:11:18,278 --> 00:11:19,513
<c.magenta>将它拖拽到这里</c>


206
00:11:19,680 --> 00:11:21,081
<c.magenta>那就是金门大桥</c>


207
00:11:22,516 --> 00:11:25,018
<c.magenta>我将要拖拽第二张了</c>
<c.magenta>这是唐人街</c>


208
00:11:26,320 --> 00:11:28,522
<c.magenta>为了更快速 我将</c>


209
00:11:28,589 --> 00:11:32,326
<c.magenta>选择剩下的所有</c>
<c.magenta>图片并拖拽到这里</c>


210
00:11:33,327 --> 00:11:34,828
<c.magenta>太棒了 我现有所有资源了</c>


211
00:11:35,596 --> 00:11:37,531
<c.magenta>这些资源是PNG类型的</c>


212
00:11:37,831 --> 00:11:41,235
<c.magenta>Xcode还允许你</c>
<c.magenta>创建一个APNG贴图</c>


213
00:11:41,301 --> 00:11:43,370
<c.magenta>要使用PNG独立帧</c>


214
00:11:43,971 --> 00:11:45,339
<c.magenta>让我演示一下如何完成</c>


215
00:11:45,939 --> 00:11:48,442
<c.magenta>现在我将要点击</c>
<c.magenta>或者在这里右键单击</c>


216
00:11:48,809 --> 00:11:50,511
<c.magenta>我将要添加资源</c>


217
00:11:51,311 --> 00:11:53,514
<c.magenta>我将要选择New Sticker Sequence</c>


218
00:11:54,414 --> 00:11:56,316
<c.magenta>当你创建一个新的</c>
<c.magenta>Sticker sequence时</c>


219
00:11:56,383 --> 00:11:59,520
<c.magenta>Xcode需要你提供</c>
<c.magenta>独立帧画面</c>


220
00:11:59,586 --> 00:12:01,522
<c.magenta>来构建你想创建的贴图</c>


221
00:12:02,789 --> 00:12:04,525
<c.magenta>所以我要返回到桌面</c>


222
00:12:05,225 --> 00:12:07,761
<c.magenta>我要点击这里</c>
<c.magenta>我有我需要的独立帧</c>


223
00:12:09,129 --> 00:12:10,631
<c.magenta>我将要拖拽第一个</c>


224
00:12:12,199 --> 00:12:13,734
<c.magenta>我将要把第二个也拖拽进去</c>


225
00:12:15,302 --> 00:12:16,170
<c.magenta>第三个</c>


226
00:12:16,970 --> 00:12:18,238
<c.magenta>最后是第四个</c>


227
00:12:19,139 --> 00:12:21,542
<c.magenta>现在让我们返回Xcode</c>
<c.magenta>来看看它完成了什么</c>


228
00:12:21,608 --> 00:12:24,344
<c.magenta>如你所见</c>
<c.magenta>我有一个放大的版本</c>


229
00:12:24,411 --> 00:12:26,113
<c.magenta>属于这个贴图 通过点击</c>


230
00:12:26,180 --> 00:12:28,682
<c.magenta>它的中心会真实的</c>
<c.magenta>将动画展示给我</c>


231
00:12:28,749 --> 00:12:29,583
<c.magenta>看起来不错</c>


232
00:12:30,417 --> 00:12:32,486
<c.magenta>现在让我把应用图标也拖拽进来</c>


233
00:12:33,587 --> 00:12:35,389
<c.magenta>我进入应用图标分类</c>


234
00:12:37,224 --> 00:12:38,225
<c.magenta>我进入这里</c>


235
00:12:39,660 --> 00:12:41,728
<c.magenta>我选择这些东西</c>


236
00:12:44,231 --> 00:12:45,165
<c.magenta>拖拽进这里</c>


237
00:12:45,332 --> 00:12:47,868
<c.magenta>我可能漏了一个</c>
<c.magenta>让我很快再做一次</c>


238
00:12:52,272 --> 00:12:54,274
<c.magenta>好了</c>
<c.magenta>现在我提供了应用图标</c>


239
00:12:54,608 --> 00:12:55,909
<c.magenta>现在我准备好了</c>


240
00:12:55,976 --> 00:12:56,910
<c.magenta>我的应用完成了</c>


241
00:12:56,977 --> 00:12:58,712
<c.magenta>现在让我看看</c>
<c.magenta>它是什么样子</c>


242
00:12:59,947 --> 00:13:01,882
<c.magenta>我将要进入这里</c>
<c.magenta>来测试我的应用</c>


243
00:13:01,949 --> 00:13:03,083
<c.magenta>使用模拟器</c>


244
00:13:03,584 --> 00:13:06,787
<c.magenta>我将要选择iPhone 6s</c>
<c.magenta>作为用于测试的设备</c>


245
00:13:07,788 --> 00:13:10,190
<c.magenta>我将要进入“产品”</c>
<c.magenta>并点击“运行”</c>


246
00:13:11,491 --> 00:13:14,294
<c.magenta>我现在只需要等待</c>
<c.magenta>让它出现</c>


247
00:13:14,962 --> 00:13:17,998
<c.magenta>太棒了 短信息已显示</c>
<c.magenta>我在创建一个iMessage应用</c>


248
00:13:18,065 --> 00:13:19,766
<c.magenta>我将要通过</c>
<c.magenta>Messages应用来测试</c>


249
00:13:20,534 --> 00:13:21,568
<c.magenta>然后我要运行它</c>


250
00:13:22,903 --> 00:13:24,404
<c.magenta>模拟器启动了</c>


251
00:13:24,471 --> 00:13:29,076
<c.magenta>太棒了 如你所见</c>
<c.magenta>我有两段模拟对话</c>


252
00:13:29,142 --> 00:13:30,811
<c.magenta>在模拟器Messages应用中</c>


253
00:13:31,411 --> 00:13:34,147
<c.magenta>通过模拟对话</c>
<c.magenta>我想要表达的是如果你进入一个</c>


254
00:13:34,214 --> 00:13:36,149
<c.magenta>并发送</c>
<c.magenta>一条短信息</c>


255
00:13:36,216 --> 00:13:39,019
<c.magenta>它会展示一个来信</c>
<c.magenta>在另一个对话中</c>


256
00:13:39,453 --> 00:13:42,623
<c.magenta>澄清一下 你将</c>
<c.magenta>无法发送短信息</c>


257
00:13:42,689 --> 00:13:46,093
<c.magenta>从模拟器发送到真实设备上</c>


258
00:13:46,393 --> 00:13:50,664
<c.magenta>所以我进入第一段对话</c>
<c.magenta>我输入一点东西</c>


259
00:13:52,866 --> 00:13:54,835
<c.magenta>此时我只是在自言自语</c>


260
00:13:55,402 --> 00:13:57,471
<c.magenta>如你所见 这是我的短信息</c>
<c.magenta>太棒了</c>


261
00:13:58,639 --> 00:14:00,541
<c.magenta>现在让我看看</c>
<c.magenta>我的应用是什么样子</c>


262
00:14:00,607 --> 00:14:03,243
<c.magenta>现在我进入App Drawer</c>
<c.magenta>你可以看到</c>


263
00:14:03,410 --> 00:14:06,079
<c.magenta>我的应用在这里已经准备好了</c>
<c.magenta>等待被启动</c>


264
00:14:06,647 --> 00:14:07,581
<c.magenta>我点击它</c>


265
00:14:09,082 --> 00:14:11,285
<c.magenta>看 资源在这里显示了</c>


266
00:14:11,351 --> 00:14:15,389
<c.magenta>这些正是我</c>
<c.magenta>刚刚添加的资源 我可以下滑</c>


267
00:14:17,457 --> 00:14:18,659
<c.magenta>看看他们是什么样子</c>


268
00:14:18,725 --> 00:14:20,961
<c.magenta>现在 如你所见</c>
<c.magenta>动态PNG也在这里</c>


269
00:14:21,628 --> 00:14:24,464
<c.magenta>我可以点击其中一个 拖出</c>


270
00:14:24,965 --> 00:14:28,669
<c.magenta>并拖拽到应用之外</c>
<c.magenta>将其固定于一个短信息气泡中</c>


271
00:14:28,869 --> 00:14:31,505
<c.magenta>太棒了 如你所见</c>
<c.magenta>我可以退出</c>


272
00:14:31,939 --> 00:14:34,374
<c.magenta>进入到另一个对话中</c>
<c.magenta>我在这里看到了贴图</c>


273
00:14:35,275 --> 00:14:37,878
<c.magenta>所以这就是创建</c>
<c.magenta>一个Sticker Pack应用的全过程</c>


274
00:14:38,111 --> 00:14:40,714
<c.magenta>但是 我还想</c>
<c.magenta>给你展示一点</c>


275
00:14:40,781 --> 00:14:44,618
<c.magenta>那就是如何定制</c>
<c.magenta>这个应用的特定方面</c>


276
00:14:45,085 --> 00:14:46,787
<c.magenta>所以现在回到资源贴图</c>


277
00:14:47,254 --> 00:14:49,990
<c.magenta>我现在会展示</c>


278
00:14:50,057 --> 00:14:54,061
<c.magenta>如何改变你的贴图</c>
<c.magenta>展示单元格的大小</c>


279
00:14:54,394 --> 00:14:55,863
<c.magenta>在这个网格中</c>


280
00:14:56,630 --> 00:14:58,832
<c.magenta>所以要实现这个目的</c>
<c.magenta>让我回到Xcode</c>


281
00:14:59,733 --> 00:15:03,470
<c.magenta>我将要点击“去顶部”</c>


282
00:15:03,804 --> 00:15:06,607
<c.magenta>如你所见</c>
<c.magenta>有一个下拉式菜单</c>


283
00:15:06,673 --> 00:15:07,808
<c.magenta>名字是Sticker Size</c>


284
00:15:08,041 --> 00:15:08,942
<c.magenta>我点击它</c>


285
00:15:09,176 --> 00:15:11,912
<c.magenta>有三个选项——大中小</c>


286
00:15:12,379 --> 00:15:14,381
<c.magenta>我要点击“大”</c>
<c.magenta>来看看如何</c>


287
00:15:14,448 --> 00:15:15,883
<c.magenta>它能改变我的应用</c>


288
00:15:17,084 --> 00:15:18,085
<c.magenta>我再次运行它</c>


289
00:15:22,456 --> 00:15:23,857
<c.magenta>短信息应用被启动</c>


290
00:15:23,924 --> 00:15:25,592
<c.magenta>让我回到我的应用</c>


291
00:15:27,928 --> 00:15:28,929
<c.magenta>如你所见</c>


292
00:15:29,329 --> 00:15:33,834
<c.magenta>贴图现在一行</c>
<c.magenta>只展示两个单元格更大</c>


293
00:15:33,901 --> 00:15:35,369
<c.magenta>之间的空间也更大了</c>


294
00:15:35,936 --> 00:15:39,239
<c.magenta>我将要深入</c>
<c.magenta>一些细节</c>


295
00:15:39,306 --> 00:15:42,442
<c.magenta>来改变贴图单元格的尺寸</c>
<c.magenta>在这个部分的后面</c>


296
00:15:43,110 --> 00:15:44,077
<c.magenta>在这个演示中</c>


297
00:15:44,611 --> 00:15:47,347
<c.magenta>我展示了如何创建</c>
<c.magenta>一个Sticker Pack应用</c>


298
00:15:47,414 --> 00:15:49,783
<c.magenta>使用Xcode在这个技术中</c>
<c.magenta>正如我所展示给你</c>


299
00:15:49,850 --> 00:15:51,585
<c.magenta>你不需要提供任何代码</c>


300
00:15:51,652 --> 00:15:55,756
<c.magenta>你只需要提供贴图</c>
<c.magenta>的资源和你的应用图标</c>


301
00:15:57,090 --> 00:16:00,394
<c.magenta>我还展示了如何使用</c>
<c.magenta>Xcode内置的工具</c>


302
00:16:00,460 --> 00:16:03,797
<c.magenta>来创建一个APNG贴图</c>
<c.magenta>通过使用独立帧</c>


303
00:16:03,864 --> 00:16:04,898
<c.magenta>来组成APNG</c>


304
00:16:06,166 --> 00:16:08,101
<c.magenta>最后 我们讲到了如何</c>


305
00:16:08,168 --> 00:16:09,970
<c.magenta>改变贴图展示单元格的尺寸</c>


306
00:16:11,438 --> 00:16:14,708
<c.magenta>现在让我们说说支持的</c>
<c.magenta>贴图文件格式</c>


307
00:16:15,008 --> 00:16:16,577
<c.magenta>我们支持四种格式</c>


308
00:16:16,677 --> 00:16:20,814
<c.magenta>它们是PNG APNG</c>
<c.magenta>JPEG和GIF</c>


309
00:16:21,281 --> 00:16:23,016
<c.magenta>在这四种格式之外</c>


310
00:16:23,083 --> 00:16:25,519
<c.magenta>如果你想提供动画贴图</c>


311
00:16:25,586 --> 00:16:27,654
<c.magenta>我们还支持APNG和GIF</c>


312
00:16:28,255 --> 00:16:31,658
<c.magenta>我还进行了特定优化来</c>


313
00:16:31,825 --> 00:16:34,328
<c.magenta>让贴图的发送更加</c>
<c.magenta>快速 相较于</c>


314
00:16:34,394 --> 00:16:37,497
<c.magenta>其他的iMessages附件</c>
<c.magenta>而且为了降低</c>


315
00:16:37,564 --> 00:16:39,533
<c.magenta>贴图的磁盘存储空间</c>


316
00:16:39,800 --> 00:16:42,469
<c.magenta>并帮助我们</c>
<c.magenta>实现这些优化</c>


317
00:16:42,536 --> 00:16:45,606
<c.magenta>我们需要限制文件大小</c>
<c.magenta>贴图最大只能有500kb</c>


318
00:16:48,008 --> 00:16:50,878
<c.magenta>正如我刚才所提到</c>
<c.magenta>我们支持四种文件格式</c>


319
00:16:51,111 --> 00:16:56,083
<c.magenta>但是 我建议你</c>
<c.magenta>尽量使用PNG和APNG</c>


320
00:16:56,149 --> 00:16:57,784
<c.magenta>若不能全部使用这两种格式</c>


321
00:16:58,285 --> 00:17:00,721
<c.magenta>为了理解我们为何</c>
<c.magenta>做此推荐 我们</c>


322
00:17:00,787 --> 00:17:02,656
<c.magenta>看一下这些截图</c>


323
00:17:02,956 --> 00:17:07,027
<c.magenta>在这里我有两段对话</c>
<c.magenta>看起来几乎一样</c>


324
00:17:07,094 --> 00:17:08,862
<c.magenta>但有一个微小的区别</c>


325
00:17:09,195 --> 00:17:11,265
<c.magenta>让我放大</c>
<c.magenta>来展示区别是什么</c>


326
00:17:13,534 --> 00:17:17,938 line:1
<c.magenta>如你所见</c>
<c.magenta>左边的对话中的贴图</c>


327
00:17:18,005 --> 00:17:20,641 line:1
<c.magenta>放在照片上 是PNG格式的</c>


328
00:17:21,474 --> 00:17:24,744 line:1
<c.magenta>右边的对话</c>
<c.magenta>有同样的图片</c>


329
00:17:24,810 --> 00:17:29,516 line:1
<c.magenta>和同样的贴图</c>
<c.magenta>但贴图是GIF格式的</c>


330
00:17:30,284 --> 00:17:33,453 line:1
<c.magenta>如果你仔细观察</c>
<c.magenta>在放大区域中</c>


331
00:17:33,720 --> 00:17:35,956 line:1
<c.magenta>左边的那个 也就是PNG</c>


332
00:17:36,190 --> 00:17:39,226 line:1
<c.magenta>不会显示出任何锯齿</c>
<c.magenta>在其边界周围</c>


333
00:17:39,826 --> 00:17:42,162 line:1
<c.magenta>但右边的那一个 也就是GIF</c>


334
00:17:42,229 --> 00:17:43,697 line:1
<c.magenta>显示出了一定的锯齿</c>


335
00:17:43,764 --> 00:17:45,299 line:1
<c.magenta>在贴图的边界区域</c>


336
00:17:46,033 --> 00:17:47,835 line:1
<c.magenta>发生这种区别的原因是PNG</c>


337
00:17:47,901 --> 00:17:51,638 line:1
<c.magenta>和APNG可以很好地处理透明</c>


338
00:17:52,005 --> 00:17:54,608
<c.magenta>但GIF不能那么好的</c>
<c.magenta>处理透明</c>


339
00:17:55,275 --> 00:17:57,945
<c.magenta>然后如果你想要比较</c>
<c.magenta>透明属性</c>


340
00:17:58,011 --> 00:18:02,249
<c.magenta>JPEG事实上</c>
<c.magenta>根本不处理透明</c>


341
00:18:02,649 --> 00:18:06,653
<c.magenta>所以要记住</c>
<c.magenta>你的贴图可以被拖拽到</c>


342
00:18:06,720 --> 00:18:09,256
<c.magenta>你的应用之外</c>
<c.magenta>并附加在短信息气泡中</c>


343
00:18:09,523 --> 00:18:12,993
<c.magenta>所以透明</c>
<c.magenta>是一个很重要的因素</c>


344
00:18:13,060 --> 00:18:15,395
<c.magenta>需要在设计贴图时加以考虑</c>


345
00:18:16,163 --> 00:18:19,166
<c.magenta>我还建议你</c>
<c.magenta>亲自尝试你的贴图</c>


346
00:18:19,233 --> 00:18:20,801
<c.magenta>在不同的背景颜色中</c>


347
00:18:20,868 --> 00:18:24,671
<c.magenta>比如黑色 白色</c>
<c.magenta>甚至多色背景</c>


348
00:18:24,738 --> 00:18:27,174
<c.magenta>因为 再说一次</c>
<c.magenta>你的贴图会放到图片上</c>


349
00:18:29,042 --> 00:18:32,279
<c.magenta>在我刚刚所展示的演示用于改变尺寸</c>


350
00:18:32,346 --> 00:18:35,349
<c.magenta>也就是贴图所展示的单元格尺寸</c>


351
00:18:35,849 --> 00:18:37,951
<c.magenta>有三种支持的单元格尺寸</c>


352
00:18:38,018 --> 00:18:40,521 line:1
<c.magenta>它们是——大中小</c>


353
00:18:41,188 --> 00:18:44,358 line:1
<c.magenta>对于每一种尺寸</c>
<c.magenta>我们有一个推荐的最大</c>


354
00:18:44,424 --> 00:18:46,527 line:1
<c.magenta>贴图尺寸</c>
<c.magenta>被支持</c>


355
00:18:46,994 --> 00:18:51,732 line:1
<c.magenta>对于小贴图是100乘100</c>
<c.magenta>像素在3x比例中</c>


356
00:18:52,199 --> 00:18:56,003 line:1
<c.magenta>对于中等是136</c>
<c.magenta>乘136像素在3x比例中</c>


357
00:18:56,203 --> 00:18:59,139 line:1
<c.magenta>对于大图最大的</c>
<c.magenta>支持尺寸是206</c>


358
00:18:59,239 --> 00:19:01,542 line:1
<c.magenta>乘206像素在3x比例中</c>


359
00:19:02,109 --> 00:19:06,446
<c.magenta>如果你提供的贴图比</c>
<c.magenta>大于这些尺寸</c>


360
00:19:06,513 --> 00:19:09,249
<c.magenta>也就是你选择的单元格大小</c>
<c.magenta>所支持的尺寸</c>


361
00:19:09,416 --> 00:19:12,920
<c.magenta>那你的贴图将被</c>
<c.magenta>短信息框架压缩并展示</c>


362
00:19:12,986 --> 00:19:17,958
<c.magenta>在这种情况下它们可能看起来</c>
<c.magenta>并不像你所想象的那样</c>


363
00:19:18,425 --> 00:19:22,396
<c.magenta>但如果你的贴图是在范围之内</c>
<c.magenta>那么就可以正常展示</c>


364
00:19:23,230 --> 00:19:26,533
<c.magenta>我还想澄清一点</c>
<c.magenta>我们总是需要你</c>


365
00:19:26,600 --> 00:19:30,070
<c.magenta>不论如何要提供</c>
<c.magenta>3x比例的贴图</c>


366
00:19:30,137 --> 00:19:31,805
<c.magenta>相对于设备的分辨率</c>


367
00:19:31,872 --> 00:19:33,841
<c.magenta>也就是应用所运行的设备</c>


368
00:19:34,474 --> 00:19:37,544
<c.magenta>Messages应用负责</c>
<c.magenta>缩小你的贴图</c>


369
00:19:37,678 --> 00:19:39,546
<c.magenta>如果对于某设备而言需要缩小</c>


370
00:19:39,613 --> 00:19:42,149
<c.magenta>也就是你的贴图</c>
<c.magenta>正在展示的设备</c>


371
00:19:43,884 --> 00:19:47,788
<c.magenta>这就是有关短信息框架</c>
<c.magenta>和创建贴图应用的全部内容了</c>


372
00:19:47,955 --> 00:19:50,057
<c.magenta>此时我将余下任务</c>
<c.magenta>交给Lily</c>


373
00:19:50,123 --> 00:19:53,160
<c.magenta>她会讲解如何创建</c>
<c.magenta>一个定制贴图体验 谢谢大家</c>


374
00:19:58,599 --> 00:19:59,633
<c.magenta>谢谢你 Bhaskar</c>


375
00:19:59,933 --> 00:20:02,769
<c.magenta>我叫Lily 我是</c>
<c.magenta>短信息团队的一个工程师</c>


376
00:20:03,003 --> 00:20:06,406
<c.magenta>我将为大家讲解如何创建</c>
<c.magenta>一个定制贴图应用</c>


377
00:20:07,508 --> 00:20:10,544
<c.magenta>首先 为什么需要</c>
<c.magenta>创建一个定制贴图应用呢？</c>


378
00:20:10,911 --> 00:20:13,480
<c.magenta>你将获得的</c>
<c.magenta>首要好处是</c>


379
00:20:13,547 --> 00:20:16,583
<c.magenta>可以定制如何在你的</c>
<c.magenta>应用中展示贴图</c>


380
00:20:16,817 --> 00:20:19,686
<c.magenta>在我们刚才的例子中</c>
<c.magenta>我们看到了展示的贴图</c>


381
00:20:19,753 --> 00:20:21,121
<c.magenta>在一个很漂亮的网格布局中</c>


382
00:20:21,255 --> 00:20:23,557
<c.magenta>但是如果你想</c>
<c.magenta>放置你的贴图</c>


383
00:20:23,624 --> 00:20:26,260
<c.magenta>以另外一种格式</c>
<c.magenta>甚至是改变背景颜色</c>


384
00:20:26,326 --> 00:20:28,862
<c.magenta>你需要创建一个</c>
<c.magenta>定制贴图应用</c>


385
00:20:30,163 --> 00:20:32,566
<c.magenta>一个定制贴图应用</c>
<c.magenta>还将允许你</c>


386
00:20:32,633 --> 00:20:34,201
<c.magenta>动态的创建贴图</c>


387
00:20:34,434 --> 00:20:37,104
<c.magenta>在我们之前的例子中</c>
<c.magenta>我们将资源捆绑到</c>


388
00:20:37,171 --> 00:20:38,939
<c.magenta>我们的应用中 而为了</c>


389
00:20:39,006 --> 00:20:40,807
<c.magenta>更新这些资源我们需要</c>


390
00:20:40,874 --> 00:20:42,609
<c.magenta>向App Store推送更新</c>


391
00:20:43,076 --> 00:20:45,145
<c.magenta>如果你想从服务器</c>
<c.magenta>获取资源</c>


392
00:20:45,212 --> 00:20:47,948
<c.magenta>或者允许你的用户</c>
<c.magenta>在设备上动态的创建它们</c>


393
00:20:48,015 --> 00:20:51,285
<c.magenta>若能这样做 那么你就不需要</c>
<c.magenta>想App Store上传更新了</c>


394
00:20:52,786 --> 00:20:56,023
<c.magenta>短信息扩展还</c>
<c.magenta>提供了相机的访问权限</c>


395
00:20:56,089 --> 00:20:59,092
<c.magenta>来允许你的用户使用相机</c>
<c.magenta>创建有趣的贴图</c>


396
00:21:00,460 --> 00:21:04,097
<c.magenta>最终你的应用还可集成</c>
<c.magenta>In-app purchase</c>


397
00:21:04,164 --> 00:21:06,400
<c.magenta>来允许你的用户解锁特定贴图</c>


398
00:21:06,967 --> 00:21:09,369
<c.magenta>我们可以创建一个定制</c>
<c.magenta>贴图应用 通过使用</c>


399
00:21:09,436 --> 00:21:10,470
<c.magenta>短信息框架</c>


400
00:21:10,804 --> 00:21:13,073
<c.magenta>短信息框架</c>
<c.magenta>提供了构件</c>


401
00:21:13,140 --> 00:21:14,942
<c.magenta>来创建一个贴图应用</c>


402
00:21:15,309 --> 00:21:18,512
<c.magenta>在通过Xcode构建的</c>
<c.magenta>Sticker Pack应用示例中</c>


403
00:21:18,579 --> 00:21:20,848
<c.magenta>它们使用了同样的类</c>
<c.magenta>在这个框架中</c>


404
00:21:20,948 --> 00:21:23,483
<c.magenta>所以理想情况下你可以</c>
<c.magenta>创建同样的应用通过使用</c>


405
00:21:23,550 --> 00:21:24,518
<c.magenta>短信息框架</c>


406
00:21:25,018 --> 00:21:27,554
<c.magenta>在屏幕上的截图中</c>


407
00:21:27,621 --> 00:21:30,190
<c.magenta>我们有一个应用</c>
<c.magenta>正在展示贴图</c>


408
00:21:30,257 --> 00:21:32,593
<c.magenta>你可以发现</c>
<c.magenta>背景颜色是粉色的</c>


409
00:21:32,860 --> 00:21:36,363
<c.magenta>所以我将向大家展示如何定制</c>
<c.magenta>并创建一个这样的应用</c>


410
00:21:36,496 --> 00:21:37,664
<c.magenta>现在让我们看一个演示</c>


411
00:21:40,234 --> 00:21:41,835
<c.magenta>我现在要打开Xcode</c>


412
00:21:43,837 --> 00:21:45,539
<c.magenta>我要创建一个新的项目</c>


413
00:21:46,807 --> 00:21:48,909
<c.magenta>Bhaskar创建了一个</c>
<c.magenta>Sticker Pack应用</c>


414
00:21:48,976 --> 00:21:51,578
<c.magenta>但这次我们要创建</c>
<c.magenta>一个短信息应用</c>


415
00:21:51,945 --> 00:21:53,280
<c.magenta>所以我要选择这个</c>


416
00:21:54,181 --> 00:21:56,917
<c.magenta>然后我将项目命名为</c>
<c.magenta>“Nature Stickies”</c>


417
00:21:56,984 --> 00:21:59,319
<c.magenta>因为我们要使用自然资源</c>


418
00:21:59,686 --> 00:22:02,256
<c.magenta>我们要继续</c>
<c.magenta>创建这个项目</c>


419
00:22:02,489 --> 00:22:03,857
<c.magenta>我们要在桌面上打开它</c>


420
00:22:04,892 --> 00:22:05,726
<c.magenta>很棒</c>


421
00:22:07,094 --> 00:22:09,229
<c.magenta>如你所见</c>
<c.magenta>我们这里有两个文件夹</c>


422
00:22:09,296 --> 00:22:11,532
<c.magenta>Nature Stickies</c>
<c.magenta>和Messages Extension</c>


423
00:22:11,698 --> 00:22:13,400
<c.magenta>Nature Stickies</c>
<c.magenta>不包含任何源代码</c>


424
00:22:13,467 --> 00:22:15,769
<c.magenta>因为它包含了</c>
<c.magenta>捆绑的应用</c>


425
00:22:15,836 --> 00:22:19,006
<c.magenta>你将需要提供一个应用图标</c>
<c.magenta>给系统的设置</c>


426
00:22:19,139 --> 00:22:22,643
<c.magenta>但是 我们更感兴趣的是</c>
<c.magenta>Messages Extension文件夹</c>


427
00:22:23,076 --> 00:22:25,746
<c.magenta>所以现在我们要点击</c>
<c.magenta>MessagesViewController</c>


428
00:22:26,513 --> 00:22:28,549
<c.magenta>然后我们可以看到</c>
<c.magenta>MessagesViewController</c>


429
00:22:28,615 --> 00:22:30,217
<c.magenta>将是我们最主要的类</c>


430
00:22:30,450 --> 00:22:33,520
<c.magenta>它是</c>
<c.magenta>MSMessagesAppViewController的子类</c>


431
00:22:33,820 --> 00:22:37,491
<c.magenta>MSMessagesAppViewController</c>
<c.magenta>将作为控制器</c>


432
00:22:37,558 --> 00:22:40,127
<c.magenta>来处理来自</c>
<c.magenta>短信息应用的回调</c>


433
00:22:40,627 --> 00:22:42,596
<c.magenta>我们将会更多的说到</c>
<c.magenta>这些回调</c>


434
00:22:42,663 --> 00:22:44,865
<c.magenta>以及你的应用</c>
<c.magenta>如何处理它们</c>


435
00:22:44,932 --> 00:22:46,200
<c.magenta>在我们讲座的第二部分中</c>


436
00:22:46,300 --> 00:22:49,002
<c.magenta>现在让我们来删掉这些函数</c>


437
00:22:49,903 --> 00:22:54,875
<c.magenta>我将要选择他们</c>
<c.magenta>并点击“删除”</c>


438
00:22:55,576 --> 00:22:58,579
<c.magenta>很棒 现在我们看看</c>
<c.magenta>短信息框架</c>


439
00:22:59,346 --> 00:23:03,250
<c.magenta>如果我们点击这里就会有一个</c>
<c.magenta>MSStickerBrowserViewController</c>


440
00:23:03,483 --> 00:23:05,219
<c.magenta>MSStickerBrowseViewController</c>


441
00:23:05,285 --> 00:23:06,987
<c.magenta>将允许我们展示贴图</c>


442
00:23:07,287 --> 00:23:08,655
<c.magenta>它有两个属性</c>


443
00:23:08,956 --> 00:23:10,924
<c.magenta>它有一个MSStickerBrowserView</c>


444
00:23:10,991 --> 00:23:13,527
<c.magenta>这是用于展示</c>
<c.magenta>贴图的视图</c>


445
00:23:13,594 --> 00:23:17,664
<c.magenta>它还有一个MSStickerSize</c>
<c.magenta>来决定展示单元格的尺寸</c>


446
00:23:17,731 --> 00:23:20,701
<c.magenta>在我们MSStickerBrowserView的网格中</c>


447
00:23:21,101 --> 00:23:24,171
<c.magenta>我们还可以看到</c>
<c.magenta>MSStickerBrowserViewController</c>


448
00:23:24,238 --> 00:23:27,474
<c.magenta>符合MSStickerBrowserView</c>
<c.magenta>DataSource协议</c>


449
00:23:27,774 --> 00:23:30,744
<c.magenta>这个协议被实现时</c>
<c.magenta>会返回一个数字</c>


450
00:23:30,811 --> 00:23:33,046
<c.magenta>也就是应用正在</c>
<c.magenta>展示的贴图的数字</c>


451
00:23:33,113 --> 00:23:36,884
<c.magenta>和与给定数字对应的贴图</c>
<c.magenta>提供给MSStickerBrowserView</c>


452
00:23:37,217 --> 00:23:38,685
<c.magenta>所以为了展示我们的贴图</c>


453
00:23:38,752 --> 00:23:41,522
<c.magenta>我们需要创建</c>
<c.magenta>一个MSStickerBrowserViewController</c>


454
00:23:41,588 --> 00:23:44,791
<c.magenta>为了实现数据源</c>
<c.magenta>我们将要写一个子类</c>


455
00:23:45,025 --> 00:23:47,861
<c.magenta>所以我现在要</c>
<c.magenta>创建一个新文件</c>


456
00:23:49,897 --> 00:23:52,432
<c.magenta>我要选择Swift</c>
<c.magenta>并点击“下一步”</c>


457
00:23:52,866 --> 00:23:58,172
<c.magenta>我将把它命名为</c>
<c.magenta>NatureStickerBrowserViewController</c>


458
00:24:01,341 --> 00:24:04,278
<c.magenta>太棒了 现在我要</c>
<c.magenta>导入UIKit</c>


459
00:24:06,480 --> 00:24:09,216
<c.magenta>然后我要</c>
<c.magenta>导入短信息</c>


460
00:24:10,217 --> 00:24:13,220
<c.magenta>太棒了 现在让我们创建我们的类</c>


461
00:24:13,887 --> 00:24:15,889
<c.magenta>我将要创建</c>


462
00:24:15,956 --> 00:24:18,425
<c.magenta>我们的NatureStickerBrowser</c>
<c.magenta>ViewController类</c>


463
00:24:18,492 --> 00:24:21,228
<c.magenta>作为MSStickerBrowserViewController</c>
<c.magenta>的子类</c>


464
00:24:21,562 --> 00:24:24,264
<c.magenta>如我刚才所提到的</c>
<c.magenta>MSStickerBrowserViewController</c>


465
00:24:24,364 --> 00:24:26,767
<c.magenta>有两个数据源方法</c>
<c.magenta>我们需要实现它们</c>


466
00:24:26,834 --> 00:24:29,069
<c.magenta>所以我要填充它们</c>


467
00:24:30,504 --> 00:24:31,538
<c.magenta>我们需要一个方法</c>


468
00:24:31,605 --> 00:24:33,373
<c.magenta>来创建我们的贴图并存储</c>


469
00:24:33,740 --> 00:24:37,444
<c.magenta>我将要创建</c>
<c.magenta>一个队列来持有我们的贴图</c>


470
00:24:38,879 --> 00:24:42,416
<c.magenta>然后我们将看到</c>
<c.magenta>我们的贴图在MSSticker中</c>


471
00:24:42,482 --> 00:24:45,619
<c.magenta>MSSticker是一个对象</c>
<c.magenta>它持有一个文件URL</c>


472
00:24:45,686 --> 00:24:47,321
<c.magenta>指向一个磁盘上的资源</c>


473
00:24:47,654 --> 00:24:49,823
<c.magenta>它还将有一个局部的描述</c>


474
00:24:49,890 --> 00:24:51,758
<c.magenta>用于限制可访问性</c>


475
00:24:52,492 --> 00:24:54,328
<c.magenta>现在让我们创建一个贴图</c>


476
00:24:55,229 --> 00:24:58,298
<c.magenta>我将直接</c>
<c.magenta>添加资源进bundle包</c>


477
00:24:58,599 --> 00:25:02,569
<c.magenta>我现在要点击Add Files</c>
<c.magenta>并进入我的桌面</c>


478
00:25:03,203 --> 00:25:06,139
<c.magenta>并选择这里的资源</c>


479
00:25:07,407 --> 00:25:09,243
<c.magenta>我将它们添加到了我的应用中</c>


480
00:25:09,510 --> 00:25:12,212
<c.magenta>在这个例子中</c>
<c.magenta>我们只是添加资源进了我们的应用</c>


481
00:25:12,279 --> 00:25:16,183
<c.magenta>但你可以想象你的应用</c>
<c.magenta>既不能从你的服务器获取这些资源</c>


482
00:25:16,250 --> 00:25:18,418
<c.magenta>也不能允许你的用户</c>
<c.magenta>在设备上创建</c>


483
00:25:18,785 --> 00:25:20,787
<c.magenta>所以现在我们需要创建一个贴图</c>


484
00:25:22,789 --> 00:25:24,892
<c.magenta>我们要写一个函数来实现这个目的</c>


485
00:25:25,859 --> 00:25:28,929
<c.magenta>太棒了 现在我们使用Bundle</c>


486
00:25:28,996 --> 00:25:31,932
<c.magenta>我们创建一个文件URL</c>
<c.magenta>指向磁盘上我们的资源</c>


487
00:25:31,999 --> 00:25:34,034
<c.magenta>然后初始化我们的MSSticker</c>


488
00:25:34,101 --> 00:25:36,870
<c.magenta>并提供一个局部化描述</c>
<c.magenta>然后添加到我们的数列中</c>


489
00:25:37,171 --> 00:25:40,407
<c.magenta>所以现在让我们写一个函数</c>
<c.magenta>它会加载所有的贴图</c>


490
00:25:43,544 --> 00:25:47,114
<c.magenta>酷 我们可以回到</c>
<c.magenta>MessagesViewController</c>


491
00:25:47,981 --> 00:25:49,850
<c.magenta>并创建一个实例</c>


492
00:25:51,585 --> 00:25:53,820
<c.magenta>我们将要创建一个NatureStickerBrowser</c>


493
00:25:53,887 --> 00:25:57,791
<c.magenta>ViewController将其</c>
<c.magenta>实例化并调用viewDidLoad</c>


494
00:26:01,061 --> 00:26:04,898 line:1
<c.magenta>太棒了 我们实例化了</c>
<c.magenta>browserViewController</c>


495
00:26:04,965 --> 00:26:06,400 line:1
<c.magenta>并提供了一个贴图尺寸</c>


496
00:26:06,466 --> 00:26:09,236 line:1
<c.magenta>这将允许你的应用</c>
<c.magenta>来显示你的贴图</c>


497
00:26:09,303 --> 00:26:11,371
<c.magenta>在我们刚才所展示的</c>
<c.magenta>网格布局中</c>


498
00:26:11,738 --> 00:26:16,276
<c.magenta>这个应用会创建一个贴图应用就像刚才</c>
<c.magenta>使用Xcode没写代码创建的一样</c>


499
00:26:16,376 --> 00:26:18,212
<c.magenta>现在让我们继续定制它</c>


500
00:26:18,345 --> 00:26:21,415
<c.magenta>我要写一个函数</c>
<c.magenta>它将改变背景颜色</c>


501
00:26:21,481 --> 00:26:23,217
<c.magenta>也就是MSStickerBrowserView的背景颜色</c>


502
00:26:24,451 --> 00:26:26,386
<c.magenta>所以我们要在这里写这个函数</c>


503
00:26:26,820 --> 00:26:29,790
<c.magenta>我们只是要改变背景颜色</c>


504
00:26:30,123 --> 00:26:32,693
<c.magenta>我将回到</c>
<c.magenta>MessagesViewController</c>


505
00:26:32,759 --> 00:26:33,627
<c.magenta>并调用它</c>


506
00:26:36,797 --> 00:26:39,766
<c.magenta>所以现在我们可以改变背景</c>


507
00:26:39,967 --> 00:26:42,636
<c.magenta>让我们继续</c>
<c.magenta>运行一下我们的应用</c>


508
00:26:44,238 --> 00:26:46,139
<c.magenta>我要选择iPhone 6s</c>


509
00:26:46,573 --> 00:26:47,774
<c.magenta>我要点击“运行”</c>


510
00:26:52,513 --> 00:26:56,083
<c.magenta>唉 我忘记了 我们没有</c>
<c.magenta>实现我们的数据源</c>


511
00:26:56,350 --> 00:26:57,651
<c.magenta>所以我们现在要做这件事</c>


512
00:26:58,452 --> 00:27:02,890 line:1
<c.magenta>我要返回</c>
<c.magenta>贴图的数字并</c>


513
00:27:02,956 --> 00:27:07,194 line:1
<c.magenta>返回一个贴图</c>
<c.magenta>与给定数字对应</c>


514
00:27:07,828 --> 00:27:09,229 line:1
<c.magenta>现在我们准备好运行了</c>


515
00:27:11,265 --> 00:27:13,834
<c.magenta>我要选择Message应用</c>
<c.magenta>用于运行应用</c>


516
00:27:20,641 --> 00:27:23,343 line:1
<c.magenta>太棒了 现在我们可以</c>
<c.magenta>打开App Drawer</c>


517
00:27:25,646 --> 00:27:26,580
<c.magenta>然后</c>


518
00:27:26,880 --> 00:27:29,449
<c.magenta>你看 我们没有一个图标</c>
<c.magenta>因为我们忘记添加了</c>


519
00:27:29,516 --> 00:27:32,352
<c.magenta>我们也将看到</c>
<c.magenta>应用叫Messages Extension</c>


520
00:27:32,553 --> 00:27:34,521
<c.magenta>为了改变</c>
<c.magenta>展示的名称</c>


521
00:27:34,588 --> 00:27:36,356
<c.magenta>我们需要进入我们的项目</c>


522
00:27:36,423 --> 00:27:39,960
<c.magenta>点击Messages Extension Target</c>
<c.magenta>然后可以在这里修改</c>


523
00:27:42,796 --> 00:27:45,599
<c.magenta>现在我们只需看看</c>
<c.magenta>我们的应用是什么样子</c>


524
00:27:49,136 --> 00:27:52,306
<c.magenta>你可以看到我们有</c>
<c.magenta>一个应用能提供贴图</c>


525
00:27:52,372 --> 00:27:53,574
<c.magenta>在粉红背景色</c>


526
00:27:54,007 --> 00:27:55,275
<c.magenta>这就是一个小例子了</c>


527
00:27:55,342 --> 00:27:57,711
<c.magenta>有关你如何定制</c>
<c.magenta>你的贴图应用</c>


528
00:27:57,911 --> 00:27:59,379
<c.magenta>现在让我们回到幻灯片</c>


529
00:27:59,813 --> 00:28:01,481
<c.magenta>来重述一下我们刚才所讲的</c>


530
00:28:01,982 --> 00:28:05,185
<c.magenta>我们介绍了</c>
<c.magenta>MSStickerBrowserViewController</c>


531
00:28:05,252 --> 00:28:07,221
<c.magenta>这个ViewController</c>
<c.magenta>将展示贴图</c>


532
00:28:07,287 --> 00:28:10,591
<c.magenta>在你的应用中</c>
<c.magenta>使用MSStickerBrowserView</c>


533
00:28:10,924 --> 00:28:12,860 line:1
<c.magenta>这个控制器遵守</c>


534
00:28:12,926 --> 00:28:15,462 line:1
<c.magenta>MSStickerBrowserViewDataSource协议</c>


535
00:28:15,929 --> 00:28:17,698 line:1
<c.magenta>这个协议会返回一个数字</c>


536
00:28:17,764 --> 00:28:20,067 line:1
<c.magenta>与你的应用将要展示</c>
<c.magenta>的贴图相对应</c>


537
00:28:20,133 --> 00:28:21,201 line:1
<c.magenta>以及给定的贴图</c>


538
00:28:21,268 --> 00:28:24,404 line:1
<c.magenta>我们还介绍了</c>
<c.magenta>MSMessagesAppViewController</c>


539
00:28:24,705 --> 00:28:28,075 line:1
<c.magenta>这个ViewController</c>
<c.magenta>是你的主要类将要继承的类</c>


540
00:28:28,375 --> 00:28:31,144 line:1
<c.magenta>这个MSMessagesAppViewController</c>
<c.magenta>处理回调</c>


541
00:28:31,211 --> 00:28:32,779 line:1
<c.magenta>来自Messages应用</c>


542
00:28:32,846 --> 00:28:34,848 line:1
<c.magenta>我们将分享更多的内容 在第二部分中</c>


543
00:28:34,915 --> 00:28:37,217 line:1
<c.magenta>以及你的应用如何</c>
<c.magenta>能处理这些回调</c>


544
00:28:37,651 --> 00:28:40,888
<c.magenta>这就是一个小例子</c>
<c.magenta>展示了如何定制一个贴图应用</c>


545
00:28:40,954 --> 00:28:44,224
<c.magenta>它只是改变了背景颜色</c>
<c.magenta>如果我们还想进行更多的改变呢？</c>


546
00:28:45,392 --> 00:28:49,930
<c.magenta>你的应用可以添加贴图</c>
<c.magenta>支持通过使用两个类</c>


547
00:28:49,997 --> 00:28:52,232
<c.magenta>MSStickerView</c>
<c.magenta>和MSSticker</c>


548
00:28:52,866 --> 00:28:55,602
<c.magenta>所以如果我们想创建一个应用</c>
<c.magenta>能展示贴图</c>


549
00:28:55,669 --> 00:28:58,872
<c.magenta>以一种与MSStickerBrowserViewController</c>
<c.magenta>不同的方法</c>


550
00:28:58,939 --> 00:29:02,042
<c.magenta>我们就可以通过</c>
<c.magenta>使用这两个类来完成</c>


551
00:29:02,409 --> 00:29:05,479
<c.magenta>在这个例子中</c>
<c.magenta>我有一个应用</c>


552
00:29:05,546 --> 00:29:09,116
<c.magenta>这个应用实际上就在使用</c>
<c.magenta>UICollectionViewController</c>


553
00:29:09,183 --> 00:29:10,384
<c.magenta>来展示贴图</c>


554
00:29:10,884 --> 00:29:14,688
<c.magenta>每一个UICollectionView的单元格</c>
<c.magenta>都有一个MSStickerView</c>


555
00:29:14,755 --> 00:29:17,691
<c.magenta>MSStickerView这个类</c>
<c.magenta>将能提供</c>


556
00:29:17,758 --> 00:29:19,826
<c.magenta>贴图的拖拽释放功能</c>


557
00:29:19,893 --> 00:29:21,395
<c.magenta>进入短信息文本中</c>


558
00:29:22,095 --> 00:29:24,431
<c.magenta>我们还可以看到</c>
<c.magenta>这里有一个Plus图标</c>


559
00:29:24,498 --> 00:29:26,333
<c.magenta>它并没MSStickerView</c>


560
00:29:26,400 --> 00:29:28,735
<c.magenta>点击它就会扩展我们的应用</c>


561
00:29:28,902 --> 00:29:31,905
<c.magenta>允许我们选择一个贴图</c>
<c.magenta>并添加到我们的收藏中</c>


562
00:29:33,740 --> 00:29:35,209 line:1
<c.magenta>还有要注意我们可以</c>


563
00:29:35,275 --> 00:29:37,744 line:1
<c.magenta>改变我们的贴图的展示形式</c>


564
00:29:37,811 --> 00:29:39,580 line:1
<c.magenta>你的应用可以由</c>


565
00:29:39,646 --> 00:29:42,049 line:1
<c.magenta>紧凑模式进入到扩展模式</c>


566
00:29:42,316 --> 00:29:44,117 line:1
<c.magenta>你的用户可以切换</c>


567
00:29:44,184 --> 00:29:46,520 line:1
<c.magenta>通过点击</c>
<c.magenta>底部的人字形图案</c>


568
00:29:46,587 --> 00:29:49,022 line:1
<c.magenta>所以你的应用将</c>
<c.magenta>需要能处理</c>


569
00:29:49,089 --> 00:29:51,258 line:1
<c.magenta>处在紧凑模式</c>
<c.magenta>和扩展模式</c>


570
00:29:51,491 --> 00:29:53,627 line:1
<c.magenta>我将展示给大家</c>
<c.magenta>如何处理这些回调</c>


571
00:29:53,694 --> 00:29:55,462 line:1
<c.magenta>并创建一个这样的应用</c>


572
00:29:55,629 --> 00:29:57,097 line:1
<c.magenta>现在让我们进入另一个演示</c>


573
00:29:59,566 --> 00:30:01,935
<c.magenta>我将打开一个</c>
<c.magenta>我已经准备好的应用</c>


574
00:30:02,669 --> 00:30:04,171
<c.magenta>它叫Sticker Picker</c>


575
00:30:07,875 --> 00:30:09,376
<c.magenta>我们把它放大</c>


576
00:30:09,743 --> 00:30:12,412
<c.magenta>太棒了 我们现回到了</c>
<c.magenta>MessagesViewController</c>


577
00:30:12,546 --> 00:30:14,381
<c.magenta>再一次 这是我们的主要类</c>


578
00:30:14,448 --> 00:30:17,317
<c.magenta>它继承了</c>
<c.magenta>MSMessagesAppViewController</c>


579
00:30:17,885 --> 00:30:19,820
<c.magenta>我们展示了两个视图</c>


580
00:30:19,887 --> 00:30:22,422
<c.magenta>UICollectionView</c>
<c.magenta>它持有MSStickerViews</c>


581
00:30:22,489 --> 00:30:26,193
<c.magenta>我们还有一个视图</c>
<c.magenta>来添加贴图进入我们的应用</c>


582
00:30:26,260 --> 00:30:28,161
<c.magenta>这两个视图</c>
<c.magenta>将表现在</c>


583
00:30:28,228 --> 00:30:30,430
<c.magenta>一个StickerPickerCollection</c>
<c.magenta>ViewController中</c>


584
00:30:30,564 --> 00:30:32,499
<c.magenta>以及在一个AddStickersViewController中</c>


585
00:30:33,133 --> 00:30:36,336
<c.magenta>现在让我们看一看</c>
<c.magenta>StickerPickerCollectionViewController</c>


586
00:30:37,271 --> 00:30:39,439
<c.magenta>StickerPickerCollectionViewController</c>


587
00:30:40,007 --> 00:30:42,910
<c.magenta>继承了UICollectionViewController</c>


588
00:30:43,143 --> 00:30:45,479
<c.magenta>我们将操作的Item称作</c>
<c.magenta>CollectionViewItem</c>


589
00:30:45,712 --> 00:30:48,649
<c.magenta>它还可以是</c>
<c.magenta>AddSticker Item</c>


590
00:30:48,715 --> 00:30:49,983
<c.magenta>或者可以是一个贴图</c>


591
00:30:50,117 --> 00:30:52,219
<c.magenta>现在让我们继续</c>
<c.magenta>看看贴图单元格</c>


592
00:30:53,053 --> 00:30:55,422
<c.magenta>贴图单元格中有一个</c>
<c.magenta>MSStickerView</c>


593
00:30:55,789 --> 00:30:58,759
<c.magenta>MSStickerView</c>
<c.magenta>将有一个贴图</c>


594
00:30:59,693 --> 00:31:03,363
<c.magenta>并且 为了处理你的</c>
<c.magenta>动态贴图的动画</c>


595
00:31:03,430 --> 00:31:06,800
<c.magenta>我们需要调用</c>
<c.magenta>startAnimating和stopAnimating</c>


596
00:31:06,867 --> 00:31:09,036
<c.magenta>在我们展示</c>
<c.magenta>MSStickerView的时候</c>


597
00:31:09,870 --> 00:31:12,906
<c.magenta>所以我们回到</c>
<c.magenta>StickerPickerCollectionViewController</c>


598
00:31:14,808 --> 00:31:19,479
<c.magenta>很棒 当我们创建</c>
<c.magenta>ViewController时</c>


599
00:31:19,546 --> 00:31:21,348
<c.magenta>创建我们所有的Item</c>


600
00:31:21,782 --> 00:31:23,650
<c.magenta>我们将创建一个</c>
<c.magenta>AddStickerItem</c>


601
00:31:23,717 --> 00:31:26,753
<c.magenta>然后我们将加载所有的贴图</c>
<c.magenta>就像我们刚才所做的一样</c>


602
00:31:27,120 --> 00:31:29,590
<c.magenta>返回collectionView</c>
<c.magenta>中Item的数量</c>


603
00:31:29,957 --> 00:31:32,993
<c.magenta>然后我们要创建贴图单元格</c>
<c.magenta>或Add Sticker 单元格</c>


604
00:31:33,060 --> 00:31:34,995
<c.magenta>给一个Item与给定数字路径对应</c>


605
00:31:36,396 --> 00:31:38,799
<c.magenta>当创建贴图单元格时</c>
<c.magenta>我们想要</c>


606
00:31:38,866 --> 00:31:41,668
<c.magenta>赋予stickerView的贴图值</c>


607
00:31:41,735 --> 00:31:43,136
<c.magenta>我们就这样做了</c>


608
00:31:48,509 --> 00:31:51,211
<c.magenta>我们已经将一个贴图</c>
<c.magenta>放到了stickerView中</c>


609
00:31:51,712 --> 00:31:54,281
<c.magenta>并且 如我所提到的</c>
<c.magenta>我们的贴图可以是动态的</c>


610
00:31:54,381 --> 00:31:57,484
<c.magenta>我们将需要调用</c>
<c.magenta>启动动画和终止动画</c>


611
00:31:57,551 --> 00:31:59,253
<c.magenta>来控制这些动画</c>


612
00:31:59,353 --> 00:32:01,955
<c.magenta>当我们要展示</c>
<c.magenta>我们的贴图时我们想要</c>


613
00:32:02,022 --> 00:32:05,158
<c.magenta>调用startAnimating</c>
<c.magenta>我们再展示我们的贴图时</c>


614
00:32:05,225 --> 00:32:07,194
<c.magenta>我们将要调用</c>
<c.magenta>stopAnimating</c>


615
00:32:07,461 --> 00:32:08,929
<c.magenta>我们可以写一个函数来检查</c>


616
00:32:08,996 --> 00:32:10,931
<c.magenta>贴图是否是可动的</c>


617
00:32:11,098 --> 00:32:15,369
<c.magenta>通过加载图片文件URL</c>
<c.magenta>并通过CG图片源</c>


618
00:32:15,435 --> 00:32:17,137
<c.magenta>统计帧数</c>


619
00:32:17,204 --> 00:32:18,672
<c.magenta>如果有多于一帧</c>


620
00:32:18,739 --> 00:32:20,607
<c.magenta>那么我们就知道</c>
<c.magenta>这是一个动态贴图</c>


621
00:32:21,308 --> 00:32:23,610
<c.magenta>所以我们就要</c>
<c.magenta>实现这个方法</c>


622
00:32:24,778 --> 00:32:26,146
<c.magenta>我们将检查来看看</c>


623
00:32:26,213 --> 00:32:28,615
<c.magenta>我们的贴图单元格中的贴图是否动态</c>


624
00:32:28,682 --> 00:32:31,451
<c.magenta>如果是 那么我们</c>
<c.magenta>就调用startAnimating</c>


625
00:32:32,619 --> 00:32:34,555
<c.magenta>当我们结束展示单元格时</c>


626
00:32:36,423 --> 00:32:40,961
<c.magenta>我们就要检查</c>
<c.magenta>贴图是否在动 如果是</c>


627
00:32:41,028 --> 00:32:42,596
<c.magenta>我们就调用</c>
<c.magenta>stopAnimating</c>


628
00:32:43,497 --> 00:32:46,600
<c.magenta>太棒了 让我们回到</c>
<c.magenta>MessagesViewController</c>


629
00:32:47,668 --> 00:32:50,571
<c.magenta>我们将实例化</c>
<c.magenta>StickerPickerViewController</c>


630
00:32:50,637 --> 00:32:54,441
<c.magenta>因为我们需要在启动应用</c>
<c.magenta>时加载这个视图</c>


631
00:32:54,608 --> 00:32:57,377
<c.magenta>在viewDidLoad完成</c>
<c.magenta>这个操作 然后展示</c>


632
00:32:57,911 --> 00:33:00,180
<c.magenta>当用户点击Add图标时</c>


633
00:33:00,848 --> 00:33:03,283
<c.magenta>我们需要创建</c>
<c.magenta>AddStickersViewController</c>


634
00:33:03,584 --> 00:33:06,420
<c.magenta>然后我们就需要</c>
<c.magenta>转换到扩展模式</c>


635
00:33:06,486 --> 00:33:09,389
<c.magenta>我们可以通过调用</c>
<c.magenta>requestPresentationStyle来完成</c>


636
00:33:09,456 --> 00:33:11,391
<c.magenta>这会告诉Messages应用</c>


637
00:33:11,458 --> 00:33:13,760
<c.magenta>你的应用需要被扩展</c>


638
00:33:14,094 --> 00:33:16,396
<c.magenta>你会收到一个来自</c>
<c.magenta>Messages应用回调</c>


639
00:33:16,463 --> 00:33:18,165
<c.magenta>一旦你完成转换</c>


640
00:33:18,298 --> 00:33:22,135
<c.magenta>在didTransitiontopresentationStyle</c>
<c.magenta>中我们将收到回调</c>


641
00:33:22,336 --> 00:33:23,704
<c.magenta>我们需要先检查</c>


642
00:33:23,770 --> 00:33:25,806
<c.magenta>我们是否有AddStickersViewController</c>


643
00:33:25,873 --> 00:33:29,009
<c.magenta>如果是的话</c>
<c.magenta>我们的展示风格是扩展的</c>


644
00:33:29,076 --> 00:33:30,677
<c.magenta>我们就展示这个视图</c>


645
00:33:30,744 --> 00:33:34,047
<c.magenta>不然我们就展示另一个视图</c>
<c.magenta>用在紧凑模式下</c>


646
00:33:34,114 --> 00:33:37,084
<c.magenta>在我们选择一个贴图后</c>
<c.magenta>我们需要返回到紧凑模式</c>


647
00:33:37,150 --> 00:33:40,020
<c.magenta>所以我们要再一次调用</c>
<c.magenta>requestPresentationStyle</c>


648
00:33:40,087 --> 00:33:40,954
<c.magenta>.compact</c>


649
00:33:41,421 --> 00:33:44,625
<c.magenta>所以如果我们运行应用我们就可以</c>
<c.magenta>看到真实情况</c>


650
00:33:46,193 --> 00:33:48,295
<c.magenta>所以我现在要</c>
<c.magenta>选择Messages应用</c>


651
00:33:48,362 --> 00:33:50,030
<c.magenta>作为运行的应用</c>


652
00:33:53,333 --> 00:33:55,402 line:1
<c.magenta>然后我们要启动</c>


653
00:33:56,303 --> 00:33:58,238
<c.magenta>我将要点击App Drawer</c>


654
00:33:59,740 --> 00:34:02,075
<c.magenta>我们将要</c>
<c.magenta>点击Sticker Picker</c>


655
00:34:04,645 --> 00:34:05,812
<c.magenta>等待它加载好</c>


656
00:34:09,449 --> 00:34:13,085
<c.magenta>太棒了 现在我们可以</c>
<c.magenta>添加一个贴图</c>


657
00:34:14,655 --> 00:34:16,556
<c.magenta>我要选择这个很可爱的大熊猫</c>


658
00:34:17,558 --> 00:34:19,226
<c.magenta>我们可以看到它是动态的</c>


659
00:34:19,293 --> 00:34:20,761
<c.magenta>然后我们就可以发送贴图</c>


660
00:34:22,896 --> 00:34:25,899
<c.magenta>重述一下我们刚才</c>
<c.magenta>所讲的 我们首先介绍了</c>


661
00:34:25,966 --> 00:34:30,137
<c.magenta>展示了如何创建一个贴图应用</c>
<c.magenta>使用UICollectionView</c>


662
00:34:30,204 --> 00:34:32,639
<c.magenta>然后在每一个单元格中</c>
<c.magenta>UICollectionView中</c>


663
00:34:32,706 --> 00:34:34,507
<c.magenta>我们有个MSStickerView</c>


664
00:34:34,608 --> 00:34:37,643 line:1
<c.magenta>MSStickerView允许</c>
<c.magenta>我们拖拽释放贴图</c>


665
00:34:37,710 --> 00:34:40,514 line:1
<c.magenta>进入编辑文本中</c>
<c.magenta>它也有一个MSSticker</c>


666
00:34:41,614 --> 00:34:44,217 line:1
<c.magenta>我们还展示了如何你</c>
<c.magenta>可以从紧凑模式转换到</c>


667
00:34:44,284 --> 00:34:46,053 line:1
<c.magenta>扩展展示模式</c>


668
00:34:46,253 --> 00:34:48,856 line:1
<c.magenta>我们还展示了你如何</c>
<c.magenta>可以处理这些回调</c>


669
00:34:48,922 --> 00:34:50,357 line:1
<c.magenta>来自Messages 应用</c>


670
00:34:50,489 --> 00:34:54,527 line:1
<c.magenta>要记住你的用户可以通过</c>
<c.magenta>点击人字形图案来切换</c>


671
00:34:54,594 --> 00:34:57,231 line:1
<c.magenta>所以在设计应用时</c>
<c.magenta>记住这一点</c>


672
00:34:59,099 --> 00:35:01,768
<c.magenta>Bhaskar讲了我们使用的</c>
<c.magenta>贴图文件格式</c>


673
00:35:01,835 --> 00:35:03,971
<c.magenta>创建Sticker Pack应用时</c>


674
00:35:04,104 --> 00:35:07,941
<c.magenta>这些同样的文件格式</c>
<c.magenta>适用于创建一个定制贴图应用</c>


675
00:35:08,208 --> 00:35:10,010
<c.magenta>所以总结一下我们今天所讲的</c>


676
00:35:10,244 --> 00:35:14,147
<c.magenta>我们介绍了iMessage应用</c>
<c.magenta>作为一个平台提供给各位开发者</c>


677
00:35:14,648 --> 00:35:18,018
<c.magenta>这是一种新的与短信息</c>
<c.magenta>交互的方法 很有趣且令人激动</c>


678
00:35:18,485 --> 00:35:22,556
<c.magenta>我们还介绍了短信息框架以及如何创建</c>
<c.magenta>Sticker Pack应用</c>


679
00:35:22,623 --> 00:35:23,991
<c.magenta>通过短信息框架</c>


680
00:35:25,058 --> 00:35:27,461
<c.magenta>展示如何创建</c>
<c.magenta>Sticker Pack应用</c>


681
00:35:27,528 --> 00:35:29,296
<c.magenta>使用Xcode 不用写代码</c>


682
00:35:29,863 --> 00:35:33,834
<c.magenta>以及如何通过写程序</c>
<c.magenta>创建一个定制贴图应用</c>


683
00:35:34,434 --> 00:35:35,736
<c.magenta>在我们讲话的第二部分中</c>


684
00:35:35,802 --> 00:35:37,704
<c.magenta>我们将向大家展示如何创建一个应用</c>


685
00:35:37,771 --> 00:35:40,974
<c.magenta>能允许你的应用</c>
<c.magenta>发送可交互的短信息</c>


686
00:35:41,441 --> 00:35:43,710
<c.magenta>如需更多信息</c>
<c.magenta>请访问网站</c>


687
00:35:44,278 --> 00:35:46,880
<c.magenta>我们会有一个相关会话</c>
<c.magenta>依旧在Presidio</c>


688
00:35:46,947 --> 00:35:48,649
<c.magenta>周四下午1:40</c>


689
00:35:48,916 --> 00:35:49,950
<c.magenta>很感谢大家</c>


690
00:35:50,217 --> 00:35:53,320
<c.magenta>我们等不及看到你们的创造</c>
<c.magenta>请一定要来我们的实验室</c>


691
00:35:53,387 --> 00:35:54,521
<c.magenta>接下来的会议过得愉快</c>

